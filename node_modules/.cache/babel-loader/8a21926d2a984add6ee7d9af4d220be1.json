{"ast":null,"code":"import _defineProperty from \"/Users/beccashapiro/Documents/github/John-Grady-Cole/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/beccashapiro/Documents/github/John-Grady-Cole/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/beccashapiro/Documents/github/John-Grady-Cole/src/components/ContactForm/index.jsx\";\nimport React, { useState } from 'react';\nimport env from 'react-dotenv';\nimport emailjs from 'emailjs-com';\nimport { BlogEntry, blogConverter } from '../../blog-entry';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport { getDatabase } from 'firebase/database';\nimport { doc, setDoc, Timestamp } from \"firebase/firestore\";\n/*\nconst db = getDatabase();\nconst serviceId = env.REACT_APP_EMAILJS_SERVICE_ID;\nconst templateId = env.REACT_APP_EMAILJS_TEMPLATE_ID;\nconst userId = env.REACT_APP_EMAILJS_PUBLIC_KEY;\nconst fakeImgURL = '../../public/assets/img/heads/heads-1.png';\nconst date = '00/00/00'\n*/\n\nvar ContactForm = function ContactForm() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      message = _useState6[0],\n      setMessage = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      emailSent = _useState8[0],\n      setEmailSent = _useState8[1];\n\n  var db = getDatabase();\n  var serviceId = env.REACT_APP_EMAILJS_SERVICE_ID;\n  var templateId = env.REACT_APP_EMAILJS_TEMPLATE_ID;\n  var userId = env.REACT_APP_EMAILJS_PUBLIC_KEY;\n  var fakeImgURL = '../../public/assets/img/heads/heads-1.png';\n  var date = '00/00/00';\n  /*\n  const submit = () => {\n    if (name && email && message) {\n      const templateParams = {\n        name,\n        email,\n        message\n      };\n      emailjs.send(serviceId, templateId, templateParams, userId)\n        .then(response => console.log(response))\n        .then(error => console.log(error));\n       setName('');\n      setEmail('');\n      setMessage('');\n      setEmailSent(true);\n    } else {\n      alert('Please fill in all fields.');\n    }\n  }\n  */\n\n  var submit = function submit() {\n    if (name && email && message) {\n      var _templateParams;\n\n      var timestamp = Timestamp();\n      var templateParams = (_templateParams = {\n        name: name,\n        // author\n        message: message,\n        // content\n        fakeImgURL: fakeImgURL,\n        // cover_img\n        date: date,\n        // date\n        email: email\n      }, _defineProperty(_templateParams, \"name\", name), _defineProperty(_templateParams, \"timestamp\", timestamp), _templateParams); // Set with cityConverter\n\n      var ref = doc(db, \"articles\").withConverter(blogConverter);\n      setDoc(ref, new BlogEntry(name, // author\n      message, // content\n      fakeImgURL, // cover_img\n      date, // date\n      email, // subtitle\n      name, // title\n      timestamp));\n      emailjs.send(serviceId, templateId, templateParams, userId).then(function (response) {\n        return console.log(response);\n      }).then(function (error) {\n        return console.log(error);\n      });\n      setName('');\n      setEmail('');\n      setMessage('');\n      setEmailSent(true);\n    } else {\n      alert('Please fill in all fields.');\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"contact-form contact-form-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Your Name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Your email address\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(\"textarea\", {\n    placeholder: \"Your message\",\n    value: message,\n    onChange: function onChange(e) {\n      return setMessage(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Send\"), React.createElement(\"span\", {\n    className: emailSent ? 'visible' : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Thank you for your message, we will be in touch in no time!\"));\n};\n\nexport default ContactForm;","map":{"version":3,"names":["React","useState","env","emailjs","BlogEntry","blogConverter","firebase","getDatabase","doc","setDoc","Timestamp","ContactForm","name","setName","email","setEmail","message","setMessage","emailSent","setEmailSent","db","serviceId","REACT_APP_EMAILJS_SERVICE_ID","templateId","REACT_APP_EMAILJS_TEMPLATE_ID","userId","REACT_APP_EMAILJS_PUBLIC_KEY","fakeImgURL","date","submit","timestamp","templateParams","ref","withConverter","send","then","response","console","log","error","alert","e","target","value"],"sources":["/Users/beccashapiro/Documents/github/John-Grady-Cole/src/components/ContactForm/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport env from 'react-dotenv';\nimport emailjs from 'emailjs-com';\nimport { BlogEntry, blogConverter } from '../../blog-entry';\nimport firebase from \"firebase/compat/app\"\nimport \"firebase/compat/auth\"\nimport \"firebase/compat/firestore\"\nimport { getDatabase } from 'firebase/database'\nimport { doc, setDoc, Timestamp } from \"firebase/firestore\";\n\n/*\nconst db = getDatabase();\nconst serviceId = env.REACT_APP_EMAILJS_SERVICE_ID;\nconst templateId = env.REACT_APP_EMAILJS_TEMPLATE_ID;\nconst userId = env.REACT_APP_EMAILJS_PUBLIC_KEY;\nconst fakeImgURL = '../../public/assets/img/heads/heads-1.png';\nconst date = '00/00/00'\n*/\n\nconst ContactForm = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [emailSent, setEmailSent] = useState(false);\n\n  const db = getDatabase();\n  const serviceId = env.REACT_APP_EMAILJS_SERVICE_ID;\n  const templateId = env.REACT_APP_EMAILJS_TEMPLATE_ID;\n  const userId = env.REACT_APP_EMAILJS_PUBLIC_KEY;\n  const fakeImgURL = '../../public/assets/img/heads/heads-1.png';\n  const date = '00/00/00'\n\n  /*\n  const submit = () => {\n    if (name && email && message) {\n      const templateParams = {\n        name,\n        email,\n        message\n      };\n      emailjs.send(serviceId, templateId, templateParams, userId)\n        .then(response => console.log(response))\n        .then(error => console.log(error));\n\n      setName('');\n      setEmail('');\n      setMessage('');\n      setEmailSent(true);\n    } else {\n      alert('Please fill in all fields.');\n    }\n  }\n  */\n\n  const submit = () => {\n    if (name && email && message) {\n      const timestamp = Timestamp();\n      const templateParams = {\n        name, // author\n        message, // content\n        fakeImgURL, // cover_img\n        date, // date\n        email, // subtitle\n        name, // title\n        timestamp, // timestamp\n      };\n      // Set with cityConverter\n      const ref = doc(db, \"articles\").withConverter(blogConverter);\n      setDoc(ref, new BlogEntry(\n        name, // author\n        message, // content\n        fakeImgURL, // cover_img\n        date, // date\n        email, // subtitle\n        name, // title\n        timestamp, // timestamp\n      ));\n      emailjs.send(serviceId, templateId, templateParams, userId)\n        .then(response => console.log(response))\n        .then(error => console.log(error));\n\n      setName('');\n      setEmail('');\n      setMessage('');\n      setEmailSent(true);\n    } else {\n      alert('Please fill in all fields.');\n    }\n  }\n\n  return (\n    <div className=\"contact-form contact-form-form\">\n      <input type=\"text\" placeholder=\"Your Name\" value={name} onChange={e => setName(e.target.value)} />\n      <input type=\"email\" placeholder=\"Your email address\" value={email} onChange={e => setEmail(e.target.value)} />\n      <textarea placeholder=\"Your message\" value={message} onChange={e => setMessage(e.target.value)}></textarea>\n      <button onClick={submit}>Send</button>\n\n      <span className={emailSent ? 'visible' : null}>Thank you for your message, we will be in touch in no time!</span>\n    </div>\n  );\n};\n\nexport default ContactForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}