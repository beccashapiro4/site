(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){e.exports=n(76)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(69)},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w}),n.d(t,"b",function(){return U}),n.d(t,"c",function(){return F}),n.d(t,"d",function(){return te}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return b}),n.d(t,"i",function(){return m}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return K}),n.d(t,"l",function(){return O}),n.d(t,"m",function(){return ne}),n.d(t,"n",function(){return _}),n.d(t,"o",function(){return Z}),n.d(t,"p",function(){return k}),n.d(t,"q",function(){return ae}),n.d(t,"r",function(){return ee}),n.d(t,"s",function(){return ue}),n.d(t,"t",function(){return x}),n.d(t,"u",function(){return W}),n.d(t,"v",function(){return E}),n.d(t,"w",function(){return I}),n.d(t,"x",function(){return C}),n.d(t,"y",function(){return Y}),n.d(t,"z",function(){return A}),n.d(t,"A",function(){return D}),n.d(t,"B",function(){return T}),n.d(t,"C",function(){return S}),n.d(t,"D",function(){return R}),n.d(t,"E",function(){return j}),n.d(t,"F",function(){return N}),n.d(t,"G",function(){return P}),n.d(t,"H",function(){return H}),n.d(t,"I",function(){return B}),n.d(t,"J",function(){return $}),n.d(t,"K",function(){return X}),n.d(t,"L",function(){return J}),n.d(t,"M",function(){return G}),n.d(t,"N",function(){return se}),n.d(t,"O",function(){return oe}),n.d(t,"P",function(){return z}),n.d(t,"Q",function(){return M});var r=n(15),i=n(9),a=n(7),o=n(10),s=n(21),u=n(67),c=n(8),l=n(1),h=n(4),f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},d=function(e,t){if(!e)throw p(t)},p=function(e){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},v=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(v(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},m=function(e){var t=v(e);return y.encodeByteArray(t,!0)},g=function(e){return m(e).replace(/\./g,"")},b=function(e){try{return y.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _(e){return k(void 0,e)}function k(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=k(e[n],t[n]));return e}var w=function(){function e(){var t=this;Object(l.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(h.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function O(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[g(JSON.stringify({alg:"none",type:"JWT"})),g(JSON.stringify(a)),""].join(".")}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function S(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function E(){return"object"===("undefined"===typeof self?"undefined":Object(c.a)(self))&&self.self===self}function I(){var e="object"===("undefined"===typeof chrome?"undefined":Object(c.a)(chrome))?chrome.runtime:"object"===("undefined"===typeof browser?"undefined":Object(c.a)(browser))?browser.runtime:void 0;return"object"===Object(c.a)(e)&&void 0!==e.id}function j(){return"object"===("undefined"===typeof navigator?"undefined":Object(c.a)(navigator))&&"ReactNative"===navigator.product}function C(){return x().indexOf("Electron/")>=0}function A(){var e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P(){return x().indexOf("MSAppHost/")>=0}function R(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function N(){return!S()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){return"object"===("undefined"===typeof indexedDB?"undefined":Object(c.a)(indexedDB))}function M(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}var L="FirebaseError",F=function(e){function t(e,n,r){var o;return Object(l.a)(this,t),(o=Object(i.a)(this,Object(a.a)(t).call(this,n))).code=e,o.customData=r,o.name=L,Object.setPrototypeOf(Object(s.a)(Object(s.a)(o)),t.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(s.a)(Object(s.a)(o)),U.prototype.create),o}return Object(o.a)(t,e),t}(Object(u.a)(Error)),U=function(){function e(t,n,r){Object(l.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(h.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(V,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new F(n,a,t)}}]),e}();var V=/\{\$([^}]+)}/g;function B(e){return JSON.parse(e)}function z(e){return JSON.stringify(e)}var q=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=B(b(a[0])||""),n=B(b(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},H=function(e){var t=q(e).claims;return!!t&&"object"===Object(c.a)(t)&&t.hasOwnProperty("iat")},W=function(e){var t=q(e).claims;return"object"===Object(c.a)(t)&&!0===t.admin};function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Y(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Z(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0;i<n.length;i++){var a=n[i];if(!r.includes(a))return!1;var o=e[a],s=t[a];if(Q(o)&&Q(s)){if(!Z(o,s))return!1}else if(o!==s)return!1}for(var u=0;u<r.length;u++){var c=r[u];if(!n.includes(c))return!1}return!0}function Q(e){return null!==e&&"object"===Object(c.a)(e)}function X(e){for(var t=[],n=Object.entries(e),i=function(){var e=Object(r.a)(n[a],2),i=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))},a=0;a<n.length;a++)i();return t.length?"&"+t.join("&"):""}function J(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),i=Object(r.a)(n,2),a=i[0],o=i[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function ee(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var te=function(){function e(){Object(l.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(h.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ne(e,t){var n=new re(e,t);return n.subscribe.bind(n)}var re=function(){function e(t,n){var r=this;Object(l.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return Object(h.a)(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==Object(c.a)(e)||null===e)return!1;var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(s in e&&"function"===typeof e[s])return!0}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ie),void 0===r.error&&(r.error=ie),void 0===r.complete&&(r.complete=ie);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function ie(){}function ae(e,t){return"".concat(e," failed: ").concat(t," argument ")}var oe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;d(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ue(e){return e&&e._delegate?e._delegate:e}}).call(this,n(31))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(8),i=n(21);function a(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(29);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";var r=n(38),i=n(40),a=n(39);var o=n(0),s=n.n(o),u=n(1),c=n(4),l=n(9),h=n(7),f=n(19),d=n(10),p=n(5),v=n(8),y=n(21),m=n(15),g=n(16),b=n(6),_=n(3),k=n(13);function w(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var O,x=n(17),T=n(18),S={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},E={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function I(){return Object(b.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var j=function(){var e;return e={},Object(b.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(b.a)(e,"argument-error",""),Object(b.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(b.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(b.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(b.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(b.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(b.a)(e,"cors-unsupported","This browser is not supported."),Object(b.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(b.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(b.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(b.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(b.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(b.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(b.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(b.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(b.a)(e,"expired-action-code","The action code has expired."),Object(b.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(b.a)(e,"internal-error","An internal AuthError has occurred."),Object(b.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(b.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(b.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(b.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(b.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(b.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(b.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(b.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(b.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(b.a)(e,"invalid-email","The email address is badly formatted."),Object(b.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(b.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(b.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(b.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(b.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(b.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(b.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(b.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(b.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(b.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(b.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(b.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(b.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(b.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(b.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(b.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(b.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(b.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(b.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(b.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(b.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(b.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(b.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(b.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(b.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(b.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(b.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(b.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(b.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(b.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(b.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(b.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(b.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(b.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(b.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(b.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(b.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(b.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(b.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(b.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(b.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(b.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(b.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(b.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(b.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(b.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(b.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(b.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(b.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(b.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(b.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(b.a)(e,"timeout","The operation has timed out."),Object(b.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(b.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(b.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(b.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(b.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(b.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(b.a)(e,"unverified-email","The operation requires a verified email."),Object(b.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(b.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(b.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(b.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(b.a)(e,"user-signed-out",""),Object(b.a)(e,"weak-password","The password must be 6 characters long or more."),Object(b.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(b.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},C=I,A=new _.b("auth","Firebase",I()),P=new x.b("@firebase/auth");function R(e){if(P.logLevel<=x.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];P.error.apply(P,["Auth (".concat(k.SDK_VERSION,"): ").concat(e)].concat(n))}}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw F.apply(void 0,[e].concat(n))}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F.apply(void 0,[e].concat(n))}function M(e,t,n){var r=Object.assign(Object.assign({},C()),Object(b.a)({},t,n));return new _.b("auth","Firebase",r).create(t,{appName:e.name})}function L(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&N(e,"argument-error"),M(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(g.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(g.a)(o)))}return A.create.apply(A,[e].concat(n))}function U(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw F.apply(void 0,[t].concat(r))}}function V(e){var t="INTERNAL ASSERTION FAILED: "+e;throw R(t),new Error(t)}function B(e,t){e||V(t)}var z=new Map;function q(e){B(e instanceof Function,"Expected a class definition");var t=z.get(e);return t?(B(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,z.set(e,t),t)}function H(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function W(){return"http:"===K()||"https:"===K()}function K(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var G=function(){function e(t,n){Object(u.a)(this,e),this.shortDelay=t,this.longDelay=n,B(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(_.B)()||Object(_.E)()}return Object(c.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(W()||Object(_.w)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Y(e,t){B(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Z=(O={},Object(b.a)(O,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(b.a)(O,"MISSING_CUSTOM_TOKEN","internal-error"),Object(b.a)(O,"INVALID_IDENTIFIER","invalid-email"),Object(b.a)(O,"MISSING_CONTINUE_URI","internal-error"),Object(b.a)(O,"INVALID_PASSWORD","wrong-password"),Object(b.a)(O,"MISSING_PASSWORD","internal-error"),Object(b.a)(O,"EMAIL_EXISTS","email-already-in-use"),Object(b.a)(O,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(b.a)(O,"INVALID_IDP_RESPONSE","invalid-credential"),Object(b.a)(O,"INVALID_PENDING_TOKEN","invalid-credential"),Object(b.a)(O,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(b.a)(O,"MISSING_REQ_TYPE","internal-error"),Object(b.a)(O,"EMAIL_NOT_FOUND","user-not-found"),Object(b.a)(O,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(b.a)(O,"EXPIRED_OOB_CODE","expired-action-code"),Object(b.a)(O,"INVALID_OOB_CODE","invalid-action-code"),Object(b.a)(O,"MISSING_OOB_CODE","internal-error"),Object(b.a)(O,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(b.a)(O,"INVALID_ID_TOKEN","invalid-user-token"),Object(b.a)(O,"TOKEN_EXPIRED","user-token-expired"),Object(b.a)(O,"USER_NOT_FOUND","user-token-expired"),Object(b.a)(O,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(b.a)(O,"INVALID_CODE","invalid-verification-code"),Object(b.a)(O,"INVALID_SESSION_INFO","invalid-verification-id"),Object(b.a)(O,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(b.a)(O,"MISSING_SESSION_INFO","missing-verification-id"),Object(b.a)(O,"SESSION_EXPIRED","code-expired"),Object(b.a)(O,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(b.a)(O,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(b.a)(O,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(b.a)(O,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(b.a)(O,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(b.a)(O,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(b.a)(O,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(b.a)(O,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(b.a)(O,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(b.a)(O,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(b.a)(O,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),O),Q=new G(3e4,6e4);function X(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function J(e,t,n,r){return ee.apply(this,arguments)}function ee(){return(ee=Object(p.a)(s.a.mark(function e(t,n,r,i){var a,o=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",te(t,a,Object(p.a)(s.a.mark(function e(){var a,o,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Object(_.K)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",$.fetch()(ae(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function te(e,t,n){return ne.apply(this,arguments)}function ne(){return(ne=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o,u,c,l,h,f,d,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Z),n),e.prev=2,a=new oe(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw se(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),h=Object(m.a)(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw se(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw se(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw se(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw M(t,p,d);case 34:N(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof _.c)){e.next=41;break}throw e.t0;case 41:N(t,"network-request-failed");case 42:case"end":return e.stop()}},e,this,[[2,37]])}))).apply(this,arguments)}function re(e,t,n,r){return ie.apply(this,arguments)}function ie(){return(ie=Object(p.a)(s.a.mark(function e(t,n,r,i){var a,o,u=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,J(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&N(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ae(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Y(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var oe=function(){function e(t){var n=this;Object(u.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(D(n.auth,"network-request-failed"))},Q.get())})}return Object(c.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function se(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=D(e,t,r);return i.customData._tokenResponse=n,i}function ue(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function le(e,t){return he.apply(this,arguments)}function he(){return(he=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function fe(e,t){return de.apply(this,arguments)}function de(){return(de=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function pe(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ve(){return(ve=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(_.s)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,U((a=me(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===Object(v.a)(a.firebase)?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:pe(ye(a.auth_time)),issuedAtTime:pe(ye(a.iat)),expirationTime:pe(ye(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ye(e){return 1e3*Number(e)}function me(e){var t=e.split("."),n=Object(m.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return R("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(_.h)(i);return o?JSON.parse(o):(R("Failed to decode base64 JWT payload"),null)}catch(s){return R("Caught error parsing JWT payload as JSON",s),null}}function ge(e,t){return be.apply(this,arguments)}function be(){return(be=Object(p.a)(s.a.mark(function e(t,n){var r=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof _.c&&(i=e.t0,void 0,a=i.code,a==="auth/".concat("user-disabled")||a==="auth/".concat("user-token-expired")))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}var i,a},e,this,[[3,9]])}))).apply(this,arguments)}var _e=function(){function e(t){Object(u.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}var t;return Object(c.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(p.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t,this)})),n)}}},{key:"iteration",value:(t=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}},e,this,[[0,5]])})),function(){return t.apply(this,arguments)})}]),e}(),ke=function(){function e(t,n){Object(u.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(c.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=pe(this.lastLoginAt),this.creationTime=pe(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c,l,h,f,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ge(t,fe(r,{idToken:i}));case 6:U(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map(function(e){var t=e.providerId,n=w(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],c=Te(t.providerData,u),l=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!l&&h,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ke(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function xe(){return(xe=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(_.s)(t),e.next=3,we(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Te(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return Object(g.a)(n).concat(Object(g.a)(t))}function Se(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(p.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,{},Object(p.a)(s.a.mark(function e(){var r,i,a,o,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.K)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ae(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",$.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}},e,this)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ie=function(){function e(){Object(u.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}var t,n;return Object(c.a)(e,[{key:"updateFromServerResponse",value:function(e){U(e.idToken,"internal-error"),U("undefined"!==typeof e.idToken,"internal-error"),U("undefined"!==typeof e.refreshToken,"internal-error");var t,n,r="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):(t=e.idToken,U(n=me(t),"internal-error"),U("undefined"!==typeof n.exp,"internal-error"),U("undefined"!==typeof n.iat,"internal-error"),Number(n.exp)-Number(n.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}},{key:"getToken",value:(n=Object(p.a)(s.a.mark(function e(t){var n,r=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],U(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:(t=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return V("not implemented")}},{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(U("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(U("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(U("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function je(e,t){U("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ce=function(){function e(t){Object(u.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=w(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Object(g.a)(a.providerData):[],this.metadata=new ke(a.createdAt||void 0,a.lastLoginAt||void 0)}var t,n,r,i;return Object(c.a)(e,[{key:"getIdToken",value:(i=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(U(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getIdTokenResult",value:function(e){return function(e){return ve.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xe.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:(r=Object(p.a)(s.a.mark(function e(t){var n,r,i=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,we(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"delete",value:(n=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ge(this,ue(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,_=n.emailVerified,k=n.isAnonymous,w=n.providerData,O=n.stsTokenManager;U(b&&O,t,"internal-error");var x=Ie.fromJSON(this.name,O);U("string"===typeof b,t,"internal-error"),je(h,t.name),je(f,t.name),U("boolean"===typeof _,t,"internal-error"),U("boolean"===typeof k,t,"internal-error"),je(d,t.name),je(p,t.name),je(v,t.name),je(y,t.name),je(m,t.name),je(g,t.name);var T=new e({uid:b,auth:t,email:f,emailVerified:_,displayName:h,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(T.providerData=w.map(function(e){return Object.assign({},e)})),y&&(T._redirectEventId=y),T}},{key:"_fromIdTokenResponse",value:(t=Object(p.a)(s.a.mark(function t(n,r){var i,a,o,u=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ie).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,we(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)})}]),e}(),Ae=function(){function e(){Object(u.a)(this,e),this.type="NONE",this.storage={}}var t,n,r,i;return Object(c.a)(e,[{key:"_isAvailable",value:(i=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_set",value:(r=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"_get",value:(n=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_remove",value:(t=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ae.type="NONE";var Pe=Ae;function Re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ne=function(){function e(t,n,r){Object(u.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Re(this.userKey,a.apiKey,o),this.fullPersistenceKey=Re("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}var t,n,r;return Object(c.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:(r=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ce._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:(n=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:(t=Object(p.a)(s.a.mark(function t(n,r){var i,a,o,u,c,l,h,f,d,v,y,m,g,b,_=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=_.length>2&&void 0!==_[2]?_[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(q(Pe),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 5:t.t0=function(e){return e},a=t.sent.filter(t.t0),o=a[0]||q(Pe),u=Re(i,n.config.apiKey,n.name),c=null,l=!0,h=!1,f=void 0,t.prev=13,d=r[Symbol.iterator]();case 15:if(l=(v=d.next()).done){t.next=33;break}return y=v.value,t.prev=17,t.next=20,y._get(u);case 20:if(!(m=t.sent)){t.next=26;break}return g=Ce._fromJSON(n,m),y!==o&&(c=g),o=y,t.abrupt("break",33);case 26:t.next=30;break;case 28:t.prev=28,t.t1=t.catch(17);case 30:l=!0,t.next=15;break;case 33:t.next=39;break;case 35:t.prev=35,t.t2=t.catch(13),h=!0,f=t.t2;case 39:t.prev=39,t.prev=40,l||null==d.return||d.return();case 42:if(t.prev=42,!h){t.next=45;break}throw f;case 45:return t.finish(42);case 46:return t.finish(39);case 47:if(b=a.filter(function(e){return e._shouldAllowMigration}),o._shouldAllowMigration&&b.length){t.next=50;break}return t.abrupt("return",new e(o,n,i));case 50:if(o=b[0],!c){t.next=54;break}return t.next=54,o._set(u,c.toJSON());case 54:return t.next=56,Promise.all(r.map(function(){var e=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 56:return t.abrupt("return",new e(o,n,i));case 57:case"end":return t.stop()}},t,this,[[13,35,39,47],[17,28],[40,,42,46]])})),function(e,n){return t.apply(this,arguments)})}]),e}();function De(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Be(t))return"Blackberry";if(ze(t))return"Webos";if(Le(t))return"Safari";if((t.includes("chrome/")||Fe(t))&&!t.includes("edge/"))return"Chrome";if(Ve(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/firefox\//i.test(e)}function Le(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/crios\//i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/iemobile/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/android/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/blackberry/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/webos/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/iphone|ipad|ipod/i.test(e)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return qe(e)||Ve(e)||ze(e)||Be(e)||/windows phone/i.test(e)||Ue(e)}function We(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=De(Object(_.t)());break;case"Worker":t="".concat(De(Object(_.t)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(k.SDK_VERSION,"/").concat(r)}var Ke=function(){function e(t){Object(u.a)(this,e),this.auth=t,this.queue=[]}var t;return Object(c.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise(function(n,r){try{n(e(t))}catch(i){r(i)}})};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:(t=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c,l,h,f,d,p,v,y;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=!0,a=!1,o=void 0,e.prev=7,u=this.queue[Symbol.iterator]();case 9:if(i=(c=u.next()).done){e.next=17;break}return l=c.value,e.next=13,l(t);case 13:l.onAbort&&r.push(l.onAbort);case 14:i=!0,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(7),a=!0,o=e.t0;case 23:e.prev=23,e.prev=24,i||null==u.return||u.return();case 26:if(e.prev=26,!a){e.next=29;break}throw o;case 29:return e.finish(26);case 30:return e.finish(23);case 31:e.next=56;break;case 33:for(e.prev=33,e.t1=e.catch(3),r.reverse(),h=!0,f=!1,d=void 0,e.prev=39,p=r[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){y=v.value;try{y()}catch(s){}}e.next=47;break;case 43:e.prev=43,e.t2=e.catch(39),f=!0,d=e.t2;case 47:e.prev=47,e.prev=48,h||null==p.return||p.return();case 50:if(e.prev=50,!f){e.next=53;break}throw d;case 53:return e.finish(50);case 54:return e.finish(47);case 55:throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 56:case"end":return e.stop()}},e,this,[[3,33],[7,19,23,31],[24,,26,30],[39,43,47,55],[48,,50,54]])})),function(e){return t.apply(this,arguments)})}]),e}(),Ge=function(){function e(t,n,r){Object(u.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.beforeStateQueue=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}var t,n,r,i,a,o,l,h,f,d,v,y,m,g;return Object(c.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=q(t)),this._initializationPromise=this.queue(Object(p.a)(s.a.mark(function r(){var i,a;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ne.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}},r,this,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:(g=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"initializeCurrentUser",value:(m=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,o&&o!==u||null===c||void 0===c||!c.user||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(e.t0)});case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return U(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}},e,this,[[18,23]])})),function(e){return m.apply(this,arguments)})},{key:"tryRedirectSignIn",value:(y=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return y.apply(this,arguments)})},{key:"reloadAndSetCurrentUserOrClear",value:(v=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])})),function(e){return v.apply(this,arguments)})},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:(d=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"updateCurrentUser",value:(f=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(_.s)(t):null)&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"_updateCurrentUser",value:(h=Object(p.a)(s.a.mark(function e(t){var n,r=this,i=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&U(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}},e,this)}))));case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"signOut",value:(l=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(p.a)(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(q(e));case 2:case"end":return n.stop()}},n,this)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:(o=Object(p.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"getOrInitRedirectPersistenceManager",value:(a=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return U(n=t&&q(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ne.create(this,[q(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_redirectUserForId",value:(i=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_persistUserIfCurrent",value:(r=Object(p.a)(s.a.mark(function e(t){var n=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return U(o,this,"internal-error"),o.then(function(){return a(i.currentUser)}),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:(n=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=We(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:(t=Object(p.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_currentUser",get:function(){return this.currentUser}},{key:"assertedPersistence",get:function(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}}]),e}();function Ye(e){return Object(_.s)(e)}var $e=function(){function e(t){var n=this;Object(u.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(_.m)(function(e){return n.observer=e})}return Object(c.a)(e,[{key:"next",get:function(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ze(e,t,n){var r=Ye(e);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qe(t),o=function(e){var t=Qe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Xe(r.substr(a.length+1))}}var o=r.split(":"),s=Object(m.a)(o,2),u=s[0],c=s[1];return{host:u,port:Xe(c)}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qe(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xe(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Je=function(){function e(t,n){Object(u.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(c.a)(e,[{key:"toJSON",value:function(){return V("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return V("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return V("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return V("not implemented")}}]),e}();function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:resetPassword",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function it(e,t){return at.apply(this,arguments)}function at(){return(at=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ot(e,t){return st.apply(this,arguments)}function st(){return(st=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithPassword",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ut(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:sendOobCode",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function lt(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ft(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function yt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function gt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithEmailLink",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function _t(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithEmailLink",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var wt=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(u.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this,"password",r)))._email=e,i._password=n,i._tenantId=a,i}var n,r;return Object(d.a)(t,e),Object(c.a)(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:(r=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ot(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",gt(t,{email:this._email,oobCode:this._password}));case 5:N(t,"internal-error");case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_linkToIdToken",value:(n=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",nt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_t(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:N(t,"internal-error");case 6:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){return new t(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),t}(Je);function Ot(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithIdp",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Tt=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(h.a)(t).apply(this,arguments))).pendingToken=null,e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ot(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(_.K)(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):N("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=w(n,["providerId","signInMethod"]);if(!r||!i)return null;var o=new t(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),t}(Je);function St(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:sendVerificationCode",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function It(){return(It=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithPhoneNumber",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function jt(){return(jt=Object(p.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t,"POST","/v1/accounts:signInWithPhoneNumber",X(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw se(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ct=Object(b.a)({},"USER_NOT_FOUND","user-not-found");function At(){return(At=Object(p.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",re(t,"POST","/v1/accounts:signInWithPhoneNumber",X(t,r),Ct));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Pt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,"phone","phone"))).params=e,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return It.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return At.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,i=n.verificationCode,a=n.phoneNumber,o=n.temporaryProof;return i||r||a||o?new t({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),t}(Je);var Rt=function(){function e(t){var n,r,i,a,o,s;Object(u.a)(this,e);var c=Object(_.L)(Object(_.r)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,h=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);U(l&&h&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=h,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(c.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(_.L)(Object(_.r)(e)).link,n=t?Object(_.L)(Object(_.r)(t)).deep_link_id:null,r=Object(_.L)(Object(_.r)(e)).deep_link_id;return(r?Object(_.L)(Object(_.r)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Nt=function(){function e(){Object(u.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(c.a)(e,null,[{key:"credential",value:function(e,t){return wt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Rt.parseLink(t);return U(n,"argument-error"),wt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Nt.PROVIDER_ID="password",Nt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Nt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Dt=function(){function e(t){Object(u.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(c.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Mt=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(h.a)(t).apply(this,arguments))).scopes=[],e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(g.a)(this.scopes)}}]),t}(Dt),Lt=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return U(e.idToken||e.accessToken,"argument-error"),Tt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return U("providerId"in t&&"signInMethod"in t,"argument-error"),Tt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return t.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken,a=n.oauthTokenSecret,o=n.pendingToken,s=n.nonce,u=n.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new t(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),t}(Mt),Ft=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,"facebook.com"))}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"credential",value:function(e){return Tt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Mt);Ft.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ft.PROVIDER_ID="facebook.com";var Ut=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(h.a)(t).call(this,"google.com"))).addScope("profile"),e}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"credential",value:function(e,n){return Tt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken;if(!r&&!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(Mt);Ut.GOOGLE_SIGN_IN_METHOD="google.com",Ut.PROVIDER_ID="google.com";var Vt=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,"github.com"))}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"credential",value:function(e){return Tt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Mt);Vt.GITHUB_SIGN_IN_METHOD="github.com",Vt.PROVIDER_ID="github.com";var Bt=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,e))).pendingToken=n,r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ot(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=n.pendingToken;return r&&i&&a&&r===i?new t(r,a):null}},{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(Je),zt="saml.",qt=function(e){function t(e){return Object(u.a)(this,t),U(e.startsWith(zt),"argument-error"),Object(l.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"credentialFromResult",value:function(e){return t.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Bt.fromJSON(e);return U(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Bt._create(r,n)}catch(i){return null}}}]),t}(Dt),Ht=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,"twitter.com"))}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"credential",value:function(e,n){return Tt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,i=n.oauthTokenSecret;if(!r||!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(Mt);function Wt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signUp",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}Ht.TWITTER_SIGN_IN_METHOD="twitter.com",Ht.PROVIDER_ID="twitter.com";var Gt=function(){function e(t){Object(u.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}var t,n;return Object(c.a)(e,null,[{key:"_fromIdTokenResponse",value:(n=Object(p.a)(s.a.mark(function t(n,r,i){var a,o,u,c,l=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Ce._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Yt(i),c=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}},t,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"_forOperation",value:(t=Object(p.a)(s.a.mark(function t(n,r,i){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yt(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}},t,this)})),function(e,n,r){return t.apply(this,arguments)})}]),e}();function Yt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $t(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(p.a)(s.a.mark(function e(t){var n,r,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Gt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Wt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Gt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Qt=function(e){function t(e,n,r,i){var a,o;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,n.code,n.message))).operationType=r,a.user=i,Object.setPrototypeOf(Object(y.a)(Object(y.a)(a)),t.prototype),a.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r},a}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,i){return new t(e,n,r,i)}}]),t}(_.c);function Xt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qt._fromErrorAndOperation(e,n,t,r);throw n})}function Jt(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.s)(t),e.next=3,an(!0,r,n);case 3:return e.t0=le,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Jt(a||[]),r.providerData=r.providerData.filter(function(e){return o.has(e.providerId)}),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=Object(p.a)(s.a.mark(function e(t,n){var r,i,a=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ge,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Gt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function an(e,t,n){return on.apply(this,arguments)}function on(){return(on=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(n);case 2:i=Jt(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",U(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function sn(e,t){return un.apply(this,arguments)}function un(){return(un=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o,u,c,l=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ge(t,Xt(i,a,n,t),r);case 6:return U((o=e.sent).idToken,i,"internal-error"),U(u=me(o.idToken),i,"internal-error"),c=u.sub,U(t.uid===c,i,"user-mismatch"),e.abrupt("return",Gt._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&N(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}},e,this,[[3,15]])}))).apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return(ln=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o,u=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Xt(t,i,n);case 4:return a=e.sent,e.next=7,Gt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function hn(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(Ye(t),n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function dn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=Object(p.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.s)(t),e.next=3,an(!1,r,n.providerId);case 3:return e.abrupt("return",nn(r,n));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function vn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sn(Object(_.s)(t),n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function mn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithCustomToken",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function bn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=Object(p.a)(s.a.mark(function e(t,n){var r,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye(t),e.next=3,mn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Gt._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var kn=function(){function e(t,n){Object(u.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(c.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wn._fromServerResponse(e,t):N(e,"internal-error")}}]),e}(),wn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,"phone",e))).phoneNumber=e.phoneInfo,n}return Object(d.a)(t,e),Object(c.a)(t,null,[{key:"_fromServerResponse",value:function(e,n){return new t(n)}}]),t}(kn);function On(e,t,n){var r;U((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),U("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function xn(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.s)(t),a={requestType:"PASSWORD_RESET",email:n},r&&On(i,a,r),e.next=5,ft(i,a);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Sn(e,t,n){return En.apply(this,arguments)}function En(){return(En=Object(p.a)(s.a.mark(function e(t,n,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(Object(_.s)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function In(e,t){return jn.apply(this,arguments)}function jn(){return(jn=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(Object(_.s)(t),{oobCode:n});case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Cn(e,t){return An.apply(this,arguments)}function An(){return(An=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.s)(t),e.next=3,et(r,{oobCode:n});case 3:i=e.sent,U(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return U(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:U(i.mfaInfo,r,"internal-error");case 13:U(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=kn._fromServerResponse(Ye(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Pn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(p.a)(s.a.mark(function e(t,n){var r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(Object(_.s)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Nn(e,t,n){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),e.next=3,Wt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Gt._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Mn(e,t,n){return hn(Object(_.s)(e),Nt.credential(t,n))}function Ln(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.s)(t),a={requestType:"EMAIL_SIGNIN",email:n},U(r.handleCodeInApp,i,"argument-error"),r&&On(i,a,r),e.next=6,pt(i,a);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Un(e,t){var n=Rt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Vn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.s)(t),U((a=Nt.credentialWithLink(n,r||H()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hn(i,a));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function zn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:createAuthUri",X(t,n)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Hn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=W()?H():"http://localhost",i={identifier:n,continueUri:r},e.next=4,zn(Object(_.s)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Kn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.s)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&On(r.auth,a,n),e.next=8,lt(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Yn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.s)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&On(i.auth,o,r),e.next=8,yt(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Zn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Xn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o,u,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(_.s)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ge(a,Zn(a.auth,u));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find(function(e){return"password"===e.providerId}))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function er(e,t){return nr(Object(_.s)(e),t,null)}function tr(e,t){return nr(Object(_.s)(e),null,t)}function nr(e,t,n){return rr.apply(this,arguments)}function rr(){return(rr=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ge(t,nt(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ir=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(u.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},ar=function(e){function t(e,n,r,i){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e,n,r))).username=i,a}return Object(d.a)(t,e),t}(ir),or=function(e){function t(e,n){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"facebook.com",n))}return Object(d.a)(t,e),t}(ir),sr=function(e){function t(e,n){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"github.com",n,"string"===typeof(null===n||void 0===n?void 0:n.login)?null===n||void 0===n?void 0:n.login:null))}return Object(d.a)(t,e),t}(ar),ur=function(e){function t(e,n){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"google.com",n))}return Object(d.a)(t,e),t}(ir),cr=function(e){function t(e,n,r){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"twitter.com",n,r))}return Object(d.a)(t,e),t}(ar);function lr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=me(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ir(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new or(a,i);case"github.com":return new sr(a,i);case"google.com":return new ur(a,i);case"twitter.com":return new cr(a,i,e.screenName||null);case"custom":case"anonymous":return new ir(a,null);default:return new ir(a,r,i)}}(n)}var hr=function(){function e(t,n){Object(u.a)(this,e),this.type=t,this.credential=n}return Object(c.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(b.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),fr=function(){function e(t,n,r){Object(u.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}var t;return Object(c.a)(e,[{key:"resolveSignIn",value:(t=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}],[{key:"_fromError",value:function(t,n){var r=Ye(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(function(e){return kn._fromServerResponse(r,e)});U(i.mfaPendingCredential,r,"internal-error");var o=hr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Object(p.a)(s.a.mark(function e(t){var a,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Gt._fromIdTokenResponse(r,n.operationType,u);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return U(n.user,r,"internal-error"),e.abrupt("return",Gt._forOperation(n.user,n.operationType,u));case 17:N(r,"internal-error");case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}}]),e}();function dr(e,t){var n,r=Object(_.s)(e),i=t;return U(t.customData.operationType,r,"argument-error"),U(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fr._fromError(r,i)}function pr(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:start",X(e,t))}var vr=function(){function e(t){var n=this;Object(u.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return kn._fromServerResponse(t.auth,e)}))})}var t,n,r;return Object(c.a)(e,[{key:"getSession",value:(r=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=hr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"enroll",value:(n=Object(p.a)(s.a.mark(function e(t,n){var r,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ge(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"unenroll",value:(t=Object(p.a)(s.a.mark(function e(t){var n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ge(this.user,J(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",X(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter(function(e){return e.uid!==n}),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a},e,this,[[10,15]])})),function(e){return t.apply(this,arguments)})}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),yr=new WeakMap;function mr(e){var t=Object(_.s)(e);return yr.has(t)||yr.set(t,vr._fromUser(t)),yr.get(t)}var gr=function(){function e(t,n){Object(u.a)(this,e),this.storageRetriever=t,this.type=n}return Object(c.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var br=function(e){function t(){var e,n;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(h.a)(t).call(this,function(){return window.localStorage},"LOCAL"))).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=(Le(n=Object(_.t)())||qe(n))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=He(),e._shouldAllowMigration=!0,e}var n,r,i;return Object(d.a)(t,e),Object(c.a)(t,[{key:"forAllChangedKeys",value:function(e){for(var t=Object.keys(this.listeners),n=0;n<t.length;n++){var r=t[n],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(_.z)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=Array.from(n),i=0;i<r.length;i++){(0,r[i])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:(i=Object(p.a)(s.a.mark(function e(n,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(t.prototype),"_set",this).call(this,n,r);case 2:this.localCache[n]=JSON.stringify(r);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"_get",value:(r=Object(p.a)(s.a.mark(function e(n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(t.prototype),"_get",this).call(this,n);case 2:return r=e.sent,this.localCache[n]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_remove",value:(n=Object(p.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(t.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}(gr);br.type="LOCAL";var _r=br,kr=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,function(){return window.sessionStorage},"SESSION"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}(gr);kr.type="SESSION";var wr=kr;function Or(e){return Promise.all(e.map(function(){var e=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()))}var xr=function(){function e(t){Object(u.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}var t;return Object(c.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:(t=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(u).map(function(){var e=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,Or(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Tr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xr.receivers=[];var Sr=function(){function e(t){Object(u.a)(this,e),this.target=t,this.handlers=new Set}var t;return Object(c.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:(t=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o,u=this,c=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,s){var c=Tr("",20);i.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(function(){o&&u.removeMessageHandler(o)}));case 5:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),e}();function Er(){return window}function Ir(){return"undefined"!==typeof Er().WorkerGlobalScope&&"function"===typeof Er().importScripts}function jr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))).apply(this,arguments)}var Ar="firebaseLocalStorageDb",Pr=1,Rr="firebaseLocalStorage",Nr="fbase_key",Dr=function(){function e(t){Object(u.a)(this,e),this.request=t}return Object(c.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Mr(e,t){return e.transaction([Rr],t?"readwrite":"readonly").objectStore(Rr)}function Lr(){var e=indexedDB.deleteDatabase(Ar);return new Dr(e).toPromise()}function Fr(){var e=indexedDB.open(Ar,Pr);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Rr,{keyPath:Nr})}catch(r){n(r)}}),e.addEventListener("success",Object(p.a)(s.a.mark(function n(){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Rr)){n.next=12;break}return r.close(),n.next=5,Lr();case 5:return n.t0=t,n.next=8,Fr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}},n,this)})))})}function Ur(e,t,n){return Vr.apply(this,arguments)}function Vr(){return(Vr=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mr(t,!0).put((i={},Object(b.a)(i,Nr,n),Object(b.a)(i,"value",r),i)),e.abrupt("return",new Dr(a).toPromise());case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Br(e,t){return zr.apply(this,arguments)}function zr(){return(zr=Object(p.a)(s.a.mark(function e(t,n){var r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mr(t,!1).get(n),e.next=3,new Dr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function qr(e,t){var n=Mr(e,!0).delete(t);return new Dr(n).toPromise()}var Hr=function(){function e(){Object(u.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}var t,n,r,i,a,o,l,h,f,d,v,y;return Object(c.a)(e,[{key:"_openDb",value:(y=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Fr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"_withRetries",value:(v=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this,[[2,11]])})),function(e){return v.apply(this,arguments)})},{key:"initializeServiceWorkerMessaging",value:(d=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ir()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"initializeReceiver",value:(f=Object(p.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xr._getInstance(Ir()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(p.a)(s.a.mark(function e(n,r){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"initializeSender",value:(h=Object(p.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Sr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"notifyServiceWorker",value:(l=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&(n=void 0,((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===this.activeServiceWorker)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}var n},e,this,[[2,7]])})),function(e){return l.apply(this,arguments)})},{key:"_isAvailable",value:(o=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Fr();case 5:return t=e.sent,e.next=8,Ur(t,"__sak","1");case 8:return e.next=10,qr(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,this,[[0,13]])})),function(){return o.apply(this,arguments)})},{key:"_withPendingWrite",value:(a=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])})),function(e){return a.apply(this,arguments)})},{key:"_set",value:(i=Object(p.a)(s.a.mark(function e(t,n){var r=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries(function(e){return Ur(e,t,n)});case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"_get",value:(r=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return Br(e,t)});case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_remove",value:(n=Object(p.a)(s.a.mark(function e(t){var n=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return qr(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_poll",value:(t=Object(p.a)(s.a.mark(function e(){var t,n,r,i,a,o,u,c,l,h,f,d,p,v;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=Mr(e,!1).getAll();return new Dr(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:for(n=[],r=new Set,i=!0,a=!1,o=void 0,e.prev=12,u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)l=c.value,h=l.fbase_key,f=l.value,r.add(h),JSON.stringify(this.localCache[h])!==JSON.stringify(f)&&(this.notifyListeners(h,f),n.push(h));e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,o=e.t0;case 20:e.prev=20,e.prev=21,i||null==u.return||u.return();case 23:if(e.prev=23,!a){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:for(d=Object.keys(this.localCache),p=0;p<d.length;p++)v=d[p],this.localCache[v]&&!r.has(v)&&(this.notifyListeners(v,null),n.push(v));return e.abrupt("return",n);case 31:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])})),function(){return t.apply(this,arguments)})},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=Array.from(n),i=0;i<r.length;i++){(0,r[i])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(p.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t,this)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hr.type="LOCAL";var Wr=Hr;function Kr(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:start",X(e,t))}function Gr(e){return Yr.apply(this,arguments)}function Yr(){return(Yr=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function $r(e){return new Promise(function(t,n){var r,i,a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=function(e){var t=D("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(a)})}function Zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Qr=1e12,Xr=function(){function e(t){Object(u.a)(this,e),this.auth=t,this.counter=Qr,this._widgets=new Map}var t;return Object(c.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Jr(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Qr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Qr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:(t=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Qr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}(),Jr=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;U(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(c.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ei=Zr("rcb"),ti=new G(3e4,6e4),ni=function(){function e(){Object(u.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Er().grecaptcha}return Object(c.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return U(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Er().grecaptcha):new Promise(function(r,i){var a=Er().setTimeout(function(){i(D(e,"network-request-failed"))},ti.get());Er()[ei]=function(){Er().clearTimeout(a),delete Er()[ei];var o=Er().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(D(e,"internal-error"))},$r("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Object(_.K)({onload:ei,render:"explicit",hl:n}))).catch(function(){clearTimeout(a),i(D(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Er().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var ri=function(){function e(){Object(u.a)(this,e)}var t;return Object(c.a)(e,[{key:"load",value:(t=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Xr(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"clearedOneInstance",value:function(){}}]),e}(),ii="recaptcha",ai={theme:"light",type:"image"},oi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ai),r=arguments.length>2?arguments[2]:void 0;Object(u.a)(this,e),this.parameters=n,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ye(r),this.isInvisible="invisible"===this.parameters.size,U("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ri:new ni,this.validateStartingState()}var t,n,r;return Object(c.a)(e,[{key:"verify",value:(r=Object(p.a)(s.a.mark(function e(){var t,n,r,i=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise(function(e){i.tokenChangeListeners.add(function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))}),i.isInvisible&&n.execute(t)}));case 9:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t}),this.renderPromise)}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"===typeof e)e(n);else if("string"===typeof e){var r=Er()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){U(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:(n=Object(p.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"init",value:(t=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(W()&&!Ir(),this.auth,"internal-error"),e.next=3,si();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Gr(this.auth);case 8:U(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getAssertedRecaptcha",value:function(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function si(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}var ui=function(){function e(t,n){Object(u.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(c.a)(e,[{key:"confirm",value:function(e){var t=Pt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ci(e,t,n){return li.apply(this,arguments)}function li(){return(li=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),e.next=3,vi(i,n,Object(_.s)(r));case 3:return a=e.sent,e.abrupt("return",new ui(a,function(e){return hn(i,e)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function hi(e,t,n){return fi.apply(this,arguments)}function fi(){return(fi=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.s)(t),e.next=3,an(!1,i,"phone");case 3:return e.next=5,vi(i.auth,n,Object(_.s)(r));case 5:return a=e.sent,e.abrupt("return",new ui(a,function(e){return dn(i,e)}));case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(_.s)(t),e.next=3,vi(i.auth,n,Object(_.s)(r));case 3:return a=e.sent,e.abrupt("return",new ui(a,function(e){return vn(i,e)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function vi(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o,u,c,l,h,f,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,U("string"===typeof a,t,"argument-error"),U(r.type===ii,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return U("enroll"===u.type,t,"internal-error"),e.next=13,pr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return U("signin"===u.type,t,"internal-error"),U(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Kr(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return h=e.sent,e.abrupt("return",h.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,St(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}},e,this,[[3,,31,34]])}))).apply(this,arguments)}function mi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(Object(_.s)(t),n);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var bi=function(){function e(t){Object(u.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ye(t)}return Object(c.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return vi(this.auth,e,Object(_.s)(t))}}],[{key:"credential",value:function(e,t){return Pt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Pt._fromTokenResponse(n,r):null}}]),e}();function _i(e,t){return t?q(t):(U(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bi.PROVIDER_ID="phone",bi.PHONE_SIGN_IN_METHOD="phone";var ki=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,"custom","custom"))).params=e,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Ot(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ot(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ot(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),t}(Je);function wi(e){return cn(e.auth,new ki(e),e.bypassAuthState)}function Oi(e){var t=e.auth,n=e.user;return U(n,t,"internal-error"),sn(n,new ki(e),e.bypassAuthState)}function xi(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,U(r=t.user,n,"internal-error"),e.abrupt("return",nn(r,new ki(t),t.bypassAuthState));case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Si=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(u.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}var t;return Object(c.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(p.a)(s.a.mark(function t(n,r){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:(t=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}},e,this,[[5,13]])})),function(e){return t.apply(this,arguments)})},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wi;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return Oi;default:N(this.auth,"internal-error")}}},{key:"resolve",value:function(e){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ei=new G(2e3,1e4);function Ii(e,t,n){return ji.apply(this,arguments)}function ji(){return(ji=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),L(t,n,Dt),a=_i(i,r),o=new Ni(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(_.s)(t)).auth,n,Dt),a=_i(i.auth,r),o=new Ni(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Pi(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(_.s)(t)).auth,n,Dt),a=_i(i.auth,r),o=new Ni(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ni=function(e){function t(e,n,r,i,a){var o;return Object(u.a)(this,t),(o=Object(l.a)(this,Object(h.a)(t).call(this,e,n,i,a))).provider=r,o.authWindow=null,o.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=Object(y.a)(Object(y.a)(o)),o}var n,r;return Object(d.a)(t,e),Object(c.a)(t,[{key:"executeNotNull",value:(r=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return U(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"onExecution",value:(n=Object(p.a)(s.a.mark(function e(){var t,n=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(1===this.filter.length,"Popup operations only handle one event"),t=Tr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(D(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){this.reject(D(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;null!==(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==r&&r.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(D(e.auth,"popup-closed-by-user"))},2e3):e.pollId=window.setTimeout(t,Ei.get())}()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}}]),t}(Si);Ni.currentPopupAction=null;var Di="pendingRedirect",Mi=new Map,Li=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(u.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i))).eventId=null,r}var n,r,i;return Object(d.a)(t,e),Object(c.a)(t,[{key:"execute",value:(i=Object(p.a)(s.a.mark(function e(){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Mi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Fi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(f.a)(Object(h.a)(t.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,n=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n=function(){return Promise.reject(e.t1)};case 20:Mi.set(this.auth._key(),n);case 21:return this.bypassAuthState||Mi.set(this.auth._key(),function(){return Promise.resolve(null)}),e.abrupt("return",n());case 23:case"end":return e.stop()}},e,this,[[2,17]])})),function(){return i.apply(this,arguments)})},{key:"onAuthEvent",value:(r=Object(p.a)(s.a.mark(function e(n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",Object(f.a)(Object(h.a)(t.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(f.a)(Object(h.a)(t.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"onExecution",value:(n=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"cleanUp",value:function(){}}]),t}(Si);function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=Object(p.a)(s.a.mark(function e(t,n){var r,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hi(n),i=qi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t)._set(Hi(n),"true"));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function zi(e,t){Mi.set(e._key(),t)}function qi(e){return q(e._redirectPersistence)}function Hi(e){return Re(Di,e.config.apiKey,e.name)}function Wi(e,t,n){return function(e,t,n){return Ki.apply(this,arguments)}(e,t,n)}function Ki(){return(Ki=Object(p.a)(s.a.mark(function e(t,n,r){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),L(t,n,Dt),a=_i(i,r),e.next=5,Vi(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Gi(e,t,n){return function(e,t,n){return Yi.apply(this,arguments)}(e,t,n)}function Yi(){return(Yi=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(_.s)(t)).auth,n,Dt),a=_i(i.auth,r),e.next=5,Vi(a,i.auth);case 5:return e.next=7,ta(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function $i(e,t,n){return function(e,t,n){return Zi.apply(this,arguments)}(e,t,n)}function Zi(){return(Zi=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(_.s)(t)).auth,n,Dt),a=_i(i.auth,r),e.next=5,an(!1,i,n.providerId);case 5:return e.next=7,Vi(a,i.auth);case 7:return e.next=9,ta(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Qi(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(p.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t)._initializationPromise;case 2:return e.abrupt("return",Ji(t,n,!1));case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ji(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Object(p.a)(s.a.mark(function e(t,n){var r,i,a,o,u,c=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Ye(t),a=_i(i,n),o=new Li(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ta(e){return na.apply(this,arguments)}function na(){return(na=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ra=function(){function e(t){Object(u.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(c.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aa(e);default:return!1}}(e)?n:(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0),n)}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!aa(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(D(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ia(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ia(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ia(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function aa(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function oa(e){return sa.apply(this,arguments)}function sa(){return(sa=Object(p.a)(s.a.mark(function e(t){var n,r=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",J(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ua=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ca=/^https?/;function la(){return(la=Object(p.a)(s.a.mark(function e(t){var n,r,i,a,o,u,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oa(t);case 4:n=e.sent,r=n.authorizedDomains,i=!0,a=!1,o=void 0,e.prev=9,u=r[Symbol.iterator]();case 11:if(i=(c=u.next()).done){e.next=23;break}if(l=c.value,e.prev=13,!ha(l)){e.next=16;break}return e.abrupt("return");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(13);case 20:i=!0,e.next=11;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(9),a=!0,o=e.t1;case 29:e.prev=29,e.prev=30,i||null==u.return||u.return();case 32:if(e.prev=32,!a){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(29);case 37:N(t,"unauthorized-domain");case 38:case"end":return e.stop()}},e,this,[[9,25,29,37],[13,18],[30,,32,36]])}))).apply(this,arguments)}function ha(e){var t=H(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ca.test(r))return!1;if(ua.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var fa=new G(3e4,6e4);function da(){var e=Er().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=Object.keys(e.H),n=0;n<t.length;n++){var r=t[n];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(g.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var pa=null;function va(e){return pa=pa||function(e){return new Promise(function(t,n){var r,i,a;function o(){da(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){da(),n(D(e,"network-request-failed"))},timeout:fa.get()})}if(null===(i=null===(r=Er().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(null===(a=Er().gapi)||void 0===a||!a.load){var s=Zr("iframefcb");return Er()[s]=function(){gapi.load?o():n(D(e,"network-request-failed"))},$r("https://apis.google.com/js/api.js?onload=".concat(s)).catch(function(e){return n(e)})}o()}}).catch(function(e){throw pa=null,e})}(e)}var ya=new G(5e3,15e3),ma="__/auth/iframe",ga="emulator/auth/iframe",ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ka(e){var t=e.config;U(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Y(t,ga):"https://".concat(e.config.authDomain,"/").concat(ma),r={apiKey:t.apiKey,appName:e.name,v:k.SDK_VERSION},i=_a.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(_.K)(r).slice(1))}function wa(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(t);case 2:return n=e.sent,U(r=Er().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ka(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ba,dontclear:!0},function(e){return new Promise(function(){var n=Object(p.a)(s.a.mark(function n(r,i){var a,o,u;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Er().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=D(t,"network-request-failed"),o=Er().setTimeout(function(){i(a)},ya.get()),e.ping(u).then(u,function(){i(a)});case 6:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var xa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ta=500,Sa=600,Ea="_blank",Ia="http://localhost",ja=function(){function e(t){Object(u.a)(this,e),this.window=t,this.associatedEvent=null}return Object(c.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ca(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ta,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sa,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},xa),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(_.t)().toLowerCase();n&&(s=Fe(c)?Ea:n),Me(c)&&(t=t||Ia,u.scrollbars="yes");var l=Object.entries(u).reduce(function(e,t){var n=Object(m.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e;return qe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ja(null);var h=window.open(t||"",s,l);U(h,e,"popup-blocked");try{h.focus()}catch(f){}return new ja(h)}var Aa="__/auth/handler",Pa="emulator/auth/handler";function Ra(e,t,n,r,i,a){U(e.config.authDomain,e,"auth-domain-config-required"),U(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:k.SDK_VERSION,eventId:i};if(t instanceof Dt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(_.y)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=Object.entries(a||{}),u=0;u<s.length;u++){var c=Object(m.a)(s[u],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof Mt){var f=t.getScopes().filter(function(e){return""!==e});f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=Object.keys(d),v=0;v<p.length;v++){void 0===d[l=p[v]]&&delete d[l]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Aa);return Y(t,Pa)}(e),"?").concat(Object(_.K)(d).slice(1))}var Na=function(){function e(){Object(u.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wr,this._completeRedirectFn=Ji,this._overrideRedirectResult=zi}var t,n,r;return Object(c.a)(e,[{key:"_openPopup",value:(r=Object(p.a)(s.a.mark(function e(t,n,r,i){var a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ra(t,n,r,H(),i),e.abrupt("return",Ca(t,o,Tr()));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n,i){return r.apply(this,arguments)})},{key:"_openRedirect",value:(n=Object(p.a)(s.a.mark(function e(t,n,r,i){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ra(t,n,r,H(),i),Er().location.href=a,e.abrupt("return",new Promise(function(){}));case 4:case"end":return e.stop()}var a},e,this)})),function(e,t,r,i){return n.apply(this,arguments)})},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(B(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(function(){delete t.eventManagers[n]}),o}},{key:"initAndGetManager",value:(t=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t);case 2:return n=e.sent,r=new ra(t),n.register("authEvent",function(e){return U(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),N(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return la.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return He()||Le()||qe()}}]),e}(),Da=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,"phone"))).credential=e,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:finalize",X(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:finalize",X(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}]),t}(function(){function e(t){Object(u.a)(this,e),this.factorId=t}return Object(c.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return V("unexpected MultiFactorSessionType")}}}]),e}()),Ma=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,null,[{key:"assertion",value:function(e){return Da._fromCredential(e)}}]),e}();Ma.FACTOR_ID="phone";var La,Fa="@firebase/auth",Ua="0.20.3",Va=function(){function e(t){Object(u.a)(this,e),this.auth=t,this.internalListeners=new Map}var t;return Object(c.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:(t=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ba(){return window}La="Browser",Object(k._registerComponent)(new T.a("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){U(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),U(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:La,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:We(La)},i=new Ge(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(q);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Object(k._registerComponent)(new T.a("auth-internal",function(e){return function(e){return new Va(e)}(Ye(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(k.registerVersion)(Fa,Ua,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(La)),Object(k.registerVersion)(Fa,Ua,"esm2017"),n.d(t,"x",function(){return ho}),n.d(t,"F",function(){return co}),n.d(t,"a",function(){return E}),n.d(t,"b",function(){return Je}),n.d(t,"c",function(){return Nt}),n.d(t,"d",function(){return Ft}),n.d(t,"e",function(){return Vt}),n.d(t,"f",function(){return Ut}),n.d(t,"g",function(){return Tt}),n.d(t,"h",function(){return Lt}),n.d(t,"i",function(){return bi}),n.d(t,"j",function(){return Ma}),n.d(t,"k",function(){return S}),n.d(t,"l",function(){return oi}),n.d(t,"m",function(){return Bt}),n.d(t,"n",function(){return qt}),n.d(t,"o",function(){return Ht}),n.d(t,"p",function(){return U}),n.d(t,"q",function(){return Ye}),n.d(t,"r",function(){return N}),n.d(t,"s",function(){return Tr}),n.d(t,"t",function(){return q}),n.d(t,"u",function(){return Ji}),n.d(t,"v",function(){return zi}),n.d(t,"w",function(){return Re}),n.d(t,"y",function(){return In}),n.d(t,"z",function(){return _r}),n.d(t,"A",function(){return Na}),n.d(t,"B",function(){return wr}),n.d(t,"C",function(){return Cn}),n.d(t,"D",function(){return Sn}),n.d(t,"E",function(){return Ze}),n.d(t,"G",function(){return Nn}),n.d(t,"H",function(){return j}),n.d(t,"I",function(){return Hn}),n.d(t,"J",function(){return lr}),n.d(t,"K",function(){return dr}),n.d(t,"L",function(){return Qi}),n.d(t,"M",function(){return Pe}),n.d(t,"N",function(){return Wr}),n.d(t,"O",function(){return Un}),n.d(t,"P",function(){return dn}),n.d(t,"Q",function(){return hi}),n.d(t,"R",function(){return Pi}),n.d(t,"S",function(){return $i}),n.d(t,"T",function(){return mr}),n.d(t,"U",function(){return vn}),n.d(t,"V",function(){return di}),n.d(t,"W",function(){return Ci}),n.d(t,"X",function(){return Gi}),n.d(t,"Y",function(){return Kn}),n.d(t,"Z",function(){return xn}),n.d(t,"ab",function(){return Ln}),n.d(t,"bb",function(){return $t}),n.d(t,"cb",function(){return hn}),n.d(t,"db",function(){return bn}),n.d(t,"eb",function(){return Mn}),n.d(t,"fb",function(){return Vn}),n.d(t,"gb",function(){return ci}),n.d(t,"hb",function(){return Ii}),n.d(t,"ib",function(){return Wi}),n.d(t,"jb",function(){return en}),n.d(t,"kb",function(){return er}),n.d(t,"lb",function(){return tr}),n.d(t,"mb",function(){return mi}),n.d(t,"nb",function(){return Xn}),n.d(t,"ob",function(){return Yn}),n.d(t,"pb",function(){return Pn});var za=2e3;function qa(e,t,n){return Ha.apply(this,arguments)}function Ha(){return(Ha=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ba(),o=a.BuildInfo,B(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Za(n.sessionId);case 4:return u=e.sent,c={},qe()?c.ibi=o.packageName:Ve()?c.apn=o.packageName:N(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=u,e.abrupt("return",Ra(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Wa(){return(Wa=Object(p.a)(s.a.mark(function e(t){var n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ba(),r=n.BuildInfo,i={},qe()?i.iosBundleId=r.packageName:Ve()?i.androidPackageName=r.packageName:N(t,"operation-not-supported-in-this-environment"),e.next=5,oa(t,i);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ka(e){var t=Ba().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.t)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}function Ga(e,t,n){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(p.a)(s.a.mark(function e(t,n,r){var i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout(function(){i(D(t,"redirect-cancelled-by-user"))},za))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Ve()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}});case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[2,,5,8]])}))).apply(this,arguments)}function $a(e){var t,n,r,i,a,o,s,u,c,l,h=Ba();U("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Za(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(p.a)(s.a.mark(function e(t){var n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xa(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Xa(e){if(B(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ja=20,eo=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(h.a)(t).apply(this,arguments))).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}var n;return Object(d.a)(t,e),Object(c.a)(t,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),Object(f.a)(Object(h.a)(t.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:(n=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ra);function to(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:function(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Ja;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}(),postBody:null,tenantId:e.tenantId,error:D(e,"no-auth-event")}}function no(e,t){return oo()._set(so(e),t)}function ro(e){return io.apply(this,arguments)}function io(){return(io=Object(p.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo()._get(so(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,oo()._remove(so(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ao(e,t){var n,r,i=function(e){var t=uo(e),n=t.link?decodeURIComponent(t.link):void 0,r=uo(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return uo(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=uo(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?D(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function oo(){return q(_r)}function so(e){return Re("authEvent",e.config.apiKey,e.name)}function uo(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),o=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(a.a)()),s=(o[0],o.slice(1));return Object(_.L)(s.join("?"))}var co=function(){function e(){Object(u.a)(this,e),this._redirectPersistence=wr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ji,this._overrideRedirectResult=zi}var t,n;return Object(c.a)(e,[{key:"_initialize",value:(n=Object(p.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new eo(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_openPopup",value:function(e){N(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:(t=Object(p.a)(s.a.mark(function e(t,n,r,i){var a,o,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $a(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Mi.clear(),e.next=10,this._originValidation(t);case 10:return o=to(t,r,i),e.next=13,no(t,o);case 13:return e.next=15,qa(t,o,n);case 15:return u=e.sent,e.next=18,Ka(u);case 18:return c=e.sent,e.abrupt("return",Ga(t,a,c));case 20:case"end":return e.stop()}},e,this)})),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ba(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(p.a)(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ro(e);case 2:t.onEvent(lo());case 3:case"end":return n.stop()}},n,this)})),500),u=function(){var n=Object(p.a)(s.a.mark(function n(r){var i,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ro(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ao(i,r.url)),t.onEvent(a||lo());case 7:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var c=i,l="".concat(a.packageName.toLowerCase(),"://");Ba().handleOpenURL=function(){var e=Object(p.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&u({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}]),e}();function lo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:D("no-auth-event")}}function ho(e,t){Ye(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Xl}),n.d(t,"b",function(){return Yc}),n.d(t,"c",function(){return Pc}),n.d(t,"d",function(){return kc}),n.d(t,"e",function(){return El}),n.d(t,"f",function(){return Gc}),n.d(t,"g",function(){return M}),n.d(t,"h",function(){return Zc}),n.d(t,"i",function(){return Il}),n.d(t,"j",function(){return jl}),n.d(t,"k",function(){return Q}),n.d(t,"l",function(){return th}),n.d(t,"m",function(){return $e}),n.d(t,"n",function(){return re}),n.d(t,"o",function(){return ne}),n.d(t,"p",function(){return yc}),n.d(t,"q",function(){return R}),n.d(t,"r",function(){return Ve}),n.d(t,"s",function(){return j}),n.d(t,"t",function(){return fc}),n.d(t,"u",function(){return dh}),n.d(t,"v",function(){return Oh}),n.d(t,"w",function(){return wh}),n.d(t,"x",function(){return Vc}),n.d(t,"y",function(){return xc}),n.d(t,"z",function(){return Tc}),n.d(t,"A",function(){return _c}),n.d(t,"B",function(){return fh}),n.d(t,"C",function(){return _h}),n.d(t,"D",function(){return qc}),n.d(t,"E",function(){return Sc}),n.d(t,"F",function(){return Lc}),n.d(t,"G",function(){return Fc}),n.d(t,"H",function(){return zc}),n.d(t,"I",function(){return Kl}),n.d(t,"J",function(){return Wl}),n.d(t,"K",function(){return Dc}),n.d(t,"L",function(){return yh}),n.d(t,"M",function(){return rh}),n.d(t,"N",function(){return ah}),n.d(t,"O",function(){return oh}),n.d(t,"P",function(){return sh}),n.d(t,"Q",function(){return uh}),n.d(t,"R",function(){return ch}),n.d(t,"S",function(){return Nc}),n.d(t,"T",function(){return xh}),n.d(t,"U",function(){return Ul}),n.d(t,"V",function(){return Vl}),n.d(t,"W",function(){return Hc}),n.d(t,"X",function(){return Wc}),n.d(t,"Y",function(){return ph}),n.d(t,"Z",function(){return vh}),n.d(t,"ab",function(){return Ll}),n.d(t,"bb",function(){return Rl}),n.d(t,"cb",function(){return Ic}),n.d(t,"db",function(){return Ec}),n.d(t,"eb",function(){return bh}),n.d(t,"fb",function(){return kh}),n.d(t,"gb",function(){return lh}),n.d(t,"hb",function(){return S}),n.d(t,"ib",function(){return Cl}),n.d(t,"jb",function(){return ql}),n.d(t,"kb",function(){return zl}),n.d(t,"lb",function(){return hh}),n.d(t,"mb",function(){return Bc}),n.d(t,"nb",function(){return Dl});var r=n(30),i=n(19),a=n(15),o=n(8),s=n(0),u=n.n(s),c=n(5),l=n(9),h=n(7),f=n(10),d=n(16),p=n(1),v=n(4),y=n(13),m=n(18),g=n(17),b=n(3),_=n(22),k="@firebase/firestore",w=function(){function e(t){Object(p.a)(this,e),this.uid=t}return Object(v.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();w.UNAUTHENTICATED=new w(null),w.GOOGLE_CREDENTIALS=new w("google-credentials-uid"),w.FIRST_PARTY=new w("first-party-uid"),w.MOCK_USER=new w("mock-user");var O="9.8.3",x=new g.b("@firebase/firestore");function T(){return x.logLevel}function S(e){x.setLogLevel(e)}function E(e){if(x.logLevel<=g.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.debug.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function I(e){if(x.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.error.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function j(e){if(x.logLevel<=g.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.warn.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(d.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(O,") INTERNAL ASSERTION FAILED: ")+e;throw I(t),new Error(t)}function P(e,t){e||A()}function R(e,t){e||A()}function N(e,t){return e}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,n))).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Object(f.a)(t,e),t}(b.c),L=function e(){var t=this;Object(p.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},F=function e(t,n){Object(p.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},U=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(w.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(p.a)(this,e),this.token=t,this.changeListener=null}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),B=function(){function e(t){Object(p.a)(this,e),this.t=t,this.currentUser=w.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new L;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new L,e.enqueueRetryable(function(){return i(n.currentUser)})};var o=function(){var t=a;e.enqueueRetryable(Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}},e,this)})))},s=function(e){E("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new L)}},0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(P("string"==typeof n.accessToken),new F(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new w(e)}}]),e}(),z=function e(t,n,r){Object(p.a)(this,e),this.type="FirstParty",this.user=w.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)},q=function(){function e(t,n,r){Object(p.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(w.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),H=function e(t){Object(p.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},W=function(){function e(t){Object(p.a)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&E("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,E("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var i=function(e){E("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit(function(e){return i(e)}),setTimeout(function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(P("string"==typeof t.token),e.p=t.token,new H(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function K(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var G=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=K(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Y(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Z(e){return e+"\0"}var Q=function(){function e(t,n){if(Object(p.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new M(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new M(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(v.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),X=function(){function e(t){Object(p.a)(this,e),this.timestamp=t}return Object(v.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Q(0,0))}},{key:"max",value:function(){return new e(new Q(253402300799,999999999))}}]),e}(),J=function(){function e(t,n,r){Object(p.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(v.a)(e,[{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}},{key:"length",get:function(){return this.len}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ee=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0;a<r.length;a++){var o=r[a];if(o.indexOf("//")>=0)throw new M(D.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,Object(d.a)(o.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(J),te=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ne=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return te.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new M(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new M(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new M(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(J),re=function(){function e(t){Object(p.a)(this,e),this.path=t}return Object(v.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ee.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}},{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}}],[{key:"fromPath",value:function(t){return new e(ee.fromString(t))}},{key:"fromName",value:function(t){return new e(ee.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ee.emptyPath())}},{key:"comparator",value:function(e,t){return ee.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ee(t.slice()))}}]),e}(),ie=function e(t,n,r,i){Object(p.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};function ae(e){return e.fields.find(function(e){return 2===e.kind})}function oe(e){return e.fields.filter(function(e){return 2!==e.kind})}ie.UNKNOWN_ID=-1;var se=function e(t,n){Object(p.a)(this,e),this.fieldPath=t,this.kind=n},ue=function(){function e(t,n){Object(p.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(v.a)(e,null,[{key:"empty",value:function(){return new e(0,he.min())}}]),e}();function ce(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new Q(n+1,0):new Q(n,r));return new he(i,re.empty(),t)}function le(e){return new he(e.readTime,e.key,-1)}var he=function(){function e(t,n,r){Object(p.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(v.a)(e,null,[{key:"min",value:function(){return new e(X.min(),re.empty(),-1)}},{key:"max",value:function(){return new e(X.max(),re.empty(),-1)}}]),e}();function fe(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=re.comparator(e.documentKey,t.documentKey))?n:Y(e.largestBatchId,t.largestBatchId)}var de="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pe=function(){function e(){Object(p.a)(this,e),this.onCommittedListeners=[]}return Object(v.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}();function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===D.FAILED_PRECONDITION&&t.message===de){e.next=2;break}throw t;case 2:E("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var me=function(){function e(t){var n=this;Object(p.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(v.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n=e.resolve(!1),r=!0,i=!1,a=void 0;try{for(var o,s=function(){var t=o.value;n=n.next(function(n){return n?e.resolve(n):t()})},u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)s()}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e(function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next(function(t){a[u]=t,++o===i&&e(a)},function(e){return r(e)})},u=0;u<i;u++)s(u)})}},{key:"doWhile",value:function(t,n){return new e(function(e,r){!function i(){!0===t()?n().next(function(){i()},r):e()}()})}}]),e}(),ge=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new L,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new ke(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Se(e.target.error);r.T.reject(new ke(t,n))}}return Object(v.a)(e,[{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Oe(t)}},{key:"A",get:function(){return this.T.promise}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ke(n,t)}}}]),e}(),be=function(){function t(e,n,r){Object(p.a)(this,t),this.name=e,this.version=n,this.P=r,12.2===t.v(Object(b.t)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var n,r;return Object(v.a)(t,[{key:"k",value:(r=Object(c.a)(u.a.mark(function e(t){var n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return E("SimpleDb","Opening database:",this.name),e.next=5,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ke(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new M(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new M(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ke(t,n))},i.onupgradeneeded=function(e){E("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next(function(){E("SimpleDb","Database upgrade to version "+n.version+" complete")})}});case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:(n=Object(c.a)(u.a.mark(function e(t,n,r,i){var a,s,c,l,h=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,s=0;case 2:return++s,e.prev=3,e.delegateYield(u.a.mark(function e(){var n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.k(t);case 2:return h.db=e.sent,n=ge.open(h.db,t,a?"readonly":"readwrite",r),(o=i(n).next(function(e){return n.R(),e}).catch(function(e){return n.abort(e),me.reject(e)}).toPromise()).catch(function(){}),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}},e,this)})(),"t0",5);case 5:if(c=e.t0,"object"!==Object(o.a)(c)){e.next=8;break}return e.abrupt("return",c.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),l="FirebaseError"!==e.t1.name&&s<3,E("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}},e,this,[[3,10]])})),function(e,t,r,i){return n.apply(this,arguments)})},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return E("SimpleDb","Removing database:",e),xe(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Object(b.A)())return!1;if(t.S())return!0;var e=Object(b.t)(),n=t.v(e),r=0<n&&n<10,i=t.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),_e=function(){function e(t){Object(p.a)(this,e),this.$=t,this.B=!1,this.L=null}return Object(v.a)(e,[{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return xe(this.$.delete())}},{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}}]),e}(),ke=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,D.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)))).name="IndexedDbTransactionError",r}return Object(f.a)(t,e),t}(M);function we(e){return"IndexedDbTransactionError"===e.name}var Oe=function(){function e(t){Object(p.a)(this,e),this.store=t}return Object(v.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(E("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xe(n)}},{key:"add",value:function(e){return E("SimpleDb","ADD",this.store.name,e,e),xe(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xe(this.store.get(e)).next(function(n){return void 0===n&&(n=null),E("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return E("SimpleDb","DELETE",this.store.name,e),xe(this.store.delete(e))}},{key:"count",value:function(){return E("SimpleDb","COUNT",this.store.name),xe(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,function(e,t){i.push(t)}).next(function(){return i})}var a=this.store.getAll(n.range);return new me(function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}})}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new me(function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}})}},{key:"W",value:function(e,t){E("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,function(e,t,n){return n.delete()})}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new me(function(n,r){t.onerror=function(e){var t=Se(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"G",value:function(e,t){var n=[];return new me(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new _e(i),o=t(i.primaryKey,i.value,a);if(o instanceof me){var s=o.catch(function(e){return a.done(),me.reject(e)});n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}}).next(function(){return me.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xe(e){return new me(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Se(e.target.error);n(t)}})}var Te=!1;function Se(e){var t=be.v(Object(b.t)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Te||(Te=!0,setTimeout(function(){throw r},0)),r}}return e}var Ee=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Object(v.a)(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"Z",value:function(e){var t=this;E("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=E,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!we(e.t4)){e.next=17;break}E("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ve(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}},e,this,[[1,11]])})))}},{key:"started",get:function(){return null!==this.task}}]),e}(),Ie=function(){function e(t,n){Object(p.a)(this,e),this.localStore=t,this.persistence=n}var t;return Object(v.a)(e,[{key:"tt",value:(t=Object(c.a)(u.a.mark(function e(){var t,n=this,r=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",function(e){return n.et(e,t)}));case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return me.doWhile(function(){return!0===a&&i>0},function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(function(t){if(null!==t&&!r.has(t))return E("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next(function(e){i-=e,r.add(t)});a=!1})}).next(function(){return t-i})}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next(function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next(function(){return r.st(i,n)}).next(function(n){return E("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(function(){return a.size})})})}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach(function(e,t){var r=le(t);fe(r,n)>0&&(n=r)}),new he(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),je=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Object(v.a)(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ce(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ae(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pe(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}je.ot=-1;var Re=function(){function e(t,n){Object(p.a)(this,e),this.comparator=t,this.root=n||De.EMPTY}return Object(v.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,De.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,De.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ne(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ne(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ne(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ne(this.root,e,this.comparator,!0)}},{key:"size",get:function(){return this.root.size}}]),e}(),Ne=function(){function e(t,n,r,i){Object(p.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(v.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),De=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(v.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();De.EMPTY=null,De.RED=!0,De.BLACK=!1,De.EMPTY=new(function(){function e(){Object(p.a)(this,e),this.size=0}return Object(v.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new De(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}},{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}}]),e}());var Me=function(){function e(t){Object(p.a)(this,e),this.comparator=t,this.data=new Re(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Le(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Le(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}},{key:"size",get:function(){return this.data.size}}]),e}(),Le=function(){function e(t){Object(p.a)(this,e),this.iter=t}return Object(v.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fe(e){return e.hasNext()?e.getNext():void 0}var Ue=function(){function e(t){Object(p.a)(this,e),this.fields=t,t.sort(ne.comparator)}return Object(v.a)(e,[{key:"unionWith",value:function(t){var n=new Me(ne.comparator),r=!0,i=!1,a=void 0;try{for(var o,s=this.fields[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;n=n.add(u)}}catch(v){i=!0,a=v}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var c=!0,l=!1,h=void 0;try{for(var f,d=t[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;n=n.add(p)}}catch(v){l=!0,h=v}finally{try{c||null==d.return||d.return()}finally{if(l)throw h}}return new e(n.toArray())}},{key:"covers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.fields[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.isPrefixOf(e))return!0}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}],[{key:"empty",value:function(){return new e([])}}]),e}();function Ve(){return"undefined"!=typeof atob}var Be=function(){function e(t){Object(p.a)(this,e),this.binaryString=t}return Object(v.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Y(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();Be.EMPTY_BYTE_STRING=new Be("");var ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qe(e){if(P(!!e),"string"==typeof e){var t=0,n=ze.exec(e);if(P(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:He(e.seconds),nanos:He(e.nanos)}}function He(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function We(e){return"string"==typeof e?Be.fromBase64String(e):Be.fromUint8Array(e)}function Ke(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ge(e){var t=qe(e.mapValue.fields.__local_write_time__.timestampValue);return new Q(t.seconds,t.nanos)}var Ye=function e(t,n,r,i,a,o,s,u){Object(p.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},$e=function(){function e(t,n){Object(p.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(v.a)(e,[{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ze(e){return null==e}function Qe(e){return 0===e&&1/e==-1/0}function Xe(e){return"number"==typeof e&&Number.isInteger(e)&&!Qe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Je={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},et={nullValue:"NULL_VALUE"};function tt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ke(e)?4:pt(e)?9007199254740991:10:A()}function nt(e,t){if(e===t)return!0;var n=tt(e);if(n!==tt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ge(e).isEqual(Ge(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qe(e.timestampValue),r=qe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return We(e.bytesValue).isEqual(We(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return He(e.geoPointValue.latitude)===He(t.geoPointValue.latitude)&&He(e.geoPointValue.longitude)===He(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return He(e.integerValue)===He(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=He(e.doubleValue),r=He(t.doubleValue);return n===r?Qe(n)===Qe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],nt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ce(n)!==Ce(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nt(n[i],r[i])))return!1;return!0}(e,t);default:return A()}}function rt(e,t){return void 0!==(e.values||[]).find(function(e){return nt(e,t)})}function it(e,t){if(e===t)return 0;var n=tt(e),r=tt(t);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=He(e.integerValue||e.doubleValue),r=He(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return at(e.timestampValue,t.timestampValue);case 4:return at(Ge(e),Ge(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){var n=We(e),r=We(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Y(n[i],r[i]);if(0!==a)return a}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Y(He(e.latitude),He(t.latitude));return 0!==n?n:Y(He(e.longitude),He(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=it(n[i],r[i]);if(a)return a}return Y(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Je.mapValue&&t===Je.mapValue)return 0;if(e===Je.mapValue)return 1;if(t===Je.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Y(r[o],a[o]);if(0!==s)return s;var u=it(n[r[o]],i[a[o]]);if(0!==u)return u}return Y(r.length,a.length)}(e.mapValue,t.mapValue);default:throw A()}}function at(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);var n=qe(e),r=qe(t),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function ot(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=qe(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?We(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,re.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n="[",r=!0,i=!0,a=!1,o=void 0;try{for(var s,u=(t.values||[])[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r?r=!1:n+=",",n+=e(c)}}catch(l){a=!0,o=l}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){var n=Object.keys(t.fields||{}).sort(),r="{",i=!0,a=!0,o=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;i?i=!1:r+=",",r+="".concat(l,":").concat(e(t.fields[l]))}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return r+"}"}(t.mapValue):A();var n,r}(e)}function st(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ut(e){return!!e&&"integerValue"in e}function ct(e){return!!e&&"arrayValue"in e}function lt(e){return!!e&&"nullValue"in e}function ht(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ft(e){return!!e&&"mapValue"in e}function dt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==Object(o.a)(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ae(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=dt(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function pt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vt(e){return"nullValue"in e?et:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?st($e.empty(),re.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:A()}function yt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?st($e.empty(),re.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Je:A()}function mt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function gt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bt=function(){function e(t){Object(p.a)(this,e),this.value=t}return Object(v.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ft(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dt(t)}},{key:"setAll",value:function(e){var t=this,n=ne.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dt(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ft(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ft(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ae(t,function(t,n){return e[t]=n});var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;delete e[u]}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}},{key:"clone",value:function(){return new e(dt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function _t(e){var t=[];return Ae(e.fields,function(e,n){var r=new ne([e]);if(ft(n)){var i=_t(n.mapValue).fields;if(0===i.length)t.push(r);else{var a=!0,o=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;t.push(r.child(l))}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}else t.push(r)}),new Ue(t)}var kt=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Object(v.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=X.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,X.min(),X.min(),bt.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,X.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,X.min(),bt.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,X.min(),bt.empty(),2)}}]),e}(),wt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null};function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new wt(e,t,n,r,i,a,o)}function xt(e){var t=N(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return(t=e).field.canonicalString()+t.op.toString()+ot(t.value);var t}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),Ze(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return ot(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return ot(e)}).join(",")),t.ut=n}return t.ut}function Tt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!nt(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qt(e.startAt,t.startAt)&&qt(e.endAt,t.endAt)}function St(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Et(e,t){return e.filters.filter(function(e){return e instanceof Ct&&e.field.isEqual(t)})}function It(e,t,n){var r=et,i=!0,a=!0,o=!1,s=void 0;try{for(var u,c=Et(e,t)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,h=et,f=!0;switch(l.op){case"<":case"<=":h=vt(l.value);break;case"==":case"in":case">=":h=l.value;break;case">":h=l.value,f=!1;break;case"!=":case"not-in":h=et}mt({value:r,inclusive:i},{value:h,inclusive:f})<0&&(r=h,i=f)}}catch(v){o=!0,s=v}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}if(null!==n)for(var d=0;d<e.orderBy.length;++d)if(e.orderBy[d].field.isEqual(t)){var p=n.position[d];mt({value:r,inclusive:i},{value:p,inclusive:n.inclusive})<0&&(r=p,i=n.inclusive);break}return{value:r,inclusive:i}}function jt(e,t,n){var r=Je,i=!0,a=!0,o=!1,s=void 0;try{for(var u,c=Et(e,t)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,h=Je,f=!0;switch(l.op){case">=":case">":h=yt(l.value),f=!1;break;case"==":case"in":case"<=":h=l.value;break;case"<":h=l.value,f=!1;break;case"!=":case"not-in":h=Je}gt({value:r,inclusive:i},{value:h,inclusive:f})>0&&(r=h,i=f)}}catch(v){o=!0,s=v}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}if(null!==n)for(var d=0;d<e.orderBy.length;++d)if(e.orderBy[d].field.isEqual(t)){var p=n.position[d];gt({value:r,inclusive:i},{value:p,inclusive:n.inclusive})>0&&(r=p,i=n.inclusive);break}return{value:r,inclusive:i}}var Ct=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).field=e,i.op=n,i.value=r,i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(it(t,this.value)):null!==t&&tt(this.value)===tt(t)&&this.at(it(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,r):new At(e,n,r):"array-contains"===n?new Dt(e,r):"in"===n?new Mt(e,r):"not-in"===n?new Lt(e,r):"array-contains-any"===n?new Ft(e,r):new t(e,n,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Pt(e,n):new Rt(e,n)}}]),t}(function(){return function e(){Object(p.a)(this,e)}}()),At=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this,e,n,r))).key=re.fromName(r.referenceValue),i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){var t=re.comparator(e.key,this.key);return this.at(t)}}]),t}(Ct),Pt=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,"in",n))).keys=Nt("in",n),r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ct),Rt=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,"not-in",n))).keys=Nt("not-in",n),r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ct);function Nt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return re.fromName(e.referenceValue)})}var Dt=function(e){function t(e,n){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"array-contains",n))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ct(t)&&rt(t.arrayValue,this.value)}}]),t}(Ct),Mt=function(e){function t(e,n){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"in",n))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rt(this.value.arrayValue,t)}}]),t}(Ct),Lt=function(e){function t(e,n){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"not-in",n))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){if(rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rt(this.value.arrayValue,t)}}]),t}(Ct),Ft=function(e){function t(e,n){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).call(this,e,"array-contains-any",n))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ct(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return rt(t.value.arrayValue,e)})}}]),t}(Ct),Ut=function e(t,n){Object(p.a)(this,e),this.position=t,this.inclusive=n},Vt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(p.a)(this,e),this.field=t,this.dir=n};function Bt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?re.comparator(re.fromName(o.referenceValue),n.key):it(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nt(e.position[n],t.position[n]))return!1;return!0}var Ht=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt};function Wt(e,t,n,r,i,a,o,s){return new Ht(e,t,n,r,i,a,o,s)}function Kt(e){return new Ht(e)}function Gt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yt(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.filters[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.ht())return o.field}}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return null}function $t(e){return null!==e.collectionGroup}function Zt(e){var t=N(e);if(null===t.lt){t.lt=[];var n=Yt(t),r=Gt(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Vt(n)),t.lt.push(new Vt(ne.keyField(),"asc"));else{var i=!1,a=!0,o=!1,s=void 0;try{for(var u,c=t.explicitOrderBy[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;t.lt.push(l),l.field.isKeyField()&&(i=!0)}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}if(!i){var h=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Vt(ne.keyField(),h))}}}return t.lt}function Qt(e){var t=N(e);if(!t.ft)if("F"===t.limitType)t.ft=Ot(t.path,t.collectionGroup,Zt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=Zt(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c="desc"===u.dir?"asc":"desc";n.push(new Vt(u.field,c))}}catch(f){i=!0,a=f}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var l=t.endAt?new Ut(t.endAt.position,t.endAt.inclusive):null,h=t.startAt?new Ut(t.startAt.position,t.startAt.inclusive):null;t.ft=Ot(t.path,t.collectionGroup,n,t.filters,t.limit,l,h)}return t.ft}function Xt(e,t,n){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jt(e,t){return Tt(Qt(e),Qt(t))&&e.limitType===t.limitType}function en(e){return"".concat(xt(Qt(e)),"|lt:").concat(e.limitType)}function tn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ot(t.value));var t}).join(", "),"]")),Ze(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return ot(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return ot(e)}).join(",")),"Target(".concat(t,")")}(Qt(e)),"; limitType=").concat(e.limitType,")")}function nn(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):re.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.explicitOrderBy[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!s.field.isKeyField()&&null===t.data.field(s.field))return!1}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}(e,t)&&function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.filters[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){if(!a.value.matches(t))return!1}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zt(e),t))&&!(e.endAt&&!function(e,t,n){var r=zt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zt(e),t))}(e,t)}function rn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function an(e){return function(t,n){var r=!1,i=!0,a=!1,o=void 0;try{for(var s,u=Zt(e)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=on(c,t,n);if(0!==l)return l;r=r||c.field.isKeyField()}}catch(h){a=!0,o=h}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return 0}}function on(e,t,n){var r=e.field.isKeyField()?re.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?it(r,i):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}function sn(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qe(t)?"-0":t}}function un(e){return{integerValue:""+e}}function cn(e,t){return Xe(t)?un(t):sn(e,t)}var ln=function e(){Object(p.a)(this,e),this._=void 0};function hn(e,t,n){return e instanceof pn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vn?yn(e,t):e instanceof mn?gn(e,t):function(e,t){var n=dn(e,t),r=_n(n)+_n(e._t);return ut(n)&&ut(e._t)?un(r):sn(e.wt,r)}(e,t)}function fn(e,t,n){return e instanceof vn?yn(e,t):e instanceof mn?gn(e,t):n}function dn(e,t){return e instanceof bn?ut(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var pn=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),t}(ln),vn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).elements=e,n}return Object(f.a)(t,e),t}(ln);function yn(e,t){var n=kn(t),r=!0,i=!1,a=void 0;try{for(var o,s=function(){var e=o.value;n.some(function(t){return nt(t,e)})||n.push(e)},u=e.elements[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)s()}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return{arrayValue:{values:n}}}var mn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).elements=e,n}return Object(f.a)(t,e),t}(ln);function gn(e,t){var n=kn(t),r=!0,i=!1,a=void 0;try{for(var o,s=function(){var e=o.value;n=n.filter(function(t){return!nt(t,e)})},u=e.elements[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)s()}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return{arrayValue:{values:n}}}var bn=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this))).wt=e,r._t=n,r}return Object(f.a)(t,e),t}(ln);function _n(e){return He(e.integerValue||e.doubleValue)}function kn(e){return ct(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wn=function e(t,n){Object(p.a)(this,e),this.field=t,this.transform=n};var On=function e(t,n){Object(p.a)(this,e),this.version=t,this.transformResults=n},xn=function(){function e(t,n){Object(p.a)(this,e),this.updateTime=t,this.exists=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}},{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Tn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sn=function e(){Object(p.a)(this,e)};function En(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Un(e.key,xn.none()):new Pn(e.key,e.data,xn.none());var n=e.data,r=bt.empty(),i=new Me(ne.comparator),a=!0,o=!1,s=void 0;try{for(var u,c=t.fields[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;if(!i.has(l)){var h=n.field(l);null===h&&l.length>1&&(l=l.popLast(),h=n.field(l)),null===h?r.delete(l):r.set(l,h),i=i.add(l)}}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return new Rn(e.key,r,new Ue(i.toArray()),xn.none())}function In(e,t,n){e instanceof Pn?function(e,t,n){var r=e.value.clone(),i=Dn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rn?function(e,t,n){if(Tn(e.precondition,t)){var r=Dn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jn(e,t,n,r){return e instanceof Pn?function(e,t,n,r){if(!Tn(e.precondition,t))return n;var i=e.value.clone(),a=Mn(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rn?function(e,t,n,r){if(!Tn(e.precondition,t))return n;var i=Mn(e.fieldTransforms,r,t),a=t.data;return a.setAll(Nn(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function(e){return e.field}))}(e,t,n,r):function(e,t,n){return Tn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cn(e,t){var n=null,r=!0,i=!1,a=void 0;try{for(var o,s=e.fieldTransforms[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=t.data.field(u.field),l=dn(u.transform,c||null);null!=l&&(null===n&&(n=bt.empty()),n.set(u.field,l))}}catch(h){i=!0,a=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n||null}function An(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vn&&t instanceof vn||e instanceof mn&&t instanceof mn?$(e.elements,t.elements,nt):e instanceof bn&&t instanceof bn?nt(e._t,t._t):e instanceof pn&&t instanceof pn}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Pn=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).key=e,i.value=n,i.precondition=r,i.fieldTransforms=a,i.type=0,i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sn),Rn=function(e){function t(e,n,r,i){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(p.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this))).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(f.a)(t,e),Object(v.a)(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),t}(Sn);function Nn(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Dn(e,t,n){var r=new Map;P(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,fn(o,s,n[i]))}return r}function Mn(e,t,n){var r=new Map,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=c.transform,h=n.data.field(c.field);r.set(c.field,hn(l,h,t))}}catch(f){a=!0,o=f}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return r}var Ln,Fn,Un=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this))).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sn),Vn=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this))).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sn),Bn=function e(t){Object(p.a)(this,e),this.count=t};function zn(e){switch(e){default:return A();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function qn(e){if(void 0===e)return I("GRPC error has no .code"),D.UNKNOWN;switch(e){case Ln.OK:return D.OK;case Ln.CANCELLED:return D.CANCELLED;case Ln.UNKNOWN:return D.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return D.INTERNAL;case Ln.UNAVAILABLE:return D.UNAVAILABLE;case Ln.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ln.NOT_FOUND:return D.NOT_FOUND;case Ln.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ln.ABORTED:return D.ABORTED;case Ln.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ln.DATA_LOSS:return D.DATA_LOSS;default:return A()}}(Fn=Ln||(Ln={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";var Hn=function(){function e(t,n){Object(p.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(v.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r=!0,i=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=Object(a.a)(s.value,2),l=c[0],h=c[1];if(this.equalsFn(l,e))return h}}catch(f){i=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ae(this.inner,function(t,n){var r=!0,i=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=Object(a.a)(s.value,2),l=c[0],h=c[1];e(l,h)}}catch(f){i=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}})}},{key:"isEmpty",value:function(){return Pe(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wn=new Re(re.comparator);function Kn(){return Wn}var Gn=new Re(re.comparator);function Yn(){for(var e=Gn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var a=n[i];e=e.insert(a.key,a)}return e}function $n(e){var t=Gn;return e.forEach(function(e,n){return t=t.insert(e,n.overlayedDocument)}),t}function Zn(){return Xn()}function Qn(){return Xn()}function Xn(){return new Hn(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}var Jn=new Re(re.comparator),er=new Me(re.comparator);function tr(){for(var e=er,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var a=n[i];e=e.add(a)}return e}var nr=new Me(Y);function rr(){return nr}var ir=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ar.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(X.min(),r,rr(),Kn(),tr())}}]),e}(),ar=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Be.EMPTY_BYTE_STRING,n,tr(),tr(),tr())}}]),e}(),or=function e(t,n,r,i){Object(p.a)(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i},sr=function e(t,n){Object(p.a)(this,e),this.targetId=t,this.It=n},ur=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Be.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(p.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},cr=function(){function e(){Object(p.a)(this,e),this.Tt=0,this.Et=fr(),this.At=Be.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Object(v.a)(e,[{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=tr(),t=tr(),n=tr();return this.Et.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}}),new ar(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=fr()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}},{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}}]),e}(),lr=function(){function e(t){Object(p.a)(this,e),this.Mt=t,this.Ft=new Map,this.$t=Kn(),this.Bt=hr(),this.Lt=new Me(Y)}return Object(v.a)(e,[{key:"Ut",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.gt[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.yt&&e.yt.isFoundDocument()?this.qt(o,e.yt):this.Kt(o,e.key,e.yt)}}catch(d){n=!0,r=d}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var s=!0,u=!1,c=void 0;try{for(var l,h=e.removedTargetIds[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var f=l.value;this.Kt(f,e.key,e.yt)}}catch(d){u=!0,c=d}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:A()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach(function(e,r){n.jt(r)&&t(r)})}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(St(i))if(0===n){var a=new re(i.path);this.Kt(t,a,kt.newNoDocument(a,X.min()))}else P(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach(function(r,i){var a=t.Ht(i);if(a){if(r.current&&St(a.target)){var o=new re(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,kt.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}});var r=tr();this.Bt.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.$t.forEach(function(t,n){return n.setReadTime(e)});var i=new ir(e,n,this.Lt,this.$t,r);return this.$t=Kn(),this.Bt=hr(),this.Lt=new Me(Y),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new cr,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Me(Y),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||E("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new cr),this.Mt.getRemoteKeysForTarget(e).forEach(function(n){t.Kt(e,n,null)})}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function hr(){return new Re(re.comparator)}function fr(){return new Re(re.comparator)}var dr={asc:"ASCENDING",desc:"DESCENDING"},pr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vr=function e(t,n){Object(p.a)(this,e),this.databaseId=t,this.dt=n};function yr(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function mr(e,t){return e.dt?t.toBase64():t.toUint8Array()}function gr(e){return P(!!e),X.fromTimestamp(function(e){var t=qe(e);return new Q(t.seconds,t.nanos)}(e))}function br(e,t){return function(e){return new ee(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function _r(e){var t=ee.fromString(e);return P(Lr(t)),t}function kr(e,t){return br(e.databaseId,t.path)}function wr(e,t){var n=_r(t);if(n.get(1)!==e.databaseId.projectId)throw new M(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(Sr(n))}function Or(e,t){return br(e.databaseId,t)}function xr(e){var t=_r(e);return 4===t.length?ee.emptyPath():Sr(t)}function Tr(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sr(e){return P(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Er(e,t,n){return{name:kr(e,t),fields:n.value.mapValue.fields}}function Ir(e,t,n){var r=wr(e,t.name),i=gr(t.updateTime),a=new bt({mapValue:{fields:t.fields}}),o=kt.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function jr(e,t){return"found"in t?function(e,t){P(!!t.found),t.found.name,t.found.updateTime;var n=wr(e,t.found.name),r=gr(t.found.updateTime),i=new bt({mapValue:{fields:t.found.fields}});return kt.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){P(!!t.missing),P(!!t.readTime);var n=wr(e,t.missing),r=gr(t.readTime);return kt.newNoDocument(n,r)}(e,t):A()}function Cr(e,t){var n;if(t instanceof Pn)n={update:Er(e,t.key,t.value)};else if(t instanceof Un)n={delete:kr(e,t.key)};else if(t instanceof Rn)n={update:Er(e,t.key,t.data),updateMask:function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof Vn))return A();n={verify:kr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof pn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bn)return{fieldPath:t.field.canonicalString(),increment:n._t};throw A()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:function(e,t){return yr(e,t.toTimestamp())}(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Ar(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?xn.updateTime(gr(e.updateTime)):void 0!==e.exists?xn.exists(e.exists):xn.none()}(t.currentDocument):xn.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)P("REQUEST_TIME"===t.setToServerValue),n=new pn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new mn(i)}else"increment"in t?n=new bn(e,t.increment):A();var a=ne.fromServerFormat(t.fieldPath);return new wn(a,n)}(e,t)}):[];if(t.update){t.update.name;var i=wr(e,t.update.name),a=new bt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ue(t.map(function(e){return ne.fromServerFormat(e)}))}(t.updateMask);return new Rn(i,a,o,n,r)}return new Pn(i,a,n,r)}if(t.delete){var s=wr(e,t.delete);return new Un(s,n)}if(t.verify){var u=wr(e,t.verify);return new Vn(u,n)}return A()}function Pr(e,t){return{documents:[Or(e,t.path)]}}function Rr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Or(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Or(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(ht(e.value))return{unaryFilter:{field:Dr(e.field),op:"IS_NAN"}};if(lt(e.value))return{unaryFilter:{field:Dr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ht(e.value))return{unaryFilter:{field:Dr(e.field),op:"IS_NOT_NAN"}};if(lt(e.value))return{unaryFilter:{field:Dr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(e.field),op:function(e){return pr[e]}(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Dr(e.field),direction:function(e){return dr[e]}(e.dir)}}(e)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||Ze(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nr(e){var t=xr(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){P(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Mr(e.unaryFilter.field);return Ct.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Mr(e.unaryFilter.field);return Ct.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mr(e.unaryFilter.field);return Ct.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mr(e.unaryFilter.field);return Ct.create(i,"!=",{nullValue:"NULL_VALUE"});default:return A()}}(t)]:void 0!==t.fieldFilter?[function(e){return Ct.create(Mr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):A():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return function(e){return new Vt(Mr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var c=null;n.limit&&(c=function(e){var t;return Ze(t="object"==Object(o.a)(e)?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Ut(n,t)}(n.startAt));var h=null;return n.endAt&&(h=function(e){var t=!e.before,n=e.values||[];return new Ut(n,t)}(n.endAt)),Wt(t,i,u,s,c,"F",l,h)}function Dr(e){return{fieldPath:e.canonicalString()}}function Mr(e){return ne.fromServerFormat(e.fieldPath)}function Lr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Fr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Vr(t)),t=Ur(e.get(n),t);return Vr(t)}function Ur(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Vr(e){return e+"\x01\x01"}function Br(e){var t=e.length;if(P(t>=2),2===t)return P("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ee.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:A()}a=o+2}return new ee(r)}var zr=["userId","batchId"];function qr(e,t){return[e,Fr(t)]}function Hr(e,t,n){return[e,Fr(t),n]}var Wr={},Kr=["prefixPath","collectionGroup","readTime","documentId"],Gr=["prefixPath","collectionGroup","documentId"],Yr=["collectionGroup","readTime","prefixPath","documentId"],$r=["canonicalId","targetId"],Zr=["targetId","path"],Qr=["path","targetId"],Xr=["collectionId","parent"],Jr=["indexId","uid"],ei=["uid","sequenceNumber"],ti=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ni=["indexId","uid","orderedDocumentKey"],ri=["userId","collectionPath","documentId"],ii=["userId","collectionPath","largestBatchId"],ai=["userId","collectionGroup","largestBatchId"],oi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),si=Object(d.a)(oi).concat(["documentOverlays"]),ui=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ci=ui,li=ci.concat(["indexConfiguration","indexState","indexEntries"]),hi=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this))).ee=e,r.currentSequenceNumber=n,r}return Object(f.a)(t,e),t}(pe);function fi(e,t){var n=N(e);return be.N(n.ee,t)}var di=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(v.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&In(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this.baseMutations[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.key.isEqual(e.key)&&(t=jn(s,e,t,this.localWriteTime))}}catch(p){r=!0,i=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var u=!0,c=!1,l=void 0;try{for(var h,f=this.mutations[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var d=h.value;d.key.isEqual(e.key)&&(t=jn(d,e,t,this.localWriteTime))}}catch(p){c=!0,l=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Qn();return this.mutations.forEach(function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=En(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},tr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,function(e,t){return An(e,t)})&&$(this.baseMutations,e.baseMutations,function(e,t){return An(e,t)})}}]),e}(),pi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(v.a)(e,null,[{key:"from",value:function(t,n,r){P(t.mutations.length===r.length);for(var i=Jn,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),vi=function(){function e(t,n){Object(p.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(v.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),yi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Be.EMPTY_BYTE_STRING;Object(p.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Object(v.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),mi=function e(t){Object(p.a)(this,e),this.ne=t};function gi(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bi(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:kr(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yr(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_i(t.version)};else{if(!t.isUnknownDocument())return A();r.unknownDocument={path:n.path.toArray(),version:_i(t.version)}}return r}function bi(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _i(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ki(e){var t=new Q(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function wi(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Ar(e.ne,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map(function(t){return Ar(e.ne,t)}),s=Q.fromMillis(t.localWriteTimeMs);return new di(t.batchId,s,n,o)}function Oi(e){var t,n,r=ki(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ki(e.lastLimboFreeSnapshotVersion):X.min();return void 0!==e.query.documents?(P(1===(n=e.query).documents.length),t=Qt(Kt(xr(n.documents[0])))):t=function(e){return Qt(Nr(e))}(e.query),new yi(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Be.fromBase64String(e.resumeToken))}function xi(e,t){var n,r=_i(t.snapshotVersion),i=_i(t.lastLimboFreeSnapshotVersion);n=St(t.target)?Pr(e.ne,t.target):Rr(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xt(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ti(e){var t=Nr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xt(t,t.limit,"L"):t}function Si(e,t){return new vi(t.largestBatchId,Ar(e.ne,t.overlayMutation))}function Ei(e,t){var n=t.path.lastSegment();return[e,Fr(t.path.popLast()),n]}function Ii(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:_i(r.readTime),documentKey:Fr(r.documentKey.path),largestBatchId:r.largestBatchId}}var ji=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Ci(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:ki(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Ci(e).put({bundleId:(n=t).id,createTime:_i(gr(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ai(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Ti(t.bundledQuery),readTime:ki(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Ai(e).put(function(e){return{name:e.name,readTime:_i(gr(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ci(e){return fi(e,"bundles")}function Ai(e){return fi(e,"namedQueries")}var Pi=function(){function e(t,n){Object(p.a)(this,e),this.wt=t,this.userId=n}return Object(v.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ri(e).get(Ei(this.userId,t)).next(function(e){return e?Si(n.wt,e):null})}},{key:"getOverlays",value:function(e,t){var n=this,r=Zn();return me.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach(function(n,a){var o=new vi(t,a);i.push(r.ie(e,o))}),me.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach(function(e){return i.add(Fr(e.getCollectionPath()))});var a=[];return i.forEach(function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ri(e).W("collectionPathOverlayIndex",i))}),me.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Zn(),a=Fr(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ri(e).K("collectionPathOverlayIndex",o).next(function(e){var t=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var u=o.value,c=Si(r.wt,u);i.set(c.getKey(),c)}}catch(l){n=!0,a=l}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}return i})}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Zn(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ri(e).J({index:"collectionGroupOverlayIndex",range:s},function(e,t,n){var s=Si(a.wt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()}).next(function(){return o})}},{key:"ie",value:function(e,t){return Ri(e).put(function(e,t,n){var r=Ei(t,n.mutation.key),i=Object(a.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Cr(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ri(e){return fi(e,"documentOverlays")}var Ni=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(He(e.integerValue));else if("doubleValue"in e){var n=He(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Qe(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(We(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?pt(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):A()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;this.oe(u,t)}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),re.fromName(e).path.forEach(function(e){n.ce(t,60),n.ge(e,t)})}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Di(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Mi(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Di(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ni.ye=new Ni;var Li=function(){function e(){Object(p.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(v.a)(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=o.charCodeAt(0);if(s<128)this.Ie(s);else if(s<2048)this.Ie(960|s>>>6),this.Ie(128|63&s);else if(o<"\ud800"||"\udbff"<o)this.Ie(480|s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s);else{var u=o.codePointAt(0);this.Ie(240|u>>>18),this.Ie(128|63&u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u)}}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}this.Te()}},{key:"Pe",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=o.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(o<"\ud800"||"\udbff"<o)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{var u=o.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Mi(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Mi(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Fi=function(){function e(t){Object(p.a)(this,e),this.Me=t}return Object(v.a)(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Ui=function(){function e(t){Object(p.a)(this,e),this.Me=t}return Object(v.a)(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Vi=function(){function e(){Object(p.a)(this,e),this.Me=new Li,this.Fe=new Fi(this.Me),this.$e=new Ui(this.Me)}return Object(v.a)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Bi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(v.a)(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function zi(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=qi(e.arrayValue,t.arrayValue))?n:0!==(n=qi(e.directionalValue,t.directionalValue))?n:re.comparator(e.documentKey,t.documentKey)}function qi(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Hi=function(){function e(t){Object(p.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n=!0,r=!1,i=void 0;try{for(var a,o=t.filters[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.ht()?this.Ke=s:this.qe.push(s)}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return Object(v.a)(e,[{key:"Ge",value:function(e){var t=ae(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=oe(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.qe[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(this.je(o,e))return!0}}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Wi=function(){function e(){Object(p.a)(this,e),this.ze=new Ki}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),me.resolve()}},{key:"getCollectionParents",value:function(e,t){return me.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return me.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return me.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return me.resolve(null)}},{key:"getIndexType",value:function(e,t){return me.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return me.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return me.resolve(null)}},{key:"getMinOffset",value:function(e,t){return me.resolve(he.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return me.resolve(he.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return me.resolve()}},{key:"updateIndexEntries",value:function(e,t){return me.resolve()}}]),e}(),Ki=function(){function e(){Object(p.a)(this,e),this.index={}}return Object(v.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Me(ee.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Me(ee.comparator)).toArray()}}]),e}(),Gi=new Uint8Array(0),Yi=function(){function e(t,n){Object(p.a)(this,e),this.user=t,this.databaseId=n,this.He=new Ki,this.Je=new Hn(function(e){return xt(e)},function(e,t){return Tt(e,t)}),this.uid=t.uid||""}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.He.add(t)});var a={collectionId:r,parent:Fr(i)};return $i(e).put(a)}return me.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Z(t),""],!1,!0);return $i(e).K(r).next(function(e){var r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u.collectionId!==t)break;n.push(Br(u.parent))}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n})}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Qi(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(function(e){return[e.fieldPath.canonicalString(),e.kind]})}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Xi(e);return a.next(function(e){o.put(Ii(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Qi(e),r=Xi(e),i=Zi(e);return n.delete(t.indexId).next(function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Zi(e),i=!0,a=new Map;return me.forEach(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){i&&(i=!!e),a.set(t,e)})}).next(function(){if(i){var e=tr(),o=[];return me.forEach(a,function(i,a){var s;E("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map(function(e){return"".concat(e.fieldPath,":").concat(e.kind)}).join(",")))," to execute ").concat(xt(t)));var u=function(e,t){var n=ae(i);if(void 0===n)return null;var r=!0,a=!1,o=void 0;try{for(var s,u=Et(e,n.fieldPath)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;switch(c.op){case"array-contains-any":return c.value.arrayValue.values||[];case"array-contains":return[c.value]}}}catch(l){a=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return null}(a),c=function(e,t){var n=new Map,r=!0,i=!1,a=void 0;try{for(var o,s=oe(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=!0,l=!1,h=void 0;try{for(var f,d=Et(e,u.fieldPath)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;switch(p.op){case"==":case"in":n.set(u.fieldPath.canonicalString(),p.value);break;case"not-in":case"!=":return n.set(u.fieldPath.canonicalString(),p.value),Array.from(n.values())}}}catch(v){l=!0,h=v}finally{try{c||null==d.return||d.return()}finally{if(l)throw h}}}}catch(v){i=!0,a=v}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return null}(a,i),l=function(e,t){var n=[],r=!0,i=!0,a=!1,o=void 0;try{for(var s,u=oe(t)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=0===c.kind?It(e,c.fieldPath,e.startAt):jt(e,c.fieldPath,e.startAt);n.push(l.value),r&&(r=l.inclusive)}}catch(h){a=!0,o=h}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return new Ut(n,r)}(a,i),h=function(e,t){var n=[],r=!0,i=!0,a=!1,o=void 0;try{for(var s,u=oe(t)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=0===c.kind?jt(e,c.fieldPath,e.endAt):It(e,c.fieldPath,e.endAt);n.push(l.value),r&&(r=l.inclusive)}}catch(h){a=!0,o=h}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return new Ut(n,r)}(a,i),f=n.Ze(i,a,l),d=n.Ze(i,a,h),p=n.tn(i,a,c),v=n.en(i.indexId,u,f,l.inclusive,d,h.inclusive,p);return me.forEach(v,function(n){return r.j(n,t.limit).next(function(t){t.forEach(function(t){var n=re.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))})})})}).next(function(){return o})}return me.resolve(null)})}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(u){var h=t?s.nn(t[u/c]):Gi,f=s.sn(e,h,n[u%c],r),p=s.rn(e,h,i[u%c],a),v=o.map(function(t){return s.sn(e,h,t,!0)});l.push.apply(l,Object(d.a)(s.createRange(f,p,v)))},f=0;f<u;++f)h(f);return l}},{key:"sn",value:function(e,t,n,r){var i=new Bi(e,re.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Bi(e,re.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Hi(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(function(e){var t=null,r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;n.Ge(u)&&(!t||u.fields.length>t.fields.length)&&(t=u)}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t})}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return me.forEach(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){e?0!==r&&e.fields.length<function(e){var t=new Me(ne.comparator),n=!1,r=!0,i=!1,a=void 0;try{for(var o,s=e.filters[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?n=!0:t=t.add(u.field))}}catch(v){i=!0,a=v}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var c=!0,l=!1,h=void 0;try{for(var f,d=e.orderBy[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;p.field.isKeyField()||(t=t.add(p.field))}}catch(v){l=!0,h=v}finally{try{c||null==d.return||d.return()}finally{if(l)throw h}}return t.size+(n?1:0)}(t)&&(r=1):r=0})}).next(function(){return r})}},{key:"on",value:function(e,t){var n=new Vi,r=!0,i=!1,a=void 0;try{for(var o,s=oe(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=t.data.field(u.fieldPath);if(null==c)return null;var l=n.Be(u.kind);Ni.ye.re(c,l)}}catch(h){i=!0,a=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n.Oe()}},{key:"nn",value:function(e){var t=new Vi;return Ni.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Vi;return Ni.ye.re(st(this.databaseId,t),n.Be(function(e){var t=oe(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Vi);var i=0,a=!0,o=!1,s=void 0;try{for(var u,c=oe(e)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,h=n[i++],f=!0,d=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var m=v.value;if(this.cn(t,l.fieldPath)&&ct(h))r=this.an(r,l,h);else{var g=m.Be(l.kind);Ni.ye.re(h,g)}}}catch(b){d=!0,p=b}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}}catch(b){o=!0,s=b}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r=Object(d.a)(e),i=[],a=!0,o=!1,s=void 0;try{for(var u,c=(n.arrayValue.values||[])[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,h=!0,f=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var m=v.value,g=new Vi;g.seed(m.Oe()),Ni.ye.re(l,g.Be(t.kind)),i.push(g)}}catch(b){f=!0,p=b}finally{try{h||null==y.return||y.return()}finally{if(f)throw p}}}}catch(b){o=!0,s=b}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i}},{key:"cn",value:function(e,t){return!!e.filters.find(function(e){return e instanceof Ct&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)})}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Qi(e),i=Xi(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(function(e){var t=[];return me.forEach(e,function(e){return i.get([e.indexId,n.uid]).next(function(n){t.push(function(e,t){var n=t?new ue(t.sequenceNumber,new he(ki(t.readTime),new re(Br(t.documentKey)),t.largestBatchId)):ue.empty(),r=e.fields.map(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return new se(ne.fromServerFormat(n),r)});return new ie(e.indexId,e.collectionGroup,r,n)}(e,n))})}).next(function(){return t})})}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next(function(e){return 0===e.length?null:(e.sort(function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Y(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup)})}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Qi(e),a=Xi(e);return this.ln(e).next(function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(function(t){return me.forEach(t,function(t){return a.put(Ii(t.indexId,r.user,e,n))})})})}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return me.forEach(t,function(t,i){var a=r.get(t.collectionGroup);return(a?me.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next(function(a){return r.set(t.collectionGroup,a),me.forEach(a,function(r){return n.fn(e,t,r).next(function(t){var a=n.dn(i,r);return t.isEqual(a)?me.resolve():n._n(e,i,r,t,a)})})})})}},{key:"wn",value:function(e,t,n,r){return Zi(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Zi(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Zi(e),i=new Me(zi);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},function(e,r){i=i.add(new Bi(n.indexId,t,r.arrayValue,r.directionalValue))}).next(function(){return i})}},{key:"dn",value:function(e,t){var n=new Me(zi),r=this.on(t,e);if(null==r)return n;var i=ae(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ct(a)){var o=!0,s=!1,u=void 0;try{for(var c,l=(a.arrayValue.values||[])[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var h=c.value;n=n.add(new Bi(t.indexId,e.key,this.nn(h),r))}}catch(f){s=!0,u=f}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}}else n=n.add(new Bi(t.indexId,e.key,Gi,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;E("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Fe(a),u=Fe(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Fe(o)):l?(i(s),s=Fe(a)):(s=Fe(a),u=Fe(o))}}(r,i,zi,function(r){o.push(a.wn(e,t,n,r))},function(r){o.push(a.mn(e,t,n,r))}),me.waitFor(o)}},{key:"ln",value:function(e){var t=1;return Xi(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},function(e,n,r){r.done(),t=n.sequenceNumber+1}).next(function(){return t})}},{key:"createRange",value:function(e,t,n){n=n.sort(function(e,t){return zi(e,t)}).filter(function(e,t,n){return!t||0!==zi(e,n[t-1])});var r=[];r.push(e);var i=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=zi(c,e),h=zi(c,t);if(0===l)r[0]=e.Le();else if(l>0&&h<0)r.push(c),r.push(c.Le());else if(h>0)break}}catch(p){a=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}r.push(t);for(var f=[],d=0;d<r.length;d+=2)f.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,Gi,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,Gi,[]]));return f}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ji)}},{key:"getMinOffset",value:function(e,t){var n=this;return me.mapArray(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){return e||A()})}).next(Ji)}}]),e}();function $i(e){return fi(e,"collectionParents")}function Zi(e){return fi(e,"indexEntries")}function Qi(e){return fi(e,"indexConfiguration")}function Xi(e){return fi(e,"indexState")}function Ji(e){P(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;fe(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new he(t.readTime,t.documentKey,n)}var ea={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ta=function(){function e(t,n,r){Object(p.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(v.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function na(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.J({range:o},function(e,t,n){return s++,n.delete()});a.push(u.next(function(){P(1===s)}));var c=[],l=!0,h=!1,f=void 0;try{for(var d,p=n.mutations[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value,y=Hr(t,v.key.path,n.batchId);a.push(i.delete(y)),c.push(v.key)}}catch(m){h=!0,f=m}finally{try{l||null==p.return||p.return()}finally{if(h)throw f}}return me.waitFor(a).next(function(){return c})}function ra(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(41943040,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);var ia=function(){function e(t,n,r,i){Object(p.a)(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).J({index:"userMutationsIndex",range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sa(e),o=oa(e);return o.add({}).next(function(s){P("number"==typeof s);var u=new di(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return Cr(e.ne,t)}),i=n.mutations.map(function(t){return Cr(e.ne,t)});return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,u),l=[],h=new Me(function(e,t){return Y(e.canonicalString(),t.canonicalString())}),f=!0,d=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var m=v.value,g=Hr(i.userId,m.key.path,s);h=h.add(m.key.path.popLast()),l.push(o.put(c)),l.push(a.put(g,Wr))}}catch(b){d=!0,p=b}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}return h.forEach(function(t){l.push(i.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.gn[s]=u.keys()}),me.waitFor(l).next(function(){return u})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return oa(e).get(t).next(function(e){return e?(P(e.userId===n.userId),wi(n.wt,e)):null})}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?me.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return oa(e).J({index:"userMutationsIndex",range:i},function(e,t,i){t.userId===n.userId&&(P(t.batchId>=r),a=wi(n.wt,t)),i.done()}).next(function(){return a})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oa(e).J({index:"userMutationsIndex",range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).K("userMutationsIndex",n).next(function(e){return e.map(function(e){return wi(t.wt,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=qr(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return sa(e).J({range:i},function(r,i,s){var u=Object(a.a)(r,3),c=u[0],l=u[1],h=u[2],f=Br(l);if(c===n.userId&&t.path.isEqual(f))return oa(e).get(h).next(function(e){if(!e)throw A();P(e.userId===n.userId),o.push(wi(n.wt,e))});s.done()}).next(function(){return o})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Me(Y),i=[];return t.forEach(function(t){var o=qr(n.userId,t.path),s=IDBKeyRange.lowerBound(o),u=sa(e).J({range:s},function(e,i,o){var s=Object(a.a)(e,3),u=s[0],c=s[1],l=s[2],h=Br(c);u===n.userId&&t.path.isEqual(h)?r=r.add(l):o.done()});i.push(u)}),me.waitFor(i).next(function(){return n.pn(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=qr(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Me(Y);return sa(e).J({range:s},function(e,t,o){var s=Object(a.a)(e,3),c=s[0],l=s[1],h=s[2],f=Br(l);c===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(h)):o.done()}).next(function(){return n.pn(e,u)})}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(oa(e).get(t).next(function(e){if(null===e)throw A();P(e.userId===n.userId),r.push(wi(n.wt,e))}))}),me.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return na(e.ee,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.In(t.batchId)}),me.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return me.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sa(e).J({range:r},function(e,n,r){if(e[0]===t.userId){var a=Br(e[1]);i.push(a)}else r.done()}).next(function(){P(0===i.length)})})}},{key:"containsKey",value:function(e,t){return aa(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return ua(e).get(this.userId).next(function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}],[{key:"se",value:function(t,n,r,i){return P(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aa(e,t,n){var r=qr(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return sa(e).J({range:o,H:!0},function(e,n,r){var o=Object(a.a)(e,3),u=o[0],c=o[1];o[2];u===t&&c===i&&(s=!0),r.done()}).next(function(){return s})}function oa(e){return fi(e,"mutations")}function sa(e){return fi(e,"documentMutations")}function ua(e){return fi(e,"mutationQueues")}var ca=function(){function e(t){Object(p.a)(this,e),this.En=t}return Object(v.a)(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),la=function(){function e(t,n){Object(p.a)(this,e),this.referenceDelegate=t,this.wt=n}return Object(v.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next(function(n){var r=new ca(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next(function(e){return X.fromTimestamp(new Q(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next(function(){return n.bn(e).next(function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return ha(e).delete(t.targetId)}).next(function(){return n.bn(e)}).next(function(t){return P(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ha(e).J(function(o,s){var u=Oi(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))}).next(function(){return me.waitFor(a)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return ha(e).J(function(e,n){var r=Oi(n);t(r)})}},{key:"bn",value:function(e){return fa(e).get("targetGlobalKey").next(function(e){return P(null!==e),e})}},{key:"Pn",value:function(e,t){return fa(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return ha(e).put(xi(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=xt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ha(e).J({range:r,index:"queryTargetsIndex"},function(e,n,r){var a=Oi(n);Tt(t,a.target)&&(i=a,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=da(e);return t.forEach(function(t){var o=Fr(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))}),me.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=da(e);return me.forEach(t,function(t){var a=Fr(t.path);return me.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=da(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=da(e),i=tr();return r.J({range:n,H:!0},function(e,t,n){var r=Br(e[1]),a=new re(r);i=i.add(a)}).next(function(){return i})}},{key:"containsKey",value:function(e,t){var n=Fr(t.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),i=0;return da(e).J({index:"documentTargetsIndex",H:!0,range:r},function(e,t,n){var r=Object(a.a)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())}).next(function(){return i>0})}},{key:"te",value:function(e,t){return ha(e).get(t).next(function(e){return e?Oi(e):null})}}]),e}();function ha(e){return fi(e,"targets")}function fa(e){return fi(e,"targetGlobal")}function da(e){return fi(e,"targetDocuments")}function pa(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1],o=Object(a.a)(t,2),s=o[0],u=o[1],c=Y(r,s);return 0===c?Y(i,u):c}var va=function(){function e(t){Object(p.a)(this,e),this.Sn=t,this.buffer=new Me(pa),this.Dn=0}return Object(v.a)(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pa(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ya=function(){function e(t,n,r){Object(p.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Object(v.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"kn",value:function(e){var t=this;E("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!we(e.t0)){e.next=12;break}E("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ve(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}},e,this,[[1,6]])})))}},{key:"started",get:function(){return null!==this.Nn}}]),e}(),ma=function(){function e(t,n){Object(p.a)(this,e),this.On=t,this.params=n}return Object(v.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return me.resolve(je.ot);var r=new va(t);return this.On.forEachTarget(e,function(e){return r.xn(e.sequenceNumber)}).next(function(){return n.On.Fn(e,function(e){return r.xn(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(ea)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ea):n.$n(e,t)})}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),T()<=g.a.DEBUG&&E("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),ga=function(){function e(t,n){Object(p.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new ma(e,t)}(this,n)}return Object(v.a)(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return ba(e,n)}},{key:"removeReference",value:function(e,t,n){return ba(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ba(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return ua(e).Y(function(r){return aa(e,r,t).next(function(e){return e&&(n=!0),me.resolve(!e)})}).next(function(){return n})}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,function(o,s){if(s<=t){var u=n.Un(e,o).next(function(t){if(!t)return a++,r.getEntry(e,o).next(function(){return r.removeEntry(o,X.min()),da(e).delete([0,Fr(o.path)])})});i.push(u)}}).next(function(){return me.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return a})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ba(e,t)}},{key:"Ln",value:function(e,t){var n,r=da(e),i=je.ot;return r.J({index:"documentTargetsIndex"},function(e,r){var o=Object(a.a)(e,2),s=o[0],u=(o[1],r.path),c=r.sequenceNumber;0===s?(i!==je.ot&&t(new re(Br(n)),i),i=c,n=u):i=je.ot}).next(function(){i!==je.ot&&t(new re(Br(n)),i)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ba(e,t){return da(e).put(function(e,t){return{targetId:0,path:Fr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var _a=function(){function e(){Object(p.a)(this,e),this.changes=new Hn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(v.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?me.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ka=function(){function e(t){Object(p.a)(this,e),this.wt=t}return Object(v.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ta(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ta(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bi(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.qn(e,r)})}},{key:"getEntry",value:function(e,t){var n=this,r=kt.newInvalidDocument(t);return Ta(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Sa(t))},function(e,i){r=n.Kn(t,i)}).next(function(){return r})}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:kt.newInvalidDocument(t)};return Ta(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Sa(t))},function(e,i){r={document:n.Kn(t,i),size:ra(i)}}).next(function(){return r})}},{key:"getEntries",value:function(e,t){var n=this,r=Kn();return this.Qn(e,t,function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"jn",value:function(e,t){var n=this,r=Kn(),i=new Re(re.comparator);return this.Qn(e,t,function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,ra(t))}).next(function(){return{documents:r,Wn:i}})}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return me.resolve();var r=new Me(Ia);t.forEach(function(e){return r=r.add(e)});var i=IDBKeyRange.bound(Sa(r.first()),Sa(r.last())),a=r.getIterator(),o=a.getNext();return Ta(e).J({index:"documentKeyIndex",range:i},function(e,t,r){for(var i=re.fromSegments(Object(d.a)(t.prefixPath).concat([t.collectionGroup,t.documentId]));o&&Ia(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Sa(o)):r.done()}).next(function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),bi(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ta(e).K(IDBKeyRange.bound(i,a,!0)).next(function(e){var t=Kn(),n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=r.Kn(re.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);t=t.insert(c.key,c)}}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return t})}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kn(),o=Ea(t,n),s=Ea(t,he.max());return Ta(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},function(e,t,n){var o=i.Kn(re.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()}).next(function(){return a})}},{key:"newChangeBuffer",value:function(e){return new Oa(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return xa(e).get("remoteDocumentGlobalKey").next(function(e){return P(!!e),e})}},{key:"qn",value:function(e,t){return xa(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ir(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=re.fromSegments(t.noDocument.path),i=ki(t.noDocument.readTime);n=kt.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return A();var a=re.fromSegments(t.unknownDocument.path),o=ki(t.unknownDocument.version);n=kt.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Q(e[0],e[1]);return X.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(X.min()))return n}return kt.newInvalidDocument(e)}}]),e}();function wa(e){return new ka(e)}var Oa=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this))).zn=e,r.trackRemovals=n,r.Hn=new Hn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Me(function(e,t){return Y(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,o){var s=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=gi(t.zn.wt,o);i=i.add(a.path.popLast());var c=ra(u);r+=c-s.size,n.push(t.zn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=gi(t.zn.wt,o.convertToNoDocument(X.min()));n.push(t.zn.addEntry(e,a,l))}}),i.forEach(function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))}),n.push(this.zn.updateMetadata(e,r)),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next(function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next(function(e){var t=e.documents;return e.Wn.forEach(function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})}),t})}}]),t}(_a);function xa(e){return fi(e,"remoteDocumentGlobal")}function Ta(e){return fi(e,"remoteDocumentsV14")}function Sa(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ea(e,t){var n=t.documentKey.path.toArray();return[e,bi(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ia(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Y(n[a],r[a]))return i;return(i=Y(n.length,r.length))||((i=Y(n[n.length-2],r[r.length-2]))||Y(n[n.length-1],r[r.length-1]))}var ja=function e(t,n){Object(p.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},Ca=function(){function e(t,n,r,i){Object(p.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(v.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next(function(i){return r=i,n.getBaseDocument(e,t,r)}).next(function(e){return null!==r&&jn(r.mutation,e,Ue.empty(),Q.now()),e})}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t,tr()).next(function(){return t})})}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr(),i=Zn();return this.populateOverlays(e,i,t).next(function(){return n.computeViews(e,t,i,r).next(function(e){var t=Yn();return e.forEach(function(e,n){t=t.insert(e,n.overlayedDocument)}),t})})}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Zn();return this.populateOverlays(e,r,t).next(function(){return n.computeViews(e,t,r,tr())})}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach(function(e){t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(function(e){e.forEach(function(e,n){t.set(e,n)})})}},{key:"computeViews",value:function(e,t,n,r){var i=Kn(),a=Xn(),o=Xn();return t.forEach(function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Rn)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),jn(o.mutation,t,o.mutation.getFieldMask(),Q.now()))}),this.recalculateAndSaveOverlays(e,i).next(function(e){return e.forEach(function(e,t){return a.set(e,t)}),t.forEach(function(e,t){var n;return o.set(e,new ja(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o})}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Xn(),i=new Re(function(e,t){return e-t}),a=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){var n=!0,a=!1,o=void 0;try{for(var s,u=function(){var e=s.value;e.keys().forEach(function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ue.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||tr()).add(n);i=i.insert(e.batchId,s)}})},c=e[Symbol.iterator]();!(n=(s=c.next()).done);n=!0)u()}catch(l){a=!0,o=l}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}}).next(function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Qn();c.forEach(function(e){if(!a.has(e)){var n=En(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}}),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return me.waitFor(o)}).next(function(){return r})}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.recalculateAndSaveOverlays(e,t)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$t(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):me.resolve(Zn()),s=-1,u=a;return o.next(function(t){return me.forEach(t,function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?me.resolve():i.getBaseDocument(e,t,n).next(function(e){u=u.insert(t,e)})}).next(function(){return i.populateOverlays(e,t,a)}).next(function(){return i.computeViews(e,u,t,tr())}).next(function(e){return{batchId:s,changes:$n(e)}})})})}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new re(t)).next(function(e){var t=Yn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yn();return this.indexManager.getCollectionParents(e,i).next(function(o){return me.forEach(o,function(o){var s=function(e,t){return new Ht(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)}).next(function(e){e.forEach(function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,kt.newInvalidDocument(n)))});var n=Yn();return r.forEach(function(r,i){var a=e.get(r);void 0!==a&&jn(a.mutation,i,Ue.empty(),Q.now()),nn(t,i)&&(n=n.insert(r,i))}),n})}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(kt.newInvalidDocument(t))}}]),e}(),Aa=function(){function e(t){Object(p.a)(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return me.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:gr(n.createTime)}),me.resolve()}},{key:"getNamedQuery",value:function(e,t){return me.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Ti(e.bundledQuery),readTime:gr(e.readTime)}}(t)),me.resolve()}}]),e}(),Pa=function(){function e(){Object(p.a)(this,e),this.overlays=new Re(re.comparator),this.Xn=new Map}return Object(v.a)(e,[{key:"getOverlay",value:function(e,t){return me.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zn();return me.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,i){r.ie(e,t,i)}),me.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.Xn.delete(n)),me.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Zn(),i=t.length+1,a=new re(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return me.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Re(function(e,t){return e-t}),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Zn(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Zn(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach(function(e,t){return u.set(e,t)}),!(u.size()>=r)););return me.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new vi(t,n));var a=this.Xn.get(t);void 0===a&&(a=tr(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Ra=function(){function e(){Object(p.a)(this,e),this.Zn=new Me(Na.ts),this.es=new Me(Na.ns)}return Object(v.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Na(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.rs(new Na(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"us",value:function(e){var t=this,n=new re(new ee([])),r=new Na(n,e),i=new Na(n,e+1),a=[];return this.es.forEachInRange([r,i],function(e){t.rs(e),a.push(e.key)}),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach(function(t){return e.rs(t)})}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new re(new ee([])),n=new Na(t,e),r=new Na(t,e+1),i=tr();return this.es.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new Na(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Na=function(){function e(t,n){Object(p.a)(this,e),this.key=t,this.ls=n}return Object(v.a)(e,null,[{key:"ts",value:function(e,t){return re.comparator(e.key,t.key)||Y(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Y(e.ls,t.ls)||re.comparator(e.key,t.key)}}]),e}(),Da=function(){function e(t,n){Object(p.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Me(Na.ts)}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){return me.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new di(i,t,n,r);this.mutationQueue.push(a);var o=!0,s=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var h=c.value;this.ds=this.ds.add(new Na(h.key,i)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast())}}catch(f){s=!0,u=f}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return me.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return me.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return me.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Na(t,0),i=new Na(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],function(e){var t=n._s(e.ls);a.push(t)}),me.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Me(Y);return t.forEach(function(e){var t=new Na(e,0),i=new Na(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],function(e){r=r.add(e.ls)})}),me.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;re.isDocumentKey(i)||(i=i.child(""));var a=new Na(new re(i),0),o=new Me(Y);return this.ds.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},a),me.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t._s(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;P(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return me.forEach(t.mutations,function(i){var a=new Na(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ds=r})}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Na(t,0),r=this.ds.firstAfterOrEqual(n);return me.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,me.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ma=function(){function e(t){Object(p.a)(this,e),this.ps=t,this.docs=new Re(re.comparator),this.size=0}return Object(v.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():kt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kn();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():kt.newInvalidDocument(e))}),me.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Kn(),i=new re(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||fe(le(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return me.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){A()}},{key:"Is",value:function(e,t){return me.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new La(this)}},{key:"getSize",value:function(e){return me.resolve(this.size)}}]),e}(),La=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).zn=e,n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)}),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),t}(_a),Fa=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.Ts=new Hn(function(e){return xt(e)},Tt),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Es=0,this.As=new Ra,this.targetCount=0,this.Rs=ca.An()}return Object(v.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach(function(e,n){return t(n)}),me.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return me.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return me.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),me.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),me.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,me.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),me.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,me.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach(function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),me.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return me.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return me.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),me.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),me.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),me.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return me.resolve(n)}},{key:"containsKey",value:function(e,t){return me.resolve(this.As.containsKey(t))}}]),e}(),Ua=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.bs={},this.overlays={},this.Ps=new je(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Fa(this),this.indexManager=new Wi,this.remoteDocumentCache=new Ma(function(e){return r.referenceDelegate.Ss(e)}),this.wt=new mi(n),this.Ds=new Aa(this.wt)}return Object(v.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Pa,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Da(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;E("MemoryPersistence","Starting transaction:",e);var i=new Va(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next(function(e){return r.referenceDelegate.xs(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ns",value:function(e,t){return me.or(Object.values(this.bs).map(function(n){return function(){return n.containsKey(e,t)}}))}},{key:"started",get:function(){return this.vs}}]),e}(),Va=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).currentSequenceNumber=e,n}return Object(f.a)(t,e),t}(pe),Ba=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.ks=new Ra,this.Os=null}return Object(v.a)(e,[{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),me.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),me.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),me.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach(function(e){return n.Fs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.Fs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Fs,function(r){var i=re.fromPath(r);return t.$s(e,i).next(function(e){e||n.removeEntry(i,X.min())})}).next(function(){return t.Os=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next(function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())})}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return me.or([function(){return me.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}},{key:"Fs",get:function(){if(this.Os)return this.Os;throw A()}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),za=function(){function e(t){Object(p.a)(this,e),this.wt=t}return Object(v.a)(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new ge("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zr,{unique:!0}),e.createObjectStore("documentMutations")}(e),qa(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=me.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qa(e)),o=o.next(function(){return e=a.store("targetGlobal"),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:X.min().toTimestamp(),targetCount:0},e.put("targetGlobalKey",t);var e,t})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store("mutations").K().next(function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zr,{unique:!0});var r=t.store("mutations"),i=n.map(function(e){return r.put(e)});return me.waitFor(i)})}(e,a)})),o=o.next(function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.Bs(a)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)})),n<7&&r>=7&&(o=o.next(function(){return i.Us(a)})),n<8&&r>=8&&(o=o.next(function(){return i.qs(e,a)})),n<9&&r>=9&&(o=o.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ks(a)})),n<11&&r>=11&&(o=o.next(function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ri});t.createIndex("collectionPathOverlayIndex",ii,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ai,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Kr});t.createIndex("documentKeyIndex",Gr),t.createIndex("collectionGroupIndex",Yr)}(e)}).next(function(){return i.Gs(e,a)}).next(function(){return e.deleteObjectStore("remoteDocuments")})),n<14&&r>=14&&(o=o.next(function(){return i.Qs(e,a)})),n<15&&r>=15&&(o=o.next(function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Jr}).createIndex("sequenceNumberIndex",ei,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ti}).createIndex("documentKeyIndex",ni,{unique:!1})}(e)})),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J(function(e,n){t+=ra(n)}).next(function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next(function(n){return me.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next(function(r){return me.forEach(r,function(r){P(r.userId===n.userId);var i=wi(t.wt,r);return na(e,n.userId,i).next(function(){})})})})})}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(function(e){var r=[];return n.J(function(n,i){var a=new ee(n),o=[0,Fr(a)];r.push(t.get(o).next(function(n){return n?me.resolve():function(n){return t.put({targetId:0,path:Fr(n),sequenceNumber:e.highestListenSequenceNumber})}(a)}))}).next(function(){return me.waitFor(r)})})}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Xr});var n=t.store("collectionParents"),r=new Ki,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Fr(i)})}};return t.store("remoteDocuments").J({H:!0},function(e,t){var n=new ee(e);return i(n.popLast())}).next(function(){return t.store("documentMutations").J({H:!0},function(e,t){var n=Object(a.a)(e,3),r=(n[0],n[1]),o=(n[2],Br(r));return i(o.popLast())})})}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J(function(e,r){var i=Oi(r),a=xi(t.wt,i);return n.put(a)})}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J(function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new re(ee.fromString(i.document.name).popFirst(5)):i.noDocument?re.fromSegments(i.noDocument.path):i.unknownDocument?re.fromSegments(i.unknownDocument.path):A()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))}).next(function(){return me.waitFor(r)})}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=wa(this.wt),a=new Ua(Ba.Ms,this.wt.ne);return r.K().next(function(e){var r=new Map;return e.forEach(function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:tr();wi(n.wt,e).keys().forEach(function(e){return i=i.add(e)}),r.set(e.userId,i)}),me.forEach(r,function(e,r){var o=new w(r),s=Pi.se(n.wt,o),u=a.getIndexManager(o),c=ia.se(o,n.wt,u,a.referenceDelegate);return new Ca(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new hi(t,je.ot),e).next()})})}}]),e}();function qa(e){e.createObjectStore("targetDocuments",{keyPath:Zr}).createIndex("documentTargetsIndex",Qr,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$r,{unique:!0}),e.createObjectStore("targetGlobal")}var Ha="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wa=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Object(p.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=s,this.Ws=c,this.zs=l,this.Hs=h,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new M(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ga(this,i),this.ei=n+"main",this.wt=new mi(u),this.ni=new be(this.ei,this.Hs,new za(this.wt)),this.Vs=new la(this.referenceDelegate,this.wt),this.remoteDocumentCache=wa(this.wt),this.Ds=new ji,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&I("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}var t,n;return Object(v.a)(e,[{key:"start",value:function(){var e=this;return this.ii().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new M(D.FAILED_PRECONDITION,Ha);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Vs.getHighestSequenceNumber(t)})}).then(function(t){e.Ps=new je(t,e.Ws)}).then(function(){e.vs=!0}).catch(function(t){return e.ni&&e.ni.close(),Promise.reject(t)})}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Object(c.a)(u.a.mark(function n(r){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Object(c.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}},e,this)}))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Ga(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next(function(){if(e.isPrimary)return e.ai(t).next(function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable(function(){return e.ti(!1)}))})}).next(function(){return e.hi(t)}).next(function(n){return e.isPrimary&&!n?e.li(t).next(function(){return!1}):!!n&&e.fi(t).next(function(){return!0})})}).catch(function(t){if(we(t))return E("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return E("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.js.enqueueRetryable(function(){return e.ti(t)}),e.isPrimary=t})}},{key:"ai",value:function(e){var t=this;return Ka(e).get("owner").next(function(e){return me.resolve(t.di(e))})}},{key:"_i",value:function(e){return Ga(e).delete(this.clientId)}},{key:"wi",value:(n=Object(c.a)(u.a.mark(function e(){var t,n,r,i,a,o,s,c=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=25;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=fi(e,"clientMetadata");return t.K().next(function(e){var n=c.gi(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return me.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]});case 4:if(t=e.sent,!this.si){e.next=25;break}for(n=!0,r=!1,i=void 0,e.prev=9,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)s=o.value,this.si.removeItem(this.yi(s.clientId));e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),r=!0,i=e.t0;case 17:e.prev=17,e.prev=18,n||null==a.return||a.return();case 20:if(e.prev=20,!r){e.next=23;break}throw i;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])})),function(){return n.apply(this,arguments)})},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.ii().then(function(){return e.wi()}).then(function(){return e.ui()})})}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?me.resolve(!0):Ka(e).get("owner").next(function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new M(D.FAILED_PRECONDITION,Ha);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ga(e).K().next(function(e){return void 0===t.gi(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&E("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:(t=Object(c.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],function(e){var n=new hi(e,je.ot);return t.li(n).next(function(){return t._i(n)})});case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"gi",value:function(e,t){var n=this;return e.filter(function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)})}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Ga(t).K().next(function(t){return e.gi(t,18e5).map(function(e){return e.clientId})})})}},{key:"getMutationQueue",value:function(e,t){return ia.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Yi(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Pi.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;E("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?li:14===i?ci:13===i?ui:12===i?si:11===i?oi:void A();return this.ni.runTransaction(e,o,s,function(i){return a=new hi(i,r.Ps?r.Ps.next():je.ot),"readwrite-primary"===t?r.ai(a).next(function(e){return!!e||r.hi(a)}).next(function(t){if(!t)throw I("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable(function(){return r.ti(!1)}),new M(D.FAILED_PRECONDITION,de);return n(a)}).next(function(e){return r.fi(a).next(function(){return e})}):r.bi(a).next(function(){return n(a)})}).then(function(e){return a.raiseOnCommittedEvent(),e})}},{key:"bi",value:function(e){var t=this;return Ka(e).get("owner").next(function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new M(D.FAILED_PRECONDITION,Ha)})}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ka(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Ka(e);return n.get("owner").next(function(e){return t.di(e)?(E("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):me.resolve()})}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(I("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()})},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),Object(b.F)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return E("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return I("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}},{key:"started",get:function(){return this.vs}}],[{key:"V",value:function(){return be.V()}}]),e}();function Ka(e){return fi(e,"owner")}function Ga(e){return fi(e,"clientMetadata")}function Ya(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $a=function(){function e(t,n,r,i){Object(p.a)(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Object(v.a)(e,null,[{key:"Vi",value:function(t,n){var r=tr(),i=tr(),a=!0,o=!1,s=void 0;try{for(var u,c=n.docChanges[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return new e(t,n.fromCache,r,i)}}]),e}(),Za=function(){function e(){Object(p.a)(this,e),this.Si=!1}return Object(v.a)(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next(function(a){return a||i.xi(e,t,r,n)}).next(function(n){return n||i.Ni(e,t)})}},{key:"Ci",value:function(e,t){return me.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(X.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next(function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(T()<=g.a.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tn(t)),i.Mi(e,o,t,ce(r,-1)))})}},{key:"ki",value:function(e,t){var n=new Me(an(e));return t.forEach(function(t,r){nn(e,r)&&(n=n.add(r))}),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return T()<=g.a.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",tn(t)),this.Di.getDocumentsMatchingQuery(e,t,he.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}]),e}(),Qa=function(){function e(t,n,r,i){Object(p.a)(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Re(Y),this.Bi=new Hn(function(e){return xt(e)},Tt),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Object(v.a)(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ca(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.$i)})}}]),e}();function Xa(e,t,n,r){return new Qa(e,t,n,r)}function Ja(e,t){return eo.apply(this,arguments)}function eo(){return(eo=Object(c.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next(function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)}).next(function(n){var i=[],a=[],o=tr(),s=!0,u=!1,c=void 0;try{for(var l,h=t[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var f=l.value;i.push(f.batchId);var d=!0,p=!1,v=void 0;try{for(var y,m=f.mutations[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var g=y.value;o=o.add(g.key)}}catch(A){p=!0,v=A}finally{try{d||null==m.return||m.return()}finally{if(p)throw v}}}}catch(A){u=!0,c=A}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}var b=!0,_=!1,k=void 0;try{for(var w,O=n[Symbol.iterator]();!(b=(w=O.next()).done);b=!0){var x=w.value;a.push(x.batchId);var T=!0,S=!1,E=void 0;try{for(var I,j=x.mutations[Symbol.iterator]();!(T=(I=j.next()).done);T=!0){var C=I.value;o=o.add(C.key)}}catch(A){S=!0,E=A}finally{try{T||null==j.return||j.return()}finally{if(S)throw E}}}}catch(A){_=!0,k=A}finally{try{b||null==O.return||O.return()}finally{if(_)throw k}}return r.localDocuments.getDocuments(e,o).next(function(e){return{Ki:e,removedBatchIds:i,addedBatchIds:a}})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function to(e,t){var n=N(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=me.resolve();return a.forEach(function(e){o=o.next(function(){return r.getEntry(t,e)}).next(function(t){var a=n.docVersions.get(e);P(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(function(){return e.mutationQueue.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=tr(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(function(){return n.localDocuments.getDocuments(e,r)})})}function no(e){var t=N(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Vs.getLastRemoteSnapshotVersion(e)})}function ro(e,t){var n=N(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach(function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next(function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)}));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Be.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}});var s=Kn(),u=tr();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(io(e,a,t.documentUpdates).next(function(e){s=e.Gi,u=e.Qi})),!r.isEqual(X.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next(function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(c)}return me.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)}).next(function(){return s})}).then(function(e){return n.$i=i,e})}function io(e,t,n){var r=tr(),i=tr();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=Kn();return n.forEach(function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(X.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):E("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{Gi:r,Qi:i}})}function ao(e,t){var n=N(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function oo(e,t){var n=N(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Vs.getTargetData(e,t).next(function(i){return i?(r=i,me.resolve(r)):n.Vs.allocateTargetId(e).next(function(i){return r=new yi(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e})}function so(e,t,n){return uo.apply(this,arguments)}function uo(){return(uo=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=N(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),we(e.t1)){e.next=12;break}throw e.t1;case 12:E("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}},e,this,[[1,8]])}))).apply(this,arguments)}function co(e,t,n){var r=N(e),i=X.min(),a=tr();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=N(e),i=r.Bi.get(n);return void 0!==i?me.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Qt(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:X.min(),n?a:tr())}).next(function(e){return fo(r,rn(t),e),{documents:e,ji:a}})})}function lo(e,t){var n=N(e),r=N(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.te(e,t).next(function(e){return e?e.target:null})})}function ho(e,t){var n=N(e),r=n.Li.get(t)||X.min();return n.persistence.runTransaction("Get new document changes","readonly",function(e){return n.Ui.getAllFromCollectionGroup(e,t,ce(r,-1),Number.MAX_SAFE_INTEGER)}).then(function(e){return fo(n,t,e),e})}function fo(e,t,n){var r=X.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Li.set(t,r)}function po(e,t,n,r){return vo.apply(this,arguments)}function vo(){return(vo=Object(c.a)(u.a.mark(function e(t,n,r,i){var a,o,s,c,l,h,f,d,p,v,y,m,g;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=N(t),o=tr(),s=Kn(),c=!0,l=!1,h=void 0,e.prev=5,f=r[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)p=d.value,v=n.Wi(p.metadata.name),p.document&&(o=o.add(v)),(y=n.zi(p)).setReadTime(n.Hi(p.metadata.readTime)),s=s.insert(v,y);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),l=!0,h=e.t0;case 13:e.prev=13,e.prev=14,c||null==f.return||f.return();case 16:if(e.prev=16,!l){e.next=19;break}throw h;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return m=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=24,oo(a,function(e){return Qt(Kt(ee.fromString("__bundle__/docs/".concat(e))))}(i));case 24:return g=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return io(e,m,s).next(function(t){return m.apply(e),t}).next(function(t){return a.Vs.removeMatchingKeysForTargetId(e,g.targetId).next(function(){return a.Vs.addMatchingKeys(e,o,g.targetId)}).next(function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)}).next(function(){return t.Gi})})}));case 26:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20]])}))).apply(this,arguments)}function yo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tr(),e.next=3,oo(t,Qt(Ti(n.bundledQuery)));case 3:return i=e.sent,a=N(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(e){var t=gr(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Be.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next(function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return a.Vs.addMatchingKeys(e,r,i.targetId)}).next(function(){return a.Ds.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function go(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bo(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _o(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ko=function(){function e(t,n,r,i){Object(p.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(v.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),s="object"==Object(o.a)(a)&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==Object(o.a)(a.error));return s&&a.error&&((s="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new M(a.error.code,a.error.message))),s?new e(t,n,a.state,i):(I("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wo=function(){function e(t,n,r){Object(p.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(v.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==Object(o.a)(i)&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==Object(o.a)(i.error));return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new M(i.error.code,i.error.message))),a?new e(t,i.state,r):(I("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Oo=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(v.a)(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==Object(o.a)(r)&&r.activeTargetIds instanceof Array,a=rr(),s=0;i&&s<r.activeTargetIds.length;++s)i=Xe(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new e(t,a):(I("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xo=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.onlineState=n}return Object(v.a)(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==Object(o.a)(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(I("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),To=function(){function e(){Object(p.a)(this,e),this.activeTargetIds=rr()}return Object(v.a)(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),So=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Re(Y),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=go(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new To),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}var t,n;return Object(v.a)(e,[{key:"start",value:(n=Object(c.a)(u.a.mark(function e(){var t,n,r,i,a,o,s,c,l,h,f,d,p,v,y,m,g,b=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=!0,r=!1,i=void 0,e.prev=6,a=t[Symbol.iterator]();case 8:if(n=(o=a.next()).done){e.next=17;break}if((s=o.value)!==this.tr){e.next=12;break}return e.abrupt("continue",14);case 12:(c=this.getItem(go(this.persistenceKey,s)))&&(l=Oo.Ji(s,c))&&(this.sr=this.sr.insert(l.clientId,l));case 14:n=!0,e.next=8;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),r=!0,i=e.t0;case 23:e.prev=23,e.prev=24,n||null==a.return||a.return();case 26:if(e.prev=26,!r){e.next=29;break}throw i;case 29:return e.finish(26);case 30:return e.finish(23);case 31:for(this._r(),(h=this.storage.getItem(this.lr))&&(f=this.wr(h))&&this.mr(f),d=!0,p=!1,v=void 0,e.prev=37,y=this.ir[Symbol.iterator]();!(d=(m=y.next()).done);d=!0)g=m.value,this.nr(g);e.next=45;break;case 41:e.prev=41,e.t1=e.catch(37),p=!0,v=e.t1;case 45:e.prev=45,e.prev=46,d||null==y.return||y.return();case 48:if(e.prev=48,!p){e.next=51;break}throw v;case 51:return e.finish(48);case 52:return e.finish(45);case 53:this.ir=[],this.window.addEventListener("pagehide",function(){return b.shutdown()}),this.started=!0;case 54:case"end":return e.stop()}},e,this,[[6,19,23,31],[24,,26,30],[37,41,45,53],[46,,48,52]])})),function(){return n.apply(this,arguments)})},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_o(this.persistenceKey,e));if(n){var r=wo.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_o(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.pr(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return E("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){E("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){E("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(E("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void I("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Object(c.a)(u.a.mark(function e(){var r,i,a,o,s,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}(c=function(e){var t=je.ot;if(null!=e)try{var n=JSON.parse(e);P("number"==typeof n),t=n}catch(e){I("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==je.ot&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return l=t.Cr(n.newValue),e.next=41,Promise.all(l.map(function(e){return t.syncEngine.Nr(e)}));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}},e,this)})))}}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new ko(this.currentUser,e,t,n),i=bo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=bo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=_o(this.persistenceKey,e),i=new wo(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Oo.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ko.Ji(new w(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return wo.Ji(r,t)}},{key:"wr",value:function(e){return xo.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:(t=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:E("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach(function(e){i.has(e)||o.push(e)}),i.forEach(function(e){a.has(e)||s.push(e)}),this.syncEngine.Mr(o,s).then(function(){n.sr=r})}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=rr();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}},{key:"Ir",get:function(){return this.sr.get(this.tr)}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Eo=function(){function e(){Object(p.a)(this,e),this.Fr=new To,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(v.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new To,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Io=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),jo=function(){function e(){var t=this;Object(p.a)(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Object(v.a)(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e=!0,t=!1,n=void 0;try{for(var r,i=this.Gr[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(0)}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"Kr",value:function(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e=!0,t=!1,n=void 0;try{for(var r,i=this.Gr[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)(1)}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Co={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ao=function(){function e(t){Object(p.a)(this,e),this.jr=t.jr,this.Wr=t.Wr}return Object(v.a)(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Po=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"co",value:function(e,t,n,r){return new Promise(function(i,a){var o=new _.g;o.listenOnce(_.c.COMPLETE,function(){try{switch(o.getLastErrorCode()){case _.a.NO_ERROR:var t=o.getResponseJson();E("Connection","XHR received:",JSON.stringify(t)),i(t);break;case _.a.TIMEOUT:E("Connection",'RPC "'+e+'" timed out'),a(new M(D.DEADLINE_EXCEEDED,"Request time out"));break;case _.a.HTTP_ERROR:var n=o.getStatus();if(E("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status.toLowerCase().replace(/_/g,"-"),Object.values(D).indexOf(u)>=0?u:D.UNKNOWN);a(new M(s,r.message))}else a(new M(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new M(D.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{E("Connection",'RPC "'+e+'" completed.')}var u});var s=JSON.stringify(r);o.send(t,"POST",s,n,15)})}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(_.h)(),a=Object(_.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _.d({})),this.uo(o.initMessageHeaders,t,n),Object(b.B)()||Object(b.E)()||Object(b.x)()||Object(b.z)()||Object(b.G)()||Object(b.w)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");E("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new Ao({jr:function(e){l?E("Connection","Not sending because WebChannel is closed:",e):(c||(E("Connection","Opening WebChannel transport."),u.open(),c=!0),E("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return f(u,_.f.EventType.OPEN,function(){l||E("Connection","WebChannel transport opened.")}),f(u,_.f.EventType.CLOSE,function(){l||(l=!0,E("Connection","WebChannel transport closed"),h.eo())}),f(u,_.f.EventType.ERROR,function(e){l||(l=!0,j("Connection","WebChannel transport errored:",e),h.eo(new M(D.UNAVAILABLE,"The operation could not be completed")))}),f(u,_.f.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];P(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){E("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ln[a];if(void 0!==t)return qn(t)}(),s=i.message;void 0===o&&(o=D.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.eo(new M(o,s)),u.close()}else E("Connection","WebChannel received:",n),h.no(n)}}),f(a,_.b.STAT_EVENT,function(e){e.stat===_.e.PROXY?E("Connection","Detected buffering proxy"):e.stat===_.e.NOPROXY&&E("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Zr()},0),h}}]),t}(function(){function e(t){Object(p.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(v.a)(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);E("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then(function(e){return E("RestConnection","Received: ",e),e},function(t){throw j("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t})}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"oo",value:function(e,t){var n=Co[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Ro(){return"undefined"!=typeof window?window:null}function No(){return"undefined"!=typeof document?document:null}function Do(e){return new vr(e,!0)}var Mo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(p.a)(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Object(v.a)(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,function(){return t.yo=Date.now(),e()}),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Lo=function(){function e(t,n,r,i,a,o,s,u){Object(p.a)(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Mo(t,n)}var t,n,r;return Object(v.a)(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:(r=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,function(){return e.Oo()}))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:(n=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:(t=Object(c.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(I(n.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(a.a)(t,2),i=r[0],o=r[1];e.Po===n&&e.Uo(i,o)},function(n){t(function(){var t=new M(D.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)})})}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(function(){r(function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,function(){return n.Co()&&(n.state=3),Promise.resolve()}),n.listener.zr()})}),this.stream.Jr(function(e){r(function(){return n.qo(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Object(c.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t,this)})))}},{key:"qo",value:function(e){return E("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget(function(){return t.Po===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),Fo=function(e){function t(e,n,r,i,a,o){var s;return Object(p.a)(this,t),(s=Object(l.a)(this,Object(h.a)(t).call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o))).wt=a,s}return Object(f.a)(t,e),Object(v.a)(t,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(P(void 0===t||"string"==typeof t),Be.fromBase64String(t||"")):(P(void 0===t||t instanceof Uint8Array),Be.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?D.UNKNOWN:qn(e.code);return new M(t,e.message||"")}(o);n=new ur(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=wr(e,u.document.name),l=gr(u.document.updateTime),h=new bt({mapValue:{fields:u.document.fields}}),f=kt.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new or(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=wr(e,v.document),m=v.readTime?gr(v.readTime):X.min(),g=kt.newNoDocument(y,m),b=v.removedTargetIds||[];n=new or([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var k=wr(e,_.document),w=_.removedTargetIds||[];n=new or([],w,k,null)}else{if(!("filter"in t))return A();t.filter;var O=t.filter;O.targetId;var x=O.count||0,T=new Bn(x),S=O.targetId;n=new sr(S,T)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return X.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?gr(t.readTime):X.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Tr(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=St(r)?{documents:Pr(e,r)}:{query:Rr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=mr(e,t.resumeToken):t.snapshotVersion.compareTo(X.min())>0&&(n.readTime=yr(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Tr(this.wt),t.removeTarget=e,this.Mo(t)}}]),t}(Lo),Uo=function(e){function t(e,n,r,i,a,o){var s;return Object(p.a)(this,t),(s=Object(l.a)(this,Object(h.a)(t).call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o))).wt=a,s.Wo=!1,s}return Object(f.a)(t,e),Object(v.a)(t,[{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Object(i.a)(Object(h.a)(t.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(P(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?gr(e.updateTime):gr(t);return n.isEqual(X.min())&&(n=gr(t)),new On(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=gr(e.commitTime);return this.listener.Jo(n,t)}return P(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Tr(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Cr(t.wt,e)})};this.Mo(n)}},{key:"zo",get:function(){return this.Wo}}]),t}(Lo),Vo=function(e){function t(e,n,r,i){var a;return Object(p.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this))).authCredentials=e,a.appCheckCredentials=n,a.bo=r,a.wt=i,a.Zo=!1,a}return Object(f.a)(t,e),Object(v.a)(t,[{key:"tu",value:function(){if(this.Zo)throw new M(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),s=o[0],u=o[1];return r.bo.ro(e,t,n,s,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new M(D.UNKNOWN,e.toString())})}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),s=o[0],u=o[1];return r.bo.ao(e,t,n,s,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new M(D.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.Zo=!0}}]),t}(function(){return function e(){Object(p.a)(this,e)}}()),Bo=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Object(v.a)(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()}))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(I(t),this.su=!1):E("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),zo=function e(t,n,r,i,a){var o=this;Object(p.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(function(e){r.enqueueAndForget(Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jo(o),!e.t0){e.next=5;break}return E("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(c.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=N(t)).lu.add(4),e.next=4,Wo(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,qo(n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}},e,this)})))}),this._u=new Bo(r,i)};function qo(e){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(c.a)(u.a.mark(function e(t){var n,r,i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jo(t)){e.next=27;break}n=!0,r=!1,i=void 0,e.prev=4,a=t.fu[Symbol.iterator]();case 6:if(n=(o=a.next()).done){e.next=13;break}return s=o.value,e.next=10,s(!0);case 10:n=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,i=e.t0;case 19:e.prev=19,e.prev=20,n||null==a.return||a.return();case 22:if(e.prev=22,!r){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}))).apply(this,arguments)}function Wo(e){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(c.a)(u.a.mark(function e(t){var n,r,i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,i=void 0,e.prev=3,a=t.fu[Symbol.iterator]();case 5:if(n=(o=a.next()).done){e.next=12;break}return s=o.value,e.next=9,s(!1);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,i=e.t0;case 18:e.prev=18,e.prev=19,n||null==a.return||a.return();case 21:if(e.prev=21,!r){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])}))).apply(this,arguments)}function Go(e,t){var n=N(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Xo(n)?Qo(n):ks(n).Co()&&$o(n,t))}function Yo(e,t){var n=N(e),r=ks(n);n.hu.delete(t),r.Co()&&Zo(n,t),0===n.hu.size&&(r.Co()?r.ko():Jo(n)&&n._u.set("Unknown"))}function $o(e,t){e.wu.Nt(t.targetId),ks(e).Qo(t)}function Zo(e,t){e.wu.Nt(t),ks(e).jo(t)}function Qo(e){e.wu=new lr({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),ks(e).start(),e._u.iu()}function Xo(e){return Jo(e)&&!ks(e).Do()&&e.hu.size>0}function Jo(e){return 0===N(e).lu.size}function es(e){e.wu=void 0}function ts(){return(ts=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach(function(e,n){$o(t,e)});case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ns(){return(ns=Object(c.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:es(t),Xo(t)?(t._u.uu(n),Qo(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function rs(){return(rs=Object(c.a)(u.a.mark(function e(t,n,r){var i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof ur&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=!0,a=!1,o=void 0,e.prev=4,s=n.targetIds[Symbol.iterator]();case 6:if(i=(c=s.next()).done){e.next=17;break}if(l=c.value,e.t0=t.hu.has(l),!e.t0){e.next=14;break}return e.next=12,t.remoteSyncer.rejectListen(l,r);case 12:t.hu.delete(l),t.wu.removeTarget(l);case 14:i=!0,e.next=6;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(4),a=!0,o=e.t1;case 23:e.prev=23,e.prev=24,i||null==s.return||s.return();case 26:if(e.prev=26,!a){e.next=29;break}throw o;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[4,19,23,31],[24,,26,30]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),E("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,is(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof or?t.wu.Ut(n):n instanceof sr?t.wu.zt(n):t.wu.Gt(n),r.isEqual(X.min())){e.next=29;break}return e.prev=14,e.next=17,no(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Be.EMPTY_BYTE_STRING,n.snapshotVersion)),Zo(e,t);var r=new yi(n.target,t,1,n.sequenceNumber);$o(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),E("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,is(t,e.t2);case 29:case"end":return e.stop()}},e,this,[[1,6],[14,24]])}))).apply(this,arguments)}function is(e,t,n){return as.apply(this,arguments)}function as(){return(as=Object(c.a)(u.a.mark(function e(t,n,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(we(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Wo(t);case 5:t._u.set("Offline"),r||(r=function(){return no(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,qo(t);case 6:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function os(e,t){return t().catch(function(n){return is(e,n,t)})}function ss(e){return us.apply(this,arguments)}function us(){return(us=Object(c.a)(u.a.mark(function e(t){var n,r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t),r=ws(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!cs(n)){e.next=19;break}return e.prev=3,e.next=6,ao(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,ls(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,is(n,e.t0);case 17:e.next=2;break;case 19:hs(n)&&fs(n);case 20:case"end":return e.stop()}},e,this,[[3,13]])}))).apply(this,arguments)}function cs(e){return Jo(e)&&e.au.length<10}function ls(e,t){e.au.push(t);var n=ws(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function hs(e){return Jo(e)&&!ws(e).Do()&&e.au.length>0}function fs(e){ws(e).start()}function ds(){return(ds=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ws(t).Xo();case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ps(){return(ps=Object(c.a)(u.a.mark(function e(t){var n,r,i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=ws(t),r=!0,i=!1,a=void 0,e.prev=4,o=t.au[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)c=s.value,n.Ho(c.mutations);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),i=!0,a=e.t0;case 12:e.prev=12,e.prev=13,r||null==o.return||o.return();case 15:if(e.prev=15,!i){e.next=18;break}throw a;case 18:return e.finish(15);case 19:return e.finish(12);case 20:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))).apply(this,arguments)}function vs(){return(vs=Object(c.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=pi.from(i,n,r),e.next=3,os(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)});case 3:return e.next=5,ss(t);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ys(){return(ys=Object(c.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ws(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(c.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!zn(i=n.code)||i===D.ABORTED){e.next=7;break}return r=t.au.shift(),ws(t).No(),e.next=5,os(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,ss(t);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:hs(t)&&fs(t);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ms(e,t){return gs.apply(this,arguments)}function gs(){return(gs=Object(c.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=N(t)).asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials"),i=Jo(r),r.lu.add(3),e.next=6,Wo(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,qo(r);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function bs(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Object(c.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,qo(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Wo(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ks(e){return e.mu||(e.mu=function(e,t,n){var r=N(e);return r.tu(),new Fo(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:function(e){return ts.apply(this,arguments)}.bind(null,e),Jr:function(e,t){return ns.apply(this,arguments)}.bind(null,e),Go:function(e,t,n){return rs.apply(this,arguments)}.bind(null,e)}),e.fu.push(function(){var t=Object(c.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Xo(e)?Qo(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:es(e);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())),e.mu}function ws(e){return e.gu||(e.gu=function(e,t,n){var r=N(e);return r.tu(),new Uo(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:function(e){return ds.apply(this,arguments)}.bind(null,e),Jr:function(e,t){return ys.apply(this,arguments)}.bind(null,e),Yo:function(e){return ps.apply(this,arguments)}.bind(null,e),Jo:function(e,t,n){return vs.apply(this,arguments)}.bind(null,e)}),e.fu.push(function(){var t=Object(c.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,ss(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(E("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())),e.gu}var Os=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(v.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function xs(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),we(e))return new M(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ts=function(){function e(t){Object(p.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||re.comparator(e.key,n.key)}:function(e,t){return re.comparator(e.key,t.key)},this.keyedMap=Yn(),this.sortedSet=new Re(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},{key:"size",get:function(){return this.sortedSet.size}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ss=function(){function e(){Object(p.a)(this,e),this.yu=new Re(re.comparator)}return Object(v.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):A():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),Es=function(){function e(t,n,r,i,a,o,s,u){Object(p.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Object(v.a)(e,[{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}},{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,Ts.emptySet(n),a,r,i,!0,!1)}}]),e}(),Is=function e(){Object(p.a)(this,e),this.Iu=void 0,this.listeners=[]},js=function e(){Object(p.a)(this,e),this.queries=new Hn(function(e){return en(e)},Jt),this.onlineState="Unknown",this.Tu=new Set};function Cs(e,t){return As.apply(this,arguments)}function As(){return(As=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Is),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=xs(e.t0,"Initialization of query '".concat(tn(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Ns(r);case 14:case"end":return e.stop()}},e,this,[[3,9]])}))).apply(this,arguments)}function Ps(e,t){return Rs.apply(this,arguments)}function Rs(){return(Rs=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ns(e){e.Tu.forEach(function(e){e.next()})}var Ds=function(){function e(t,n,r){Object(p.a)(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Object(v.a)(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e.docChanges[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;3!==s.type&&t.push(s)}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e=new Es(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var u=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),u=!0):this.Vu(e,this.onlineState)&&(this.Su(e),u=!0),this.Pu=e,u}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Ms=function(){function e(t,n){Object(p.a)(this,e),this.payload=t,this.byteLength=n}return Object(v.a)(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Ls=function(){function e(t){Object(p.a)(this,e),this.wt=t}return Object(v.a)(e,[{key:"Wi",value:function(e){return wr(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Ir(this.wt,e.document,!1):kt.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return gr(e)}}]),e}(),Fs=function(){function e(t,n,r){Object(p.a)(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Us(t)}var t;return Object(v.a)(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ee.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t=new Map,n=new Ls(this.wt),r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u.metadata.queries){var c=n.Wi(u.metadata.name),l=!0,h=!1,f=void 0;try{for(var d,p=u.metadata.queries[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value,y=(t.get(v)||tr()).add(c);t.set(v,y)}}catch(m){h=!0,f=m}finally{try{l||null==p.return||p.return()}finally{if(h)throw f}}}}}catch(m){i=!0,a=m}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t}},{key:"complete",value:(t=Object(c.a)(u.a.mark(function e(){var t,n,r,i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(this.localStore,new Ls(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=!0,i=!1,a=void 0,e.prev=7,o=this.queries[Symbol.iterator]();case 9:if(r=(s=o.next()).done){e.next=16;break}return c=s.value,e.next=13,yo(this.localStore,c,n.get(c.name));case 13:r=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),i=!0,a=e.t0;case 22:e.prev=22,e.prev=23,r||null==o.return||o.return();case 25:if(e.prev=25,!i){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 31:case"end":return e.stop()}},e,this,[[7,18,22,30],[23,,25,29]])})),function(){return t.apply(this,arguments)})}]),e}();function Us(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Vs=function e(t){Object(p.a)(this,e),this.key=t},Bs=function e(t){Object(p.a)(this,e),this.key=t},zs=function(){function e(t,n){Object(p.a)(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=tr(),this.mutatedKeys=tr(),this.Lu=an(t),this.Uu=new Ts(this.Lu)}return Object(v.a)(e,[{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Ss,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=nn(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Qu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Lu(h,u)>0||c&&n.Lu(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)}),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new Es(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Ss,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Fu=t.Fu.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Fu=t.Fu.delete(e)}),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=tr(),this.Uu.forEach(function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))});var n=[];return t.forEach(function(t){e.Bu.has(t)||n.push(new Bs(t))}),this.Bu.forEach(function(e){t.has(e)||n.push(new Vs(e))}),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=tr();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Es.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}},{key:"qu",get:function(){return this.Fu}}]),e}(),qs=function e(t,n,r){Object(p.a)(this,e),this.query=t,this.targetId=n,this.view=r},Hs=function e(t){Object(p.a)(this,e),this.key=t,this.Xu=!1},Ws=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Hn(function(e){return en(e)},Jt),this.ec=new Map,this.nc=new Set,this.sc=new Re(re.comparator),this.ic=new Map,this.rc=new Ra,this.oc={},this.uc=new Map,this.cc=ca.Rn(),this.onlineState="Unknown",this.ac=void 0}return Object(v.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return(Gs=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Du(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,oo(r.localStore,Qt(n));case 8:return s=e.sent,r.isPrimaryClient&&Go(r.remoteStore,s),c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Ys(r,n,i,"current"===c);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ys(e,t,n,r){return $s.apply(this,arguments)}function $s(){return($s=Object(c.a)(u.a.mark(function e(t,n,r,i){var a,o,s,l,h,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return(i=Object(c.a)(u.a.mark(function e(t,n,r,i){var a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,co(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Ku(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(fu(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return i.apply(this,arguments)})(t,e,n,r);var i},e.next=3,co(t.localStore,n,!0);case 3:return a=e.sent,o=new zs(n,a.ji),s=o.Ku(a.documents),l=ar.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),h=o.applyChanges(s,t.isPrimaryClient,l),fu(t,r,h.zu),f=new qs(n,r,o),e.abrupt("return",(t.tc.set(n,f),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Zs(e,t){return Qs.apply(this,arguments)}function Qs(){return(Qs=Object(c.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter(function(e){return!Jt(e,n)})),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,so(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),Yo(r.remoteStore,i.targetId),lu(r,i.targetId)}).catch(ve);case 9:e.next=14;break;case 11:return lu(r,i.targetId),e.next=14,so(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Xs(e,t,n){return Js.apply(this,arguments)}function Js(){return(Js=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),e.prev=1,e.next=4,function(e,t){var n,r,i=N(e),a=Q.now(),o=t.reduce(function(e,t){return e.add(t.key)},tr());return i.persistence.runTransaction("Locally write mutations","readwrite",function(e){var s=Kn(),u=tr();return i.Ui.getEntries(e,o).next(function(e){(s=e).forEach(function(e,t){t.isValidDocument()||(u=u.add(e))})}).next(function(){return i.localDocuments.getOverlayedDocuments(e,s)}).next(function(r){n=r;var o=[],s=!0,u=!1,c=void 0;try{for(var l,h=t[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var f=l.value,d=Cn(f,n.get(f.key).overlayedDocument);null!=d&&o.push(new Rn(f.key,d,_t(d.value.mapValue),xn.exists(!0)))}}catch(p){u=!0,c=p}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}return i.mutationQueue.addMutationBatch(e,a,o,t)}).next(function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)})}).then(function(){return{batchId:r.batchId,changes:$n(n)}})}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Re(Y)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,vu(i,a.changes);case 9:return e.next=11,ss(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=xs(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,this,[[1,13]])}))).apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return(tu=Object(c.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),e.prev=1,e.next=4,ro(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.ic.get(t);n&&(P(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?P(n.Xu):e.removedDocuments.size>0&&(P(n.Xu),n.Xu=!1))}),e.next=8,vu(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ve(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}))).apply(this,arguments)}function nu(e,t,n){var r=N(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach(function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=N(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i=!0,a=!1,o=void 0;try{for(var s,u=n.listeners[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.Eu(t)&&(r=!0)}}catch(c){a=!0,o=c}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}),r&&Ns(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ru(){return(ru=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=N(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Re(re.comparator)).insert(o,kt.newNoDocument(o,X.min())),c=tr().add(o),l=new ir(X.min(),new Map,new Me(Y),s,c),e.next=9,eu(i,l);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),pu(i),e.next=16;break;case 14:return e.next=16,so(i.localStore,n,!1).then(function(){return lu(i,n,r)}).catch(ve);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function iu(){return(iu=Object(c.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),i=n.batch.batchId,e.prev=1,e.next=4,to(r.localStore,n);case 4:return a=e.sent,cu(r,i,null),uu(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,vu(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}},e,this,[[1,12]])}))).apply(this,arguments)}function au(){return(au=Object(c.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=N(t),e.prev=1,e.next=4,function(e,t){var n=N(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next(function(t){return P(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)}).next(function(){return n.localDocuments.getDocuments(e,r)})})}(i.localStore,n);case 4:return a=e.sent,cu(i,n,r),uu(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,vu(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}},e,this,[[1,12]])}))).apply(this,arguments)}function ou(e,t){return su.apply(this,arguments)}function su(){return(su=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Jo((r=N(t)).remoteStore)||E("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=N(r.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})}();case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=xs(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,this,[[2,12]])}))).apply(this,arguments)}function uu(e,t){(e.uc.get(t)||[]).forEach(function(e){e.resolve()}),e.uc.delete(t)}function cu(e,t,n){var r=N(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function lu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r=!0,i=!1,a=void 0;try{for(var o,s=e.ec.get(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;e.tc.delete(u),n&&e.Zu.lc(u,n)}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(function(t){e.rc.containsKey(t)||hu(e,t)})}function hu(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Yo(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),pu(e))}function fu(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;u instanceof Vs?(e.rc.addReference(u.key,t),du(e,u)):u instanceof Bs?(E("SyncEngine","Document no longer in limbo: "+u.key),e.rc.removeReference(u.key,t),e.rc.containsKey(u.key)||hu(e,u.key)):A()}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}function du(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(E("SyncEngine","New document in limbo: "+n),e.nc.add(r),pu(e))}function pu(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new re(ee.fromString(t)),r=e.cc.next();e.ic.set(r,new Hs(n)),e.sc=e.sc.insert(n,r),Go(e.remoteStore,new yi(Qt(Kt(n.path)),r,2,je.ot))}}function vu(e,t,n){return yu.apply(this,arguments)}function yu(){return(yu=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=N(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach(function(e,t){s.push(i.hc(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=$a.Vi(t.targetId,e);o.push(n)}}))}),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c,l,h,f,d,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return me.forEach(n,function(t){return me.forEach(t.Pi,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return me.forEach(t.vi,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),we(e.t0)){e.next=10;break}throw e.t0;case 10:E("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:for(i=!0,a=!1,o=void 0,e.prev=14,s=n[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,h=l.targetId,l.fromCache||(f=r.$i.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d),r.$i=r.$i.insert(h,p));e.next=22;break;case 18:e.prev=18,e.t1=e.catch(14),a=!0,o=e.t1;case 22:e.prev=22,e.prev=23,i||null==s.return||s.return();case 25:if(e.prev=25,!a){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[1,6],[14,18,22,30],[23,,25,29]])}));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function mu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=Object(c.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=N(t)).currentUser.isEqual(n)){e.next=11;break}return E("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ja(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach(function(e){e.forEach(function(e){e.reject(new M(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,vu(r,i.Ki);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function bu(e,t){return _u.apply(this,arguments)}function _u(){return(_u=Object(c.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),e.next=3,co(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&fu(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ku(e,t){return wu.apply(this,arguments)}function wu(){return(wu=Object(c.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),e.abrupt("return",ho(r.localStore,n).then(function(e){return vu(r,e)}));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ou(e,t,n,r){return xu.apply(this,arguments)}function xu(){return(xu=Object(c.a)(u.a.mark(function e(t,n,r,i){var a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=N(t),e.next=3,function(e,t){var n=N(e),r=N(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.yn(e,t).next(function(t){return t?n.localDocuments.getDocuments(e,t):me.resolve(null)})})}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ss(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(cu(a,n,i||null),uu(a,n),function(e,t){N(N(e).mutationQueue).In(t)}(a.localStore,n)):A();case 11:return e.next=13,vu(a,o);case 13:e.next=16;break;case 15:E("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Tu(e,t){return Su.apply(this,arguments)}function Su(){return(Su=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c,l,h,f,d,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Du(r=N(t)),Mu(r),!0!==n||!0===r.ac){e.next=30;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Eu(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,bs(r.remoteStore,!0);case 9:for(o=!0,s=!1,c=void 0,e.prev=12,l=a[Symbol.iterator]();!(o=(h=l.next()).done);o=!0)f=h.value,Go(r.remoteStore,f);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),s=!0,c=e.t0;case 20:e.prev=20,e.prev=21,o||null==l.return||l.return();case 23:if(e.prev=23,!s){e.next=26;break}throw c;case 26:return e.finish(23);case 27:return e.finish(20);case 28:e.next=42;break;case 30:if(!1!==n||!1===r.ac){e.next=42;break}return d=[],p=Promise.resolve(),r.ec.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?d.push(t):p=p.then(function(){return lu(r,t),so(r.localStore,t,!0)}),Yo(r.remoteStore,t)}),e.next=36,p;case 36:return e.next=38,Eu(r,d);case 38:return function(e){var t=N(r);t.ic.forEach(function(e,n){Yo(t.remoteStore,n)}),t.rc.cs(),t.ic=new Map,t.sc=new Re(re.comparator)}(),r.ac=!1,e.next=42,bs(r.remoteStore,!1);case 42:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}))).apply(this,arguments)}function Eu(e,t,n){return Iu.apply(this,arguments)}function Iu(){return(Iu=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c,l,h,f,d,p,v,y,m,g,b,_,k,w,O,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=N(t),a=[],o=[],s=!0,c=!1,l=void 0,e.prev=4,h=n[Symbol.iterator]();case 6:if(s=(f=h.next()).done){e.next=57;break}if(d=f.value,p=void 0,!(v=i.ec.get(d))||0===v.length){e.next=45;break}return e.next=13,oo(i.localStore,Qt(v[0]));case 13:p=e.sent,y=!0,m=!1,g=void 0,e.prev=17,b=v[Symbol.iterator]();case 19:if(y=(_=b.next()).done){e.next=29;break}return k=_.value,w=i.tc.get(k),e.next=24,bu(i,w);case 24:(O=e.sent).snapshot&&o.push(O.snapshot);case 26:y=!0,e.next=19;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(17),m=!0,g=e.t0;case 35:e.prev=35,e.prev=36,y||null==b.return||b.return();case 38:if(e.prev=38,!m){e.next=41;break}throw g;case 41:return e.finish(38);case 42:return e.finish(35);case 43:e.next=53;break;case 45:return e.next=47,lo(i.localStore,d);case 47:return x=e.sent,e.next=50,oo(i.localStore,x);case 50:return p=e.sent,e.next=53,Ys(i,ju(x),d,!1);case 53:a.push(p);case 54:s=!0,e.next=6;break;case 57:e.next=63;break;case 59:e.prev=59,e.t1=e.catch(4),c=!0,l=e.t1;case 63:e.prev=63,e.prev=64,s||null==h.return||h.return();case 66:if(e.prev=66,!c){e.next=69;break}throw l;case 69:return e.finish(66);case 70:return e.finish(63);case 71:return e.abrupt("return",(i.Zu.Go(o),a));case 72:case"end":return e.stop()}},e,this,[[4,59,63,71],[17,31,35,43],[36,,38,42],[64,,66,70]])}))).apply(this,arguments)}function ju(e){return Wt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Cu(e){var t=N(e);return N(N(t.localStore).persistence).Ri()}function Au(e,t,n,r){return Pu.apply(this,arguments)}function Pu(){return(Pu=Object(c.a)(u.a.mark(function e(t,n,r,i){var a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=N(t)).ac){e.next=3;break}return e.abrupt("return",void E("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0?8:"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ho(a.localStore,rn(o[0]));case 10:return s=e.sent,c=ir.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,vu(a,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,so(a.localStore,n,!0);case 17:return lu(a,n,i),e.abrupt("break",20);case 19:A();case 20:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ru(e,t,n){return Nu.apply(this,arguments)}function Nu(){return(Nu=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c,l,h,f,d,p,v,y,m,g,b;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Du(t)).ac){e.next=63;break}a=!0,o=!1,s=void 0,e.prev=5,c=n[Symbol.iterator]();case 7:if(a=(l=c.next()).done){e.next=24;break}if(h=l.value,!i.ec.has(h)){e.next=12;break}return E("SyncEngine","Adding an already active target "+h),e.abrupt("continue",21);case 12:return e.next=14,lo(i.localStore,h);case 14:return f=e.sent,e.next=17,oo(i.localStore,f);case 17:return d=e.sent,e.next=20,Ys(i,ju(f),d.targetId,!1);case 20:Go(i.remoteStore,d);case 21:a=!0,e.next=7;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(5),o=!0,s=e.t0;case 30:e.prev=30,e.prev=31,a||null==c.return||c.return();case 33:if(e.prev=33,!o){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(30);case 38:p=!0,v=!1,y=void 0,e.prev=41,m=u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,so(i.localStore,t,!1).then(function(){Yo(i.remoteStore,t),lu(i,t)}).catch(ve);case 5:case"end":return e.stop()}},e,this)}),g=r[Symbol.iterator]();case 44:if(p=(b=g.next()).done){e.next=49;break}return e.delegateYield(m(),"t1",46);case 46:p=!0,e.next=44;break;case 49:e.next=55;break;case 51:e.prev=51,e.t2=e.catch(41),v=!0,y=e.t2;case 55:e.prev=55,e.prev=56,p||null==g.return||g.return();case 58:if(e.prev=58,!v){e.next=61;break}throw y;case 61:return e.finish(58);case 62:return e.finish(55);case 63:case"end":return e.stop()}},e,this,[[5,26,30,38],[31,,33,37],[41,51,55,63],[56,,58,62]])}))).apply(this,arguments)}function Du(e){var t=N(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=N(e),r=n.ic.get(t);if(r&&r.Xu)return tr().add(r.key);var i=tr(),a=n.ec.get(t);if(!a)return i;var o=!0,s=!1,u=void 0;try{for(var c,l=a[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var h=c.value,f=n.tc.get(h);i=i.unionWith(f.view.qu)}}catch(d){s=!0,u=d}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return ru.apply(this,arguments)}.bind(null,t),t.Zu.Go=function(e,t){var n=N(e),r=!1,i=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=c.query,h=n.queries.get(l);if(h){var f=!0,d=!1,p=void 0;try{for(var v,y=h.listeners[Symbol.iterator]();!(f=(v=y.next()).done);f=!0)v.value.Au(c)&&(r=!0)}catch(m){d=!0,p=m}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}h.Iu=c}}}catch(m){a=!0,o=m}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}r&&Ns(n)}.bind(null,t.eventManager),t.Zu.lc=function(e,t,n){var r=N(e),i=r.queries.get(t);if(i){var a=!0,o=!1,s=void 0;try{for(var u,c=i.listeners[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)u.value.onError(n)}catch(l){o=!0,s=l}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}r.queries.delete(t)}.bind(null,t.eventManager),t}function Mu(e){var t=N(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return iu.apply(this,arguments)}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return au.apply(this,arguments)}.bind(null,t),t}function Lu(e,t,n){var r,i=N(e);(r=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=N(e),r=gr(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ds.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Us(i)),a=new Fs(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,vu(t,c.Mu,void 0);case 31:return e.next=33,function(e,t){var n=N(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ds.saveBundleMetadata(e,t)})}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(j("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}},e,this,[[0,37]])})),function(e,t,n){return r.apply(this,arguments)})(i,t,n).then(function(e){i.sharedClientState.notifyBundleLoaded(e)})}var Fu=function(){function e(){Object(p.a)(this,e),this.synchronizeTabs=!1}var t,n;return Object(v.a)(e,[{key:"initialize",value:(n=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Do(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Xa(this.persistence,new Za,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Ua(Ba.Ms,this.wt)}},{key:"dc",value:function(e){return new Eo}},{key:"terminate",value:(t=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),Uu=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).yc=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}var n;return Object(f.a)(t,e),Object(v.a)(t,[{key:"initialize",value:(n=Object(c.a)(u.a.mark(function e(n){var r=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(h.a)(t.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.yc.initialize(this,n);case 4:return e.next=6,Mu(this.yc.syncEngine);case 6:return e.next=8,ss(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()});case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"wc",value:function(e){return Xa(this.persistence,new Za,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ya(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Ie(t,this.persistence);return new Ee(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=Ya(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new Wa(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ro(),No(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Eo}}]),t}(Fu),Vu=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,n,!1))).yc=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}var n;return Object(f.a)(t,e),Object(v.a)(t,[{key:"initialize",value:(n=Object(c.a)(u.a.mark(function e(n){var r,a=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(h.a)(t.prototype),"initialize",this).call(this,n);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof So,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Ou.bind(null,r),Or:Au.bind(null,r),Mr:Ru.bind(null,r),Ri:Cu.bind(null,r),Nr:ku.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(a.yc.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"dc",value:function(e){var t=Ro();if(!So.V(t))throw new M(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ya(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new So(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),t}(Uu),Bu=function(){function e(){Object(p.a)(this,e)}var t;return Object(v.a)(e,[{key:"initialize",value:(t=Object(c.a)(u.a.mark(function e(t,n){var r=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return nu(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mu.bind(null,this.syncEngine),e.next=12,bs(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"createEventManager",value:function(e){return new js}},{key:"createDatastore",value:function(e){var t,n=Do(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Po(t));return function(e,t,n,r){return new Vo(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return nu(o.syncEngine,e,0)},a=jo.V()?new jo:new Io,new zo(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ws(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return(e=Object(c.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=N(t),E("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Wo(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),e}();function zu(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,i=0;return{read:(n=Object(c.a)(u.a.mark(function t(){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i<e.byteLength)){t.next=3;break}return n={value:e.slice(i,i+r),done:!1},t.abrupt("return",(i+=r,n));case 3:return t.abrupt("return",{done:!0});case 4:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)}),cancel:(t=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),releaseLock:function(){},closed:Promise.reject("unimplemented")}}var qu=function(){function e(t){Object(p.a)(this,e),this.observer=t,this.muted=!1}return Object(v.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),Hu=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.Ec=t,this.wt=n,this.metadata=new L,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}var t,n,r,i,a,o;return Object(v.a)(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:(o=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"fc",value:(a=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"Rc",value:(i=Object(c.a)(u.a.mark(function e(){var t,n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Ms(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"Vc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"bc",value:(r=Object(c.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"vc",value:(n=Object(c.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:(t=Object(c.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),Wu=function(){function e(t){Object(p.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}var t,n;return Object(v.a)(e,[{key:"lookup",value:(n=Object(c.a)(u.a.mark(function e(t){var n,r=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new M(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(c.a)(u.a.mark(function e(t,n){var r,i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),i=Tr(r.wt)+"/documents",a={documents:n.map(function(e){return kr(r.wt,e)})},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach(function(e){var t=jr(r.wt,e);s.set(t.key.toString(),t)}),c=[],e.abrupt("return",(n.forEach(function(e){var t=s.get(e.toString());P(!!t),c.push(t)}),c));case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach(function(e){return r.recordVersion(e)}),n));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Un(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:(t=Object(c.a)(u.a.mark(function e(){var t,n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=re.fromPath(t);n.mutations.push(new Vn(r,n.precondition(r)))}),e.next=7,function(){var e=Object(c.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=N(t),i=Tr(r.wt)+"/documents",a={writes:n.map(function(e){return Cr(r.wt,e)})},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=X.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new M(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?xn.updateTime(t):xn.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(X.min()))throw new M(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xn.updateTime(t)}return xn.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ku=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Mo(this.asyncQueue,"transaction_retry")}return Object(v.a)(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Object(c.a)(u.a.mark(function t(){var n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new Wu(e.datastore),(r=e.xc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.Nc(t)})})}).catch(function(t){e.Nc(t)});case 2:case"end":return t.stop()}},t,this)})))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Ze(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(function(){return t.Cc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!zn(t)}return!1}}]),e}(),Gu=function(){function e(t,n,r,i){var a=this;Object(p.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=w.UNAUTHENTICATED,this.clientId=G.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return E("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)})}var t;return Object(v.a)(e,[{key:"getConfiguration",value:(t=Object(c.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new M(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(c.a)(u.a.mark(function n(){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xs(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,this,[[0,14]])}))),t.promise}}]),e}();function Yu(e,t){return $u.apply(this,arguments)}function $u(){return($u=Object(c.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ja(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Zu(e,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Object(c.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Xu(t);case 3:return r=e.sent,E("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return ms(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return ms(n.remoteStore,t)}),t.onlineComponents=n;case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Xu(e){return Ju.apply(this,arguments)}function Ju(){return(Ju=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return E("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Yu(t,new Fu);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ec(e){return tc.apply(this,arguments)}function tc(){return(tc=Object(c.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return E("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Zu(t,new Bu);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function nc(e){return Xu(e).then(function(e){return e.persistence})}function rc(e){return Xu(e).then(function(e){return e.localStore})}function ic(e){return ec(e).then(function(e){return e.remoteStore})}function ac(e){return ec(e).then(function(e){return e.syncEngine})}function oc(e){return sc.apply(this,arguments)}function sc(){return(sc=Object(c.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ks.bind(null,n.syncEngine),r.onUnlisten=Zs.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function i(){return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qu({next:function(a){t.enqueueAndForget(function(){return Ps(e,o)});var s=a.docs.has(n);!s&&a.fromCache?i.reject(new M(D.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new M(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ds(Kt(n.path),a,{includeMetadataChanges:!0,Du:!0});return Cs(e,o)},i.next=3,oc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i,this)}))),r.promise}function cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function i(){return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new qu({next:function(n){t.enqueueAndForget(function(){return Ps(e,o)}),n.fromCache&&"server"===r.source?i.reject(new M(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ds(n,a,{includeMetadataChanges:!0,Du:!0});return Cs(e,o)},i.next=3,oc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i,this)}))),r.promise}var lc=new Map;function hc(e,t,n){if(!n)throw new M(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fc(e,t,n,r){if(!0===t&&!0===r)throw new M(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function dc(e){if(!re.isDocumentKey(e))throw new M(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pc(e){if(re.isDocumentKey(e))throw new M(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==Object(o.a)(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function yc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vc(e);throw new M(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function mc(e,t){if(t<=0)throw new M(D.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gc=function(){function e(t){var n;if(Object(p.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new M(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bc=function(){function e(t,n,r){Object(p.a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gc({}),this._settingsFrozen=!1,t instanceof $e?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $e(e.options.projectId)}(t))}return Object(v.a)(e,[{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new M(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return P(!("object"!=Object(o.a)(t)||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new q(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new M(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return e=this,(t=lc.get(e))&&(E("ComponentProvider","Removing Datastore"),lc.delete(e),t.terminate()),Promise.resolve();var e,t}},{key:"app",get:function(){if(!this._app)throw new M(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}}]),e}();function _c(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=yc(e,bc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&j("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=w.MOCK_USER;else{o=Object(b.l)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new M(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new w(u)}e._authCredentials=new V(new F(o,s))}}var kc=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(v.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}}]),e}(),wc=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(v.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Oc=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this,e,n,Kt(r))))._path=r,i.type="collection",i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}},{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kc(this.firestore,null,new re(e))}}]),t}(wc);function xc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(b.s)(e),hc("collection","path",t),e instanceof bc){var a=ee.fromString.apply(ee,[t].concat(r));return pc(a),new Oc(e,null,a)}if(!(e instanceof kc||e instanceof Oc))throw new M(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return pc(o),new Oc(e.firestore,null,o)}function Tc(e,t){if(e=yc(e,bc),hc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(D.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new wc(e,null,function(e){return new Ht(ee.emptyPath(),e)}(t))}function Sc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(b.s)(e),1===arguments.length&&(t=G.I()),hc("doc","path",t),e instanceof bc){var a=ee.fromString.apply(ee,[t].concat(r));return dc(a),new kc(e,null,new re(a))}if(!(e instanceof kc||e instanceof Oc))throw new M(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return dc(o),new kc(e.firestore,e instanceof Oc?e.converter:null,new re(o))}function Ec(e,t){return e=Object(b.s)(e),t=Object(b.s)(t),(e instanceof kc||e instanceof Oc)&&(t instanceof kc||t instanceof Oc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ic(e,t){return e=Object(b.s)(e),t=Object(b.s)(t),e instanceof wc&&t instanceof wc&&e.firestore===t.firestore&&Jt(e._query,t._query)&&e.converter===t.converter}var jc=function(){function e(){var t=this;Object(p.a)(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Mo(this,"async_queue_retry"),this.Kc=function(){var e=No();e&&E("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=No();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}var t,n;return Object(v.a)(e,[{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=No();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise(function(){});var n=new L;return this.Qc(function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.Mc.push(e),t.jc()})}},{key:"jc",value:(n=Object(c.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),we(e.t0)){e.next=12;break}throw e.t0;case 12:E("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io(function(){return t.jc()});case 14:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return n.apply(this,arguments)})},{key:"Qc",value:function(e){var t=this,n=this.Oc.then(function(){return t.Lc=!0,e().catch(function(e){throw t.Bc=e,t.Lc=!1,I("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Lc=!1,e})});return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Os.createAndSchedule(this,e,t,n,function(e){return r.Wc(e)});return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:(t=Object(c.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"Hc",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.$c[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.timerId===e)return!0}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then(function(){t.$c.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n=!0,r=!1,i=void 0;try{for(var a,o=t.$c[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(s.skipDelay(),"all"!==e&&s.timerId===e)break}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t.zc()})}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}},{key:"isShuttingDown",get:function(){return this.Fc}}]),e}();function Cc(e){return function(e,t){if("object"!=Object(o.a)(e)||null===e)return!1;var n=e,r=!0,i=!1,a=void 0;try{for(var s,u=["next","error","complete"][Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(c in n&&"function"==typeof n[c])return!0}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return!1}(e)}var Ac=function(){function e(){Object(p.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new L,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(v.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Pc=-1,Rc=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this,e,n,r))).type="firestore",i._queue=new jc,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_terminate",value:function(){return this._firestoreClient||Mc(this),this._firestoreClient.terminate()}}]),t}(bc);function Nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.getApp)();return Object(y._getProvider)(e,"firestore").getImmediate()}function Dc(e){return e._firestoreClient||Mc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mc(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ye(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Gu(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Lc(e,t){Kc(e=yc(e,Rc));var n=Dc(e),r=e._freezeSettings(),i=new Bu;return Uc(n,i,new Uu(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Fc(e){Kc(e=yc(e,Rc));var t=Dc(e),n=e._freezeSettings(),r=new Bu;return Uc(t,r,new Vu(r,n.cacheSizeBytes))}function Uc(e,t,n){var r=new L;return e.asyncQueue.enqueue(Object(c.a)(u.a.mark(function i(){return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Yu(e,n);case 3:return i.next=5,Zu(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}},i,this,[[0,8]])}))).then(function(){return r.promise})}function Vc(e){if(e._initialized&&!e._terminated)throw new M(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new L;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(c.a)(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(c.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(be.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,be.delete(n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()(Ya(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))),t.promise}function Bc(e){return function(e){var t=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ou,n.next=3,ac(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n,this)}))),t.promise}(Dc(e=yc(e,Rc)))}function zc(e){return function(e){return e.asyncQueue.enqueue(Object(c.a)(u.a.mark(function t(){var n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nc(e);case 2:return n=t.sent,t.next=5,ic(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=N(r);return t.lu.delete(0),qo(t)}()));case 7:case"end":return t.stop()}},t,this)})))}(Dc(e=yc(e,Rc)))}function qc(e){return function(e){return e.asyncQueue.enqueue(Object(c.a)(u.a.mark(function t(){var n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nc(e);case 2:return n=t.sent,t.next=5,ic(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(c.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=N(t)).lu.add(0),e.next=4,Wo(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}},t,this)})))}(Dc(e=yc(e,Rc)))}function Hc(e,t){var n=Dc(e=yc(e,Rc)),r=new Ac;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Hu(e,t)}(function(e,t){if(e instanceof Uint8Array)return zu(e,t);if(e instanceof ArrayBuffer)return zu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Do(t));e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lu,t.next=3,ac(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t,this)})))}(n,e._databaseId,t,r),r}function Wc(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(c.a)(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=N(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ds.getNamedQuery(e,t)})},n.next=3,rc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n,this)})))}(Dc(e=yc(e,Rc)),t).then(function(t){return t?new wc(e,null,t.query):null})}function Kc(e){if(e._initialized||e._terminated)throw new M(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Gc=function(){function e(){Object(p.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new M(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(n)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Yc=function(){function e(t){Object(p.a)(this,e),this._byteString=t}return Object(v.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Be.fromBase64String(t))}catch(t){throw new M(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Be.fromUint8Array(t))}}]),e}(),$c=function e(t){Object(p.a)(this,e),this._methodName=t},Zc=function(){function e(t,n){if(Object(p.a)(this,e),!isFinite(t)||t<-90||t>90)throw new M(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new M(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}},{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}}]),e}(),Qc=/^__.*__$/,Xc=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Rn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pn(e,this.data,t,this.fieldTransforms)}}]),e}(),Jc=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return new Rn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function el(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var tl=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(v.a)(e,[{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return kl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(el(this.Zc)&&Qc.test(e))throw this.oa('Document fields cannot begin and end with "__"')}},{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}}]),e}(),nl=function(){function e(t,n,r){Object(p.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Do(t)}return Object(v.a)(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tl({Zc:e,methodName:t,ca:n,path:ne.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function rl(e){var t=e._freezeSettings(),n=Do(e._databaseId);return new nl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function il(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);ml("Data must be an object, but it was:",o,r);var s,u,c=vl(r,o);if(a.merge)s=new Ue(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l=[],h=!0,f=!1,d=void 0;try{for(var p,v=a.mergeFields[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var y=gl(t,p.value,n);if(!o.contains(y))throw new M(D.INVALID_ARGUMENT,"Field '".concat(y,"' is specified in your field mask but missing from your input data."));wl(l,y)||l.push(y)}}catch(m){f=!0,d=m}finally{try{h||null==v.return||v.return()}finally{if(f)throw d}}s=new Ue(l),u=o.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=o.fieldTransforms;return new Xc(new bt(c),s,u)}var al=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}($c);function ol(e,t,n){return new tl({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var sl=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_toFieldTransform",value:function(e){return new wn(e.path,new pn)}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}($c),ul=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e))).ha=n,r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_toFieldTransform",value:function(e){var t=ol(this,e,!0),n=this.ha.map(function(e){return pl(e,t)}),r=new vn(n);return new wn(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}($c),cl=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e))).ha=n,r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_toFieldTransform",value:function(e){var t=ol(this,e,!0),n=this.ha.map(function(e){return pl(e,t)}),r=new mn(n);return new wn(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}($c),ll=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e))).la=n,r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_toFieldTransform",value:function(e){var t=new bn(e.wt,cn(e.wt,this.la));return new wn(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),t}($c);function hl(e,t,n,r){var i=e.aa(1,t,n);ml("Data must be an object, but it was:",i,r);var a=[],o=bt.empty();Ae(r,function(e,r){var s=_l(t,e,n);r=Object(b.s)(r);var u=i.ia(s);if(r instanceof al)a.push(s);else{var c=pl(r,u);null!=c&&(a.push(s),o.set(s,c))}});var s=new Ue(a);return new Jc(o,s,i.fieldTransforms)}function fl(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[gl(t,r,n)],u=[i];if(a.length%2!=0)throw new M(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(gl(t,a[c])),u.push(a[c+1]);for(var l=[],h=bt.empty(),f=s.length-1;f>=0;--f)if(!wl(l,s[f])){var d=s[f],p=u[f];p=Object(b.s)(p);var v=o.ia(d);if(p instanceof al)l.push(d);else{var y=pl(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new Ue(l);return new Jc(h,m,o.fieldTransforms)}function dl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pl(n,e.aa(r?4:3,t))}function pl(e,t){if(yl(e=Object(b.s)(e)))return ml("Unsupported field value:",t,e),vl(e,t);if(e instanceof $c)return function(e,t){if(!el(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n=[],r=0,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=pl(s.value,t.ra(r));null==c&&(c={nullValue:"NULL_VALUE"}),n.push(c),r++}}catch(l){a=!0,o=l}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(b.s)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cn(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Q.fromDate(e);return{timestampValue:yr(t.wt,n)}}if(e instanceof Q){var r=new Q(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yr(t.wt,r)}}if(e instanceof Zc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yc)return{bytesValue:mr(t.wt,e._byteString)};if(e instanceof kc){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:br(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(vc(e)))}(e,t)}function vl(e,t){var n={};return Pe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ae(e,function(e,r){var i=pl(r,t.ea(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function yl(e){return!("object"!=Object(o.a)(e)||null===e||e instanceof Array||e instanceof Date||e instanceof Q||e instanceof Zc||e instanceof Yc||e instanceof kc||e instanceof $c)}function ml(e,t,n){if(!yl(n)||!function(e){return"object"==Object(o.a)(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vc(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function gl(e,t,n){if((t=Object(b.s)(t))instanceof Gc)return t._internalPath;if("string"==typeof t)return _l(e,t);throw kl("Field path arguments must be of type string or ",e,!1,void 0,n)}var bl=new RegExp("[~\\*/\\[\\]]");function _l(e,t,n){if(t.search(bl)>=0)throw kl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(Gc,Object(d.a)(t.split(".")))._internalPath}catch(i){throw kl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kl(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new M(D.INVALID_ARGUMENT,s+e+u)}function wl(e,t){return e.some(function(e){return e.isEqual(t)})}var Ol=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(v.a)(e,[{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new xl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Tl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new kc(this._firestore,this._converter,this._key)}}]),e}(),xl=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"data",value:function(){return Object(i.a)(Object(h.a)(t.prototype),"data",this).call(this)}}]),t}(Ol);function Tl(e,t){return"string"==typeof t?_l(e,t):t instanceof Gc?t._internalPath:t._delegate._internalPath}var Sl=function(){function e(t,n){Object(p.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),El=function(e){function t(e,n,r,i,a,o){var s;return Object(p.a)(this,t),(s=Object(l.a)(this,Object(h.a)(t).call(this,e,n,r,i,o)))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return Object(f.a)(t,e),Object(v.a)(t,[{key:"exists",value:function(){return Object(i.a)(Object(h.a)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Il(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Tl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),t}(Ol),Il=function(e){function t(){return Object(p.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(h.a)(t.prototype),"data",this).call(this,e)}}]),t}(El),jl=function(){function e(t,n,r,i){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}return Object(v.a)(e,[{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Il(n._firestore,n._userDataWriter,r.key,r,new Sl(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Il(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Il(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}}]),e}();function Cl(e,t){return e instanceof El&&t instanceof El?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jl&&t instanceof jl&&e._firestore===t._firestore&&Ic(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Al(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pl=function e(){Object(p.a)(this,e)};function Rl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;i++){e=n[i]._apply(e)}return e}var Nl=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).fa=e,i.da=n,i._a=r,i.type="where",i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_apply",value:function(e){var t=rl(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new M(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$l(o,a);var u=[],c=!0,l=!1,h=void 0;try{for(var f,d=o[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;u.push(Yl(r,e,p))}}catch(y){l=!0,h=y}finally{try{c||null==d.return||d.return()}finally{if(l)throw h}}s={arrayValue:{values:u}}}else s=Yl(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$l(o,a),s=dl(n,"where",o,"in"===a||"not-in"===a);var v=Ct.create(i,a,s);return function(e,t){if(t.ht()){var n=Yt(e);if(null!==n&&!n.isEqual(t.field))throw new M(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Gt(e);null!==r&&Zl(e,t.field,r)}var i=function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.filters[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(t.indexOf(s.op)>=0)return s.op}}catch(y){r=!0,i=y}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return null}(e,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new M(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,v),v}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new wc(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),t}(Pl);function Dl(e,t,n){var r=t,i=Tl("where",e);return new Nl(i,r,n)}var Ml=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this))).fa=e,r.wa=n,r.type="orderBy",r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new M(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vt(t,n);return function(e,t){if(null===Gt(e)){var n=Yt(e);null!==n&&Zl(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new wc(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ht(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),t}(Pl);function Ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Tl("orderBy",e);return new Ml(n,t)}var Fl=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).type=e,i.ma=n,i.ga=r,i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_apply",value:function(e){return new wc(e.firestore,e.converter,Xt(e._query,this.ma,this.ga))}}]),t}(Pl);function Ul(e){return mc("limit",e),new Fl("limit",e,"F")}function Vl(e){return mc("limitToLast",e),new Fl("limitToLast",e,"L")}var Bl=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).type=e,i.ya=n,i.pa=r,i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_apply",value:function(e){var t=Gl(e,this.type,this.ya,this.pa);return new wc(e.firestore,e.converter,function(e,t){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),t}(Pl);function zl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bl("startAt",t,!0)}function ql(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bl("startAfter",t,!1)}var Hl=function(e){function t(e,n,r){var i;return Object(p.a)(this,t),(i=Object(l.a)(this,Object(h.a)(t).call(this))).type=e,i.ya=n,i.pa=r,i}return Object(f.a)(t,e),Object(v.a)(t,[{key:"_apply",value:function(e){var t=Gl(e,this.type,this.ya,this.pa);return new wc(e.firestore,e.converter,function(e,t){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),t}(Pl);function Wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hl("endBefore",t,!1)}function Kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hl("endAt",t,!0)}function Gl(e,t,n,r){if(n[0]=Object(b.s)(n[0]),n[0]instanceof Ol)return function(e,t,n,r,i){if(!r)throw new M(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a=[],o=!0,s=!1,u=void 0;try{for(var c,l=Zt(e)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var h=c.value;if(h.field.isKeyField())a.push(st(t,r.key));else{var f=r.data.field(h.field);if(Ke(f))throw new M(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var d=h.field.canonicalString();throw new M(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(d,"' (used as the orderBy) does not exist."))}a.push(f)}}}catch(p){s=!0,u=p}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return new Ut(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=rl(e.firestore);return function(e,t,n,r,i,a){var s=e.explicitOrderBy;if(i.length>s.length)throw new M(D.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],c=0;c<i.length;c++){var l=i[c];if(s[c].field.isKeyField()){if("string"!=typeof l)throw new M(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(Object(o.a)(l)));if(!$t(e)&&-1!==l.indexOf("/"))throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var h=e.path.child(ee.fromString(l));if(!re.isDocumentKey(h))throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(h,"' is not because it contains an odd number of segments."));var f=new re(h);u.push(st(t,f))}else{var d=dl(n,r,l);u.push(d)}}return new Ut(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Yl(e,t,n){if("string"==typeof(n=Object(b.s)(n))){if(""===n)throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$t(t)&&-1!==n.indexOf("/"))throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ee.fromString(n));if(!re.isDocumentKey(r))throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return st(e,new re(r))}if(n instanceof kc)return st(e,n._key);throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vc(n),"."))}function $l(e,t){if(!Array.isArray(e)||0===e.length)throw new M(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new M(D.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Zl(e,t,n){if(!n.isEqual(t))throw new M(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ql={maxAttempts:5},Xl=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(We(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ae(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new Zc(He(e.latitude),He(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Ke(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ge(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=qe(e);return new Q(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ee.fromString(e);P(Lr(n));var r=new $e(n.get(1),n.get(3)),i=new re(n.popFirst(5));return r.isEqual(t)||I("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Jl(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eh=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).firestore=e,n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"convertBytes",value:function(e){return new Yc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kc(this.firestore,null,t)}}]),t}(Xl),th=function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rl(t)}return Object(v.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nh(e,this._firestore),i=Jl(r.converter,t,n),a=il(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,xn.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nh(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Object(b.s)(t))||t instanceof Gc?fl(this._dataReader,"WriteBatch.update",i._key,t,n,o):hl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,xn.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nh(e,this._firestore);return this._mutations=this._mutations.concat(new Un(t._key,xn.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new M(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nh(e,t){if((e=Object(b.s)(e)).firestore!==t)throw new M(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function rh(e){e=yc(e,kc);var t=yc(e.firestore,Rc);return uc(Dc(t),e._key).then(function(n){return mh(t,e,n)})}var ih=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).firestore=e,n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"convertBytes",value:function(e){return new Yc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kc(this.firestore,null,t)}}]),t}(Xl);function ah(e){e=yc(e,kc);var t=yc(e.firestore,Rc),n=Dc(t),r=new ih(t);return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(c.a)(u.a.mark(function e(t,n,r){var i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=N(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.localDocuments.getDocument(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new M(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=xs(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r,this)}))),n.promise}(n,e._key).then(function(n){return new El(t,r,e._key,n,new Sl(null!==n&&n.hasLocalMutations,!0),e.converter)})}function oh(e){e=yc(e,kc);var t=yc(e.firestore,Rc);return uc(Dc(t),e._key,{source:"server"}).then(function(n){return mh(t,e,n)})}function sh(e){e=yc(e,wc);var t=yc(e.firestore,Rc),n=Dc(t),r=new ih(t);return Al(e._query),cc(n,e._query).then(function(n){return new jl(t,r,e,n)})}function uh(e){e=yc(e,wc);var t=yc(e.firestore,Rc),n=Dc(t),r=new ih(t);return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(c.a)(u.a.mark(function e(t,n,r){var i,a,o,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,co(t,n,!0);case 3:i=e.sent,a=new zs(n,i.ji),o=a.Ku(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=xs(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,rc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r,this)}))),n.promise}(n,e._query).then(function(n){return new jl(t,r,e,n)})}function ch(e){e=yc(e,wc);var t=yc(e.firestore,Rc),n=Dc(t),r=new ih(t);return cc(n,e._query,{source:"server"}).then(function(n){return new jl(t,r,e,n)})}function lh(e,t,n){e=yc(e,kc);var r=yc(e.firestore,Rc),i=Jl(e.converter,t,n);return yh(r,[il(rl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xn.none())])}function hh(e,t,n){e=yc(e,kc);for(var r=yc(e.firestore,Rc),i=rl(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return yh(r,[("string"==typeof(t=Object(b.s)(t))||t instanceof Gc?fl(i,"updateDoc",e._key,t,n,o):hl(i,"updateDoc",e._key,t)).toMutation(e._key,xn.exists(!0))])}function fh(e){return yh(yc(e.firestore,Rc),[new Un(e._key,xn.none())])}function dh(e,t){var n=yc(e.firestore,Rc),r=Sc(e),i=Jl(e.converter,t);return yh(n,[il(rl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xn.exists(!1))]).then(function(){return r})}function ph(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=Object(b.s)(e);var l={includeMetadataChanges:!1},h=0;"object"!=Object(o.a)(n[h])||Cc(n[h])||(l=n[h],h++);var f,d,p,v={includeMetadataChanges:l.includeMetadataChanges};if(Cc(n[h])){var y=n[h];n[h]=null===(i=y.next)||void 0===i?void 0:i.bind(y),n[h+1]=null===(a=y.error)||void 0===a?void 0:a.bind(y),n[h+2]=null===(s=y.complete)||void 0===s?void 0:s.bind(y)}if(e instanceof kc)d=yc(e.firestore,Rc),p=Kt(e._key.path),f={next:function(t){n[h]&&n[h](mh(d,e,t))},error:n[h+1],complete:n[h+2]};else{var m=yc(e,wc);d=yc(m.firestore,Rc),p=m._query;var g=new ih(d);f={next:function(e){n[h]&&n[h](new jl(d,g,m,e))},error:n[h+1],complete:n[h+2]},Al(e._query)}return function(e,t,n,r){var i=new qu(f),a=new Ds(t,i,n);return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cs,t.next=3,oc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)}))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ps,t.next=3,oc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)})))}}(Dc(d),p,v)}function vh(e,t){return function(e,t){var n=new qu(t);return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){N(e).Tu.add(t),t.next()},t.next=3,oc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)}))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){N(e).Tu.delete(t)},t.next=3,oc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)})))}}(Dc(e=yc(e,Rc)),Cc(t)?t:{next:t})}function yh(e,t){return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Xs,r.next=3,ac(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r,this)}))),n.promise}(Dc(e),t)}function mh(e,t,n){var r=n.docs.get(t._key),i=new ih(e);return new El(e,i,t._key,r,new Sl(n.hasPendingWrites,n.fromCache),t.converter)}var gh=function(e){function t(e,n){var r;return Object(p.a)(this,t),(r=Object(l.a)(this,Object(h.a)(t).call(this,e,n)))._firestore=e,r}return Object(f.a)(t,e),Object(v.a)(t,[{key:"get",value:function(e){var n=this,r=nh(e,this._firestore),a=new ih(this._firestore);return Object(i.a)(Object(h.a)(t.prototype),"get",this).call(this,e).then(function(e){return new El(n._firestore,a,r._key,e._document,new Sl(!1,!1),r.converter)})}}]),t}(function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=rl(t)}return Object(v.a)(e,[{key:"get",value:function(e){var t=this,n=nh(e,this._firestore),r=new eh(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return A();var i=e[0];if(i.isFoundDocument())return new Ol(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ol(t._firestore,r,n._key,null,n.converter);throw A()})}},{key:"set",value:function(e,t,n){var r=nh(e,this._firestore),i=Jl(r.converter,t,n),a=il(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nh(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Object(b.s)(t))||t instanceof Gc?fl(this._dataReader,"Transaction.update",i._key,t,n,o):hl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nh(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function bh(e,t,n){e=yc(e,Rc);var r=Object.assign(Object.assign({},Ql),n);return function(e){if(r.maxAttempts<1)throw new M(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(),function(e,t,n){var r=new L;return e.asyncQueue.enqueueAndForget(Object(c.a)(u.a.mark(function i(){var a;return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return ec(e).then(function(e){return e.datastore})}(e);case 2:a=i.sent,new Ku(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}},i,this)}))),r.promise}(Dc(e),function(n){return t(new gh(e,n))},r)}function _h(){return new al("deleteField")}function kh(){return new sl("serverTimestamp")}function wh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ul("arrayUnion",t)}function Oh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cl("arrayRemove",t)}function xh(e){return new ll("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){O=e}(y.SDK_VERSION),Object(y._registerComponent)(new m.a("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Rc(i,new B(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),Object(y.registerVersion)(k,"3.4.10",void 0),Object(y.registerVersion)(k,"3.4.10","esm2017")}()}).call(this,n(36))},function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(0),a=n.n(i),o=n(5),s=n(8),u=n(6),c=n(1),l=n(4),h=n(18),f=n(17),d=n(3);var p,v,y=function(e,t){return t.some(function(t){return e instanceof t})};var m=new WeakMap,g=new WeakMap,b=new WeakMap,_=new WeakMap,k=new WeakMap;var w={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return g.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return T(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function O(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(v||(v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(S(this),n),T(m.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(e.apply(S(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[S(this),t].concat(r));return b.set(a,t.sort?t.sort():[t]),T(a)}}function x(e){return"function"===typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(!g.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});g.set(e,t)}}(e),y(e,p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,w):e)}function T(e){if(e instanceof IDBRequest)return t=e,(n=new Promise(function(e,n){var r=function(){t.removeEventListener("success",i),t.removeEventListener("error",a)},i=function(){e(T(t.result)),r()},a=function(){n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)})).then(function(e){e instanceof IDBCursor&&m.set(e,t)}).catch(function(){}),k.set(n,t),n;var t,n;if(_.has(e))return _.get(e);var r=x(e);return r!==e&&(_.set(e,r),k.set(r,e)),r}var S=function(e){return k.get(e)};var E,I,j=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],A=new Map;function P(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(A.get(t))return A.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=C.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||j.includes(n))){var s=function(){var e=Object(o.a)(a.a.mark(function e(t){var o,s,u,c,l,h,f=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=f.length,l=new Array(c>1?c-1:0),h=1;h<c;h++)l[h-1]=f[h];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(o=u)[n].apply(o,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return A.set(t,s),s}}}w=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(u.a)(e,t,n[t])})}return e}({},e,{get:function(t,n,r){return P(t,n)||e.get(t,n,r)},has:function(t,n){return!!P(t,n)||e.has(t,n)}})}(w),n.d(t,"SDK_VERSION",function(){return Z}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return L}),n.d(t,"_addComponent",function(){return B}),n.d(t,"_addOrOverwriteComponent",function(){return z}),n.d(t,"_apps",function(){return U}),n.d(t,"_clearComponents",function(){return K}),n.d(t,"_components",function(){return V}),n.d(t,"_getProvider",function(){return H}),n.d(t,"_registerComponent",function(){return q}),n.d(t,"_removeServiceInstance",function(){return W}),n.d(t,"deleteApp",function(){return ee}),n.d(t,"getApp",function(){return X}),n.d(t,"getApps",function(){return J}),n.d(t,"initializeApp",function(){return Q}),n.d(t,"onLog",function(){return re}),n.d(t,"registerVersion",function(){return ne}),n.d(t,"setLogLevel",function(){return ie}),n.d(t,"FirebaseError",function(){return d.c});var R=function(){function e(t){Object(c.a)(this,e),this.container=t}return Object(l.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var N="@firebase/app",D="0.7.26",M=new f.b("@firebase/app"),L="[DEFAULT]",F=(E={},Object(u.a)(E,N,"fire-core"),Object(u.a)(E,"@firebase/app-compat","fire-core-compat"),Object(u.a)(E,"@firebase/analytics","fire-analytics"),Object(u.a)(E,"@firebase/analytics-compat","fire-analytics-compat"),Object(u.a)(E,"@firebase/app-check","fire-app-check"),Object(u.a)(E,"@firebase/app-check-compat","fire-app-check-compat"),Object(u.a)(E,"@firebase/auth","fire-auth"),Object(u.a)(E,"@firebase/auth-compat","fire-auth-compat"),Object(u.a)(E,"@firebase/database","fire-rtdb"),Object(u.a)(E,"@firebase/database-compat","fire-rtdb-compat"),Object(u.a)(E,"@firebase/functions","fire-fn"),Object(u.a)(E,"@firebase/functions-compat","fire-fn-compat"),Object(u.a)(E,"@firebase/installations","fire-iid"),Object(u.a)(E,"@firebase/installations-compat","fire-iid-compat"),Object(u.a)(E,"@firebase/messaging","fire-fcm"),Object(u.a)(E,"@firebase/messaging-compat","fire-fcm-compat"),Object(u.a)(E,"@firebase/performance","fire-perf"),Object(u.a)(E,"@firebase/performance-compat","fire-perf-compat"),Object(u.a)(E,"@firebase/remote-config","fire-rc"),Object(u.a)(E,"@firebase/remote-config-compat","fire-rc-compat"),Object(u.a)(E,"@firebase/storage","fire-gcs"),Object(u.a)(E,"@firebase/storage-compat","fire-gcs-compat"),Object(u.a)(E,"@firebase/firestore","fire-fst"),Object(u.a)(E,"@firebase/firestore-compat","fire-fst-compat"),Object(u.a)(E,"fire-js","fire-js"),Object(u.a)(E,"firebase","fire-js-all"),E),U=new Map,V=new Map;function B(e,t){try{e.container.addComponent(t)}catch(n){M.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function z(e,t){e.container.addOrOverwriteComponent(t)}function q(e){var t=e.name;if(V.has(t))return M.debug("There were multiple attempts to register component ".concat(t,".")),!1;V.set(t,e);var n=!0,r=!1,i=void 0;try{for(var a,o=U.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){B(a.value,e)}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}function H(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;H(e,t).clearInstance(n)}function K(){V.clear()}var G=(I={},Object(u.a)(I,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(u.a)(I,"bad-app-name","Illegal App name: '{$appName}"),Object(u.a)(I,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(u.a)(I,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(u.a)(I,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(u.a)(I,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(u.a)(I,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(u.a)(I,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(u.a)(I,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(u.a)(I,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),I),Y=new d.b("app","Firebase",G),$=function(){function e(t,n,r){var i=this;Object(c.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.a("app",function(){return i},"PUBLIC"))}return Object(l.a)(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Y.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),Z="9.8.3";function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==Object(s.a)(t)&&(t={name:t});var n=Object.assign({name:L,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw Y.create("bad-app-name",{appName:String(r)});var i=U.get(r);if(i){if(Object(d.o)(e,i.options)&&Object(d.o)(n,i.config))return i;throw Y.create("duplicate-app",{appName:r})}var a=new h.b(r),o=!0,u=!1,c=void 0;try{for(var l,f=V.values()[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var p=l.value;a.addComponent(p)}}catch(y){u=!0,c=y}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}var v=new $(e,n,a);return U.set(r,v),v}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=U.get(e);if(!t)throw Y.create("no-app",{appName:e});return t}function J(){return Array.from(U.values())}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(o.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!U.has(n)){e.next=6;break}return U.delete(n),e.next=5,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ne(e,t,n){var r,i=null!==(r=F[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void M.warn(s.join(" "))}q(new h.a("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function re(e,t){if(null!==e&&"function"!==typeof e)throw Y.create("invalid-log-argument");Object(f.d)(e,t)}function ie(e){Object(f.c)(e)}var ae="firebase-heartbeat-database",oe=1,se="firebase-heartbeat-store",ue=null;function ce(){return ue||(ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=T(s);return i&&s.addEventListener("upgradeneeded",function(e){i(T(s.result),e.oldVersion,e.newVersion,T(s.transaction))}),r&&s.addEventListener("blocked",function(){return r()}),u.then(function(e){o&&e.addEventListener("close",function(){return o()}),a&&e.addEventListener("versionchange",function(){return a()})}).catch(function(){}),u}(ae,oe,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(se)}}}).catch(function(e){throw Y.create("storage-open",{originalErrorMessage:e.message})})),ue}function le(e){return he.apply(this,arguments)}function he(){return(he=Object(o.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return r=e.sent,e.abrupt("return",r.transaction(se).objectStore(se).get(pe(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Y.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}function fe(e,t){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(a.a.mark(function e(t,n){var r,i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return i=e.sent,o=i.transaction(se,"readwrite"),s=o.objectStore(se),e.next=8,s.put(n,pe(t));case 8:return e.abrupt("return",o.done);case 11:throw e.prev=11,e.t0=e.catch(0),Y.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}},e,this,[[0,11]])}))).apply(this,arguments)}function pe(e){return"".concat(e.name,"!").concat(e.options.appId)}var ve=1024,ye=function(){function e(t){var n=this;Object(c.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new _e(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})}var t,n;return Object(l.a)(e,[{key:"triggerHeartbeat",value:(n=Object(o.a)(a.a.mark(function e(){var t,n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=me(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===r})){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getHeartbeatsHeader",value:(t=Object(o.a)(a.a.mark(function e(){var t,n,r,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=me(),n=ge(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=Object(d.j)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}();function me(){return(new Date).toISOString().substring(0,10)}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve,n=[],r=e.slice(),i=!0,a=!1,o=void 0;try{for(var s,u=function(){var e=s.value,i=n.find(function(t){return t.agent===e.agent});if(i){if(i.dates.push(e.date),ke(n)>t)return i.dates.pop(),"break"}else if(n.push({agent:e.agent,dates:[e.date]}),ke(n)>t)return n.pop(),"break";r=r.slice(1)},c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){if("break"===u())break}}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return{heartbeatsToSend:n,unsentEntries:r}}var be,_e=function(){function e(t){Object(c.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}var t,n,i,s;return Object(l.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:(s=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(d.A)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(d.Q)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"read",value:(i=Object(o.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,le(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"overwrite",value:(n=Object(o.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"add",value:(t=Object(o.a)(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",fe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:Object(r.a)(i.heartbeats).concat(Object(r.a)(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();function ke(e){return Object(d.j)(JSON.stringify({version:2,heartbeats:e})).length}be="",q(new h.a("platform-logger",function(e){return new R(e)},"PRIVATE")),q(new h.a("heartbeat",function(e){return new ye(e)},"PRIVATE")),ne(N,D,be),ne(N,D,"esm2017"),ne("fire-js","")},function(e,t,n){n(23);e.exports=n(73)()},function(e,t,n){"use strict";var r=n(38);var i=n(39);function a(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||Object(i.a)()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=n(40);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return v});var r,i,a=n(1),o=n(4),s=n(6),u=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var c={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},l=i.INFO,h=(r={},Object(s.a)(r,i.DEBUG,"log"),Object(s.a)(r,i.VERBOSE,"log"),Object(s.a)(r,i.INFO,"info"),Object(s.a)(r,i.WARN,"warn"),Object(s.a)(r,i.ERROR,"error"),r),f=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},d=function(){function e(t){Object(a.a)(this,e),this.name=t,this._logLevel=l,this._logHandler=f,this._userLogHandler=null,u.push(this)}return Object(o.a)(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?c[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}();function p(e){u.forEach(function(t){t.setLogLevel(e)})}function v(e,t){var n=!0,r=!1,a=void 0;try{for(var o,s=function(){var n=o.value,r=null;t&&t.level&&(r=c[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];var u=o.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:u,args:o,type:t.name})}},l=u[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)s()}catch(h){r=!0,a=h}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p});var r=n(0),i=n.n(r),a=n(16),o=n(5),s=n(15),u=n(1),c=n(4),l=n(3),h=function(){function e(t,n,r){Object(u.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(c.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),f="[DEFAULT]",d=function(){function e(t,n){Object(u.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var t;return Object(c.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:f})}catch(d){}var t=!0,n=!1,r=void 0;try{for(var i,a=this.instancesDeferred.entries()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=Object(s.a)(i.value,2),u=o[0],c=o[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(d){}}}catch(p){n=!0,r=p}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:(t=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all(Object(a.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})).concat(Object(a.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=!0,o=!1,u=void 0;try{for(var c,l=this.instancesDeferred.entries()[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var h=Object(s.a)(c.value,2),f=h[0],d=h[1];r===this.normalizeInstanceIdentifier(f)&&d.resolve(i)}}catch(p){o=!0,u=p}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;try{u(e,t)}catch(c){}}}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===f?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?e:f:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var p=function(){function e(t){Object(u.a)(this,e),this.name=t,this.providers=new Map}return Object(c.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";var r=n(7);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return pr}),n.d(t,"b",function(){return yr}),n.d(t,"c",function(){return vr}),n.d(t,"d",function(){return gr}),n.d(t,"e",function(){return mr}),n.d(t,"f",function(){return br}),n.d(t,"g",function(){return _r}),n.d(t,"h",function(){return fr}),n.d(t,"i",function(){return dr});var r,i=n(9),a=n(7),o=n(19),s=n(10),u=n(1),c=n(4),l=n(8),h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},f={},d=d||{},p=h||self;function v(){}function y(e){var t=Object(l.a)(e);return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=Object(l.a)(e);return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function k(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:k).apply(null,arguments)}function O(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function T(){this.s=this.s,this.o=this.o}var S={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++b)}(this);delete S[e]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function j(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var P,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var M=p.navigator;if(M){var L=M.userAgent;if(L){P=L;break e}}P=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function U(e){var t={};for(var n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<V.length;a++)n=V[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function z(e){return z[" "](e),e}z[" "]=v;var q,H,W=N(P,"Opera"),K=N(P,"Trident")||N(P,"MSIE"),G=N(P,"Edge"),Y=G||K,$=N(P,"Gecko")&&!(N(P.toLowerCase(),"webkit")&&!N(P,"Edge"))&&!(N(P,"Trident")||N(P,"MSIE"))&&!N(P,"Edge"),Z=N(P.toLowerCase(),"webkit")&&!N(P,"Edge");function Q(){var e=p.document;return e?e.documentMode:void 0}e:{var X="",J=(H=P,$?/rv:([^\);]+)(\)|;)/.exec(H):G?/Edge\/([\d\.]+)/.exec(H):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(H):Z?/WebKit\/(\S+)/.exec(H):W?/(?:Version)[ \/]?(\S+)/.exec(H):void 0);if(J&&(X=J?J[1]:""),K){var ee=Q();if(null!=ee&&ee>parseFloat(X)){q=String(ee);break e}}q=X}var te,ne={};function re(){return e=function(){for(var e=0,t=R(String(q)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e},t=ne,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9);var e,t}if(p.document&&K){var ie=Q();te=ie||(parseInt(q,10)||void 0)}else te=void 0;var ae=te,oe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",v,t),p.removeEventListener("test",v,t)}catch(n){}return e}();function se(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ue(e,t){if(se.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($){e:{try{z(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ce[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ue.Z.h.call(this)}}se.prototype.h=function(){this.defaultPrevented=!0},x(ue,se);var ce={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++he,this.ca=this.fa=!1}function de(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function ve(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=E(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(de(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ye(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ye(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fe(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function be(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=Se(r);return t&&t[le]?t.O(n,r,m(i)?!!i.capture:!!i,a):_e(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=Se(n),e&&e[le]?e.N(t,n,m(r)?!!r.capture:!!r,i):_e(e,t,n,!1,r,i)}function _e(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=m(i)?!!i.capture:!!i,s=xe(e);if(s||(e[me]=s=new pe(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=Oe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ke(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[le])ve(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(ve(n,e),0==n.h&&(n.src=null,t[me]=null)):de(e)}}}function we(e){return e in ge?ge[e]:ge[e]="on"+e}function Oe(e,t){if(e.ca)e=!0;else{t=new ue(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ke(e),e=n.call(r,t)}return e}function xe(e){return(e=e[me])instanceof pe?e:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"===typeof e?e:(e[Te]||(e[Te]=function(t){return e.handleEvent(t)}),e[Te])}function Ee(){T.call(this),this.i=new pe(this),this.P=this,this.I=null}function Ie(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new se(t,e);else if(t instanceof se)t.target=t.target||e;else{var i=t;B(t=new se(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=je(o,r,!0,t)&&i}if(i=je(o=t.g=e,r,!0,t)&&i,i=je(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=je(o=t.g=n[a],r,!1,t)&&i}function je(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ve(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}x(Ee,T),Ee.prototype[le]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=m(i)?!!i.capture:!!i,r=Se(r),t&&t[le]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ye(o=t.g[n],r,i,a))&&(de(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=xe(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ye(n,r,i,a)),(r=-1<t?n[t]:null)&&ke(r))}(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)de(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ce=p.JSON.stringify;function Ae(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pe,Re=function(){function e(){Object(u.a)(this,e),this.h=this.g=null}return Object(c.a)(e,[{key:"add",value:function(e,t){var n=Ne.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ne=new(function(){function e(t,n){Object(u.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(c.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new De},function(e){return e.reset()}),De=function(){function e(){Object(u.a)(this,e),this.next=this.g=this.h=null}return Object(c.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Me(e){p.setTimeout(function(){throw e},0)}function Le(e,t){Pe||function(){var e=p.Promise.resolve(void 0);Pe=function(){e.then(Ve)}}(),Fe||(Pe(),Fe=!0),Ue.add(e,t)}var Fe=!1,Ue=new Re;function Ve(){for(var e;e=Ae();){try{e.h.call(e.g)}catch(n){Me(n)}var t=Ne;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fe=!1}function Be(e,t){Ee.call(this),this.h=e||1,this.g=t||p,this.j=w(this.kb,this),this.l=Date.now()}function ze(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}x(Be,Ee),(r=Be.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ie(this,"tick"),this.da&&(ze(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Be.Z.M.call(this),ze(this),delete this.g};var He=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this))).m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return Object(s.a)(t,e),Object(c.a)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=qe(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(o.a)(Object(a.a)(t.prototype),"M",this).call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),t}(T);function We(e){T.call(this),this.h=e,this.g={}}x(We,T);var Ke=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var a=be(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ye(e){F(e.g,function(e,t){this.g.hasOwnProperty(t)&&ke(e)},e),e.g={}}function $e(){this.g=!0}function Ze(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ce(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}We.prototype.M=function(){We.Z.M.call(this),Ye(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Qe={},Xe=null;function Je(){return Xe=Xe||new Ee}function et(e){se.call(this,Qe.Ma,e)}function tt(e){var t=Je();Ie(t,new et(t,e))}function nt(e,t){se.call(this,Qe.STAT_EVENT,e),this.stat=t}function rt(e){var t=Je();Ie(t,new nt(t,e))}function it(e,t){se.call(this,Qe.Na,e),this.size=t}function at(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){e()},t)}Qe.Ma="serverreachability",x(et,se),Qe.STAT_EVENT="statevent",x(nt,se),Qe.Na="timingevent",x(it,se);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},st={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ut(){}function ct(e){return e.h||(e.h=e.i())}function lt(){}ut.prototype.h=null;var ht,ft={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){se.call(this,"d")}function pt(){se.call(this,"c")}function vt(){}function yt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new We(this),this.P=gt,e=Y?125:void 0,this.W=new Be(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}x(dt,se),x(pt,se),x(vt,ut),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ht=new vt;var gt=45e3,bt={},_t={};function kt(e,t,n){e.K=1,e.v=Ht(Ft(t)),e.s=n,e.U=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),St(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=ar(e.l,n?t:null,!e.s),0<e.O&&(e.L=new He(w(e.Ia,e,e.g),e.O)),Ge(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ot(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tt(e,n))==_t){4==t&&(e.o=4,rt(14),i=!1),Ze(e.j,e.m,null,"[Incomplete Response]");break}if(r==bt){e.o=4,rt(15),Ze(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ze(e.j,e.m,r,null),At(e,r)}Ot(e)&&r!=_t&&r!=bt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qn(t),t.L=!0,rt(11))):(Ze(e.j,e.m,n,"[Invalid Chunked Response]"),Ct(e),jt(e))}function Tt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_t:(n=Number(t.substring(n,r)),isNaN(n)?bt:(r+=1)+n>t.length?_t:(t=t.substr(r,n),e.C=r+n,t))}function St(e){e.Y=Date.now()+e.P,Et(e,e.P)}function Et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=at(w(e.eb,e),t)}function It(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function jt(e){0==e.l.G||e.I||er(e.l,e)}function Ct(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ze(e.W),Ye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function At(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hn(n.i,e)))if(n.I=e.N,!e.J&&hn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Jn(n),zn(n)}Zn(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=at(w(n.ab,n),6e3));if(1>=ln(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else nr(n,11)}else if((e.J||n.g==e)&&Jn(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(fn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,qt(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ir(r,r.H?r.la:null,r.W),d.J){dn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(It(p),St(p)),r.g=d}else $n(r);0<n.l.length&&Wn(n)}else"stop"!=a[0]&&"close"!=a[0]||nr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nr(n,7):Bn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}tt(4)}catch(a){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||"string"===typeof e)I(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(y(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Rt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=yt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==Mn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Y||this.g&&(this.h.h||this.g.ga()||Ln(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),It(this);var i=this.g.ba();this.N=i;t:if(Ot(this)){var a=Ln(this.g);e="";var o=a.length,s=4==Mn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ct(this),jt(this);var u="";break t}this.h.i=new p.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,rt(12),Ct(this),jt(this);break e}Ze(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,At(this,i)}this.U?(xt(this,t,u),Y&&this.i&&3==t&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):(Ze(this.j,this.m,u,null),At(this,u)),4==t&&Ct(this),this.i&&!this.I&&(4==t?er(this.l,this):(this.i=!1,St(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Ct(this),jt(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=Mn(this.g),t=this.g.ga();this.C<t.length&&(It(this),xt(this,e,t),this.i&&4!=e&&St(this))}},r.cancel=function(){this.I=!0,Ct(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),Ct(this),this.o=2,jt(this)):Et(this,this.Y-e)},(r=Rt.prototype).R=function(){Nt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Nt(this),this.g.concat()},r.get=function(e,t){return Dt(this.h,e)?this.h[e]:t},r.set=function(e,t){Dt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Vt(this,e.i),Bt(this,e.m),this.l=e.l,t=e.h;var n=new Jt;n.i=t.i,t.g&&(n.g=new Rt(t.g),n.h=t.h),zt(this,n),this.o=e.o}else e&&(n=String(e).match(Mt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Wt(n[2]||""),Vt(this,n[3]||"",!0),Bt(this,n[4]),this.l=Wt(n[5]||"",!0),zt(this,n[6]||"",!0),this.o=Wt(n[7]||"")):(this.g=!!t,this.h=new Jt(null,this.g))}function Ft(e){return new Lt(e)}function Ut(e,t,n){e.j=n?Wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vt(e,t,n){e.i=n?Wt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zt(e,t,n){t instanceof Jt?(e.h=t,function(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Kt(t,Qt)),e.h=new Jt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Ht(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kt(t,Yt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kt(t,Yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kt(n,"/"==n.charAt(0)?Zt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kt(n,Xt)),e.join("")};var Yt=/[#\/\?@]/g,$t=/[#\?:]/g,Zt=/[#\?]/g,Qt=/[#\?@]/g,Xt=/#/g;function Jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Rt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tn(e,t){en(e),t=an(e,t),Dt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Nt(e)))}function nn(e,t){return en(e),t=an(e,t),Dt(e.g.h,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(an(e,t),C(n)),e.h+=n.length)}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Jt.prototype).add=function(e,t){en(this),this.i=null,e=an(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){en(this),this.g.forEach(function(n,r){I(n,function(n){e.call(t,n,r,this)},this)},this)},r.T=function(){en(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.R=function(e){en(this);var t=[];if("string"===typeof e)nn(this,e)&&(t=j(t,this.g.get(an(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=j(t,e[n])}return t},r.set=function(e,t){return en(this),this.i=null,nn(this,e=an(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var on=function e(t,n){Object(u.a)(this,e),this.h=t,this.g=n};function sn(e){this.l=e||un,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ln(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fn(e,t){e.g?e.g.add(t):e.h=t}function dn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t=e.i,n=!0,r=!1,i=void 0;try{for(var a,o=e.g.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t=t.concat(s.D)}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}return C(e.i)}function vn(){}function yn(){this.g=new vn}function mn(e,t,n){var r=n||"";try{Pt(e,function(e,n){var i=e;m(e)&&(i=Ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bn(e){this.l=e.$b||null,this.j=e.ib||!1}function _n(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=kn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e=!0,t=!1,n=void 0;try{for(var r,i=this.g.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.cancel()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.g.clear()}},vn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},vn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},x(bn,ut),bn.prototype.g=function(){return new _n(this.l,this.j)},bn.prototype.i=function(e){return function(){return e}}({}),x(_n,Ee);var kn=0;function wn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function On(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xn(e)}function xn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=_n.prototype).open=function(e,t){if(this.readyState!=kn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,On(this)),this.readyState=kn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?On(this):xn(this),3==this.readyState&&wn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,On(this))},r.Ta=function(e){this.g&&(this.response=e,On(this))},r.ha=function(){this.g&&On(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tn=p.JSON.parse;function Sn(e){Ee.call(this),this.headers=new Rt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=En,this.K=this.L=!1}x(Sn,Ee);var En="",In=/^https?$/i,jn=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),Nn(e)}function Pn(e){e.D||(e.D=!0,Ie(e,"complete"),Ie(e,"error"))}function Rn(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=Mn(e)||2!=e.ba()))if(e.v&&4==Mn(e))qe(e.Fa,0,e);else if(Ie(e,"readystatechange"),4==Mn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Mt)[1]||null;if(!a&&p.self&&p.self.location){var o=p.self.location.protocol;a=o.substr(0,o.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}if(t)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var s=2<Mn(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Pn(e)}}finally{Nn(e)}}}function Nn(e,t){if(e.g){Dn(e);var n=e.g,r=e.C[0]?v:null;e.g=null,e.C=null,t||Ie(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}function Ln(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case En:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return F(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Un(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vn(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,e),this.$a=Un("retryDelaySeedMs",1e4,e),this.Ya=Un("forwardChannelMaxRetries",2,e),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sn(e&&e.concurrentRequestLimit),this.Ca=new yn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bn(e){if(qn(e),3==e.G){var t=e.V++,n=Ft(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Gn(e,n),(t=new yt(e,e.h,t,void 0)).K=2,t.v=Ht(Ft(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=ar(t.l,null),t.g.ea(t.v)),t.F=Date.now(),St(t)}rr(e)}function zn(e){e.g&&(Qn(e),e.g.cancel(),e.g=null)}function qn(e){zn(e),e.u&&(p.clearTimeout(e.u),e.u=null),Jn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function Hn(e,t){e.l.push(new on(e.Za++,t)),3==e.G&&Wn(e)}function Wn(e){cn(e.i)||e.m||(e.m=!0,Le(e.Ha,e),e.C=0)}function Kn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Gn(e,r),e.o&&e.s&&Fn(r,e.o,e.s),n=new yt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Yn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fn(e.i,n),kt(n,r,t)}function Gn(e,t){e.j&&Pt({},function(e,n){qt(t,n,e)})}function Yn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?w(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{mn(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $n(e){e.g||e.u||(e.Y=1,Le(e.Ga,e),e.A=0)}function Zn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=at(w(e.Ga,e),tr(e,e.A)),e.A++,!0)}function Qn(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function Xn(e){e.g=new yt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Gn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Fn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(Ft(t)),n.s=null,n.U=!0,wt(n,e)}function Jn(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function er(e,t){var n=null;if(e.g==t){Jn(e),Qn(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.D,dn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ie(r=Je(),new it(r,n,t,i)),Wn(e)}else $n(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ln(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=at(w(e.Ha,e,t),tr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nr(e,5);break;case 4:nr(e,10);break;case 3:nr(e,6);break;default:nr(e,2)}}function tr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=w(e.jb,e);n||(n=new Lt("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||Ut(n,"https"),Ht(n)),function(e,t){var n=new $e;if(p.Image){var r=new Image;r.onload=O(gn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=O(gn,n,r,"TestLoadImage: error",!1,t),r.onabort=O(gn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=O(gn,n,r,"TestLoadImage: timeout",!1,t),p.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),rr(e),qn(e)}function rr(e){e.G=0,e.I=-1,e.j&&(0==pn(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function ir(e,t,n){var r=function(e){return e instanceof Lt?Ft(e):new Lt(e,void 0)}(n);if(""!=r.i)t&&Vt(r,t+"."+r.i),Bt(r,r.m);else{var i=p.location;r=function(e,t,n,r){var i=new Lt(null,void 0);return e&&Ut(i,e),t&&Vt(i,t),n&&Bt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&F(e.aa,function(e,t){qt(r,t,e)}),t=e.D,n=e.sa,t&&n&&qt(r,t,n),qt(r,"VER",e.ma),Gn(e,r),r}function ar(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new bn({ib:!0})):new Sn(e.qa)).L=e.H,t}function or(){}function sr(){if(K&&!(10<=Number(ae)))throw Error("Environmental error: no available transport.")}function ur(e,t){Ee.call(this),this.g=new Vn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function cr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lr(){pt.call(this),this.status=1}function hr(e){this.g=e}(r=Sn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=this.u?ct(this.u):ct(ht),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void An(this,a)}e=n||"";var i=new Rt(this.headers);r&&Pt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Cn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=p.FormData&&e instanceof p.FormData,!(0<=E(jn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dn(this),0<this.B&&((this.K=function(e){return K&&re()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){An(this,a)}},r.pa=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),Nn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),Sn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},r.cb=function(){Rn(this)},r.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(H){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(H){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Vn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?B(n=U(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Yn(this,t,r),qt(i=Ft(this.F),"RID",e),qt(i,"CVER",22),this.D&&qt(i,"X-HTTP-Session-Id",this.D),Gn(this,i),this.o&&n&&Fn(i,this.o,n),fn(this.i,t),this.Ra&&qt(i,"TYPE","init"),this.ja?(qt(i,"$req",r),qt(i,"SID","null"),t.$=!0,kt(t,i,null)):kt(t,i,r),this.G=2}}else 3==this.G&&(e?Kn(this,e):0==this.l.length||cn(this.i)||Kn(this))},r.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=at(w(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),zn(this),Xn(this))},r.ab=function(){null!=this.v&&(this.v=null,zn(this),Zn(this),rt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(r=or.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},sr.prototype.g=function(e,t){return new ur(e,t)},x(ur,Ee),ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Le(w(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ir(e,null,e.W),Wn(e)},ur.prototype.close=function(){Bn(this.g)},ur.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hn(this.g,t)}else this.v?((t={}).__data__=Ce(e),Hn(this.g,t)):Hn(this.g,e)},ur.prototype.M=function(){this.g.j=null,delete this.j,Bn(this.g),delete this.g,ur.Z.M.call(this)},x(cr,dt),x(lr,pt),x(hr,or),hr.prototype.xa=function(){Ie(this.g,"a")},hr.prototype.wa=function(e){Ie(this.g,new cr(e))},hr.prototype.va=function(e){Ie(this.g,new lr(e))},hr.prototype.ua=function(){Ie(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,st.COMPLETE="complete",lt.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var fr=f.createWebChannelTransport=function(){return new sr},dr=f.getStatEventTarget=function(){return Je()},pr=f.ErrorCode=ot,vr=f.EventType=st,yr=f.Event=Qe,mr=f.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=f.FetchXmlHttpFactory=bn,br=f.WebChannel=lt,_r=f.XhrIo=Sn}).call(this,n(31))},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";var r=n(23),i=n(52),a=n(84),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function u(e){return null!==e&&"object"===r(e)}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==r(e)&&(e=[e]),s(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:l,merge:function e(){var t={};function n(n,i){"object"===r(t[i])&&"object"===r(n)?t[i]=e(t[i],n):t[i]=n}for(var i=0,a=arguments.length;i<a;i++)l(arguments[i],n);return t},extend:function(e,t,n){return l(t,function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r,i=n(6),a=n(1),o=n(4),s=n(3),u=n(18),c=n(13),l=n(17),h=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new u.a("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}},{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}}]),e}(),f=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new s.b("app-compat","Firebase",f);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(s.k)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(s.p)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(s.k)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),r.App=e,n}(h);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.p)(t,e)},createSubscribe:s.m,ErrorFactory:s.b,deepExtend:s.p}),t}(),v=new l.b("@firebase/app-compat"),y="@firebase/app-compat",m="0.1.27";if(Object(s.v)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b,_=p;Object(c.registerVersion)(y,m,b)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(26);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","9.8.3","app-compat")},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(29);function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){var r,i=n(23);r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(a){"object"===("undefined"===typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";e.exports=n(75)},function(e,t,n){"use strict";t.a=window.env},function(e,t,n){"use strict";var r=n(12);n.d(t,"a",function(){return r.k}),n.d(t,"b",function(){return r.E}),n.d(t,"c",function(){return r.S}),n.d(t,"d",function(){return r.gb})},,function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(70)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(8),i=n(20),a=n.n(i),o=n(25),s=n.n(o);function u(e){return"/"===e.charAt(0)}function c(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&u(e),a=t&&u(t),o=i||a;if(e&&u(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var l=r[r.length-1];s="."===l||".."===l||""===l}else s=!1;for(var h=0,f=r.length;f>=0;f--){var d=r[f];"."===d?c(r,f):".."===d?(c(r,f),h++):h&&(c(r,f),h--)}if(!o)for(;h--;h)r.unshift("..");!o||""===r[0]||r[0]&&u(r[0])||r.unshift("");var p=r.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p};"function"===typeof Symbol&&Object(r.a)(Symbol.iterator);var h=function(e){return"/"===e.charAt(0)?e:"/"+e},f=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},d=function(e,t){return f(e,t)?e.substr(t.length):e},p=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},v=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e,t,n,r){var i=void 0;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=y({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=l(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},g=function(){var e=null,t=[];return{setPrompt:function(t){return a()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):(a()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}},b=!("undefined"===typeof window||!window.document||!window.document.createElement),_=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},k=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},w=function(e,t){return t(window.confirm(e))},O="function"===typeof Symbol&&"symbol"===Object(r.a)(Symbol.iterator)?function(e){return Object(r.a)(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Object(r.a)(e)},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){try{return window.history.state||{}}catch(e){return{}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(b,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e.forceRefresh,u=void 0!==o&&o,c=e.getUserConfirmation,l=void 0===c?w:c,y=e.keyLength,S=void 0===y?6:y,E=e.basename?p(h(e.basename)):"",I=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return a()(!E||f(o,E),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+o+'" to begin with "'+E+'".'),E&&(o=d(o,E)),m(o,r,n)},j=function(){return Math.random().toString(36).substr(2,S)},C=g(),A=function(e){x(H,e),H.length=n.length,C.notifyListeners(H.location,H.action)},P=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(I(e.state))},R=function(){D(I(T()))},N=!1,D=function(e){N?(N=!1,A()):C.confirmTransitionTo(e,"POP",l,function(t){t?A({action:"POP",location:e}):M(e)})},M=function(e){var t=H.location,n=F.indexOf(t.key);-1===n&&(n=0);var r=F.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,V(i))},L=I(T()),F=[L.key],U=function(e){return E+v(e)},V=function(e){n.go(e)},B=0,z=function(e){1===(B+=e)?(_(window,"popstate",P),i&&_(window,"hashchange",R)):0===B&&(k(window,"popstate",P),i&&k(window,"hashchange",R))},q=!1,H={length:n.length,action:"POP",location:L,createHref:U,push:function(e,t){a()(!("object"===("undefined"===typeof e?"undefined":O(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=m(e,t,j(),H.location);C.confirmTransitionTo(i,"PUSH",l,function(e){if(e){var t=U(i),o=i.key,s=i.state;if(r)if(n.pushState({key:o,state:s},null,t),u)window.location.href=t;else{var c=F.indexOf(H.location.key),l=F.slice(0,-1===c?0:c+1);l.push(i.key),F=l,A({action:"PUSH",location:i})}else a()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){a()(!("object"===("undefined"===typeof e?"undefined":O(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=m(e,t,j(),H.location);C.confirmTransitionTo(i,"REPLACE",l,function(e){if(e){var t=U(i),o=i.key,s=i.state;if(r)if(n.replaceState({key:o,state:s},null,t),u)window.location.replace(t);else{var c=F.indexOf(H.location.key);-1!==c&&(F[c]=i.key),A({action:"REPLACE",location:i})}else a()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:V,goBack:function(){return V(-1)},goForward:function(){return V(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=C.setPrompt(e);return q||(z(1),q=!0),function(){return q&&(q=!1,z(-1)),t()}},listen:function(e){var t=C.appendListener(e);return z(1),function(){z(-1),t()}}};return H};Object.assign,"function"===typeof Symbol&&Object(r.a)(Symbol.iterator),Object.assign;n.d(t,"a",function(){return S}),n.d(t,"b",function(){return m})},function(e,t,n){"use strict";var r=n(8),i=n(27),a=n.n(i),o=n(25),s=n.n(o),u=n(2),c=n.n(u),l=n(14),h=n.n(l),f=n(65),d=n.n(f),p={},v=0,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,i=r.path,a=r.exact,o=void 0!==a&&a,s=r.strict,u=void 0!==s&&s,c=r.sensitive;if(null==i)return n;var l=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=p[n]||(p[n]={});if(r[e])return r[e];var i=[],a={re:d()(e,i,t),keys:i};return v<1e4&&(r[e]=a,v++),a}(i,{end:o,strict:u,sensitive:void 0!==c&&c}),h=l.re,f=l.keys,y=h.exec(e);if(!y)return null;var m=y[0],g=y.slice(1),b=e===m;return o&&!b?null:{path:i,url:"/"===i&&""===m?"/":m,isExact:b,params:f.reduce(function(e,t,n){return e[t.name]=g[n],e},{})}},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?e:t}var b=function(e){return 0===c.a.Children.count(e)},_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=g(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props,r.context.router)},g(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Object(r.a)(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,a=e.strict,o=e.exact,u=e.sensitive;if(n)return n;s()(t,"You should not use <Route> or withRouter() outside a <Router>");var c=t.route,l=(r||c.location).pathname;return y(l,{path:i,strict:a,exact:o,sensitive:u},c.match)},t.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),a()(!(this.props.component&&this.props.children&&!b(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),a()(!(this.props.render&&this.props.children&&!b(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){a()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,a=this.context.router,o=a.history,s=a.route,u=a.staticContext,l={match:e,location:this.props.location||s.location,history:o,staticContext:u};return r?e?c.a.createElement(r,l):null:i?e?i(l):null:"function"===typeof n?n(l):n&&!b(n)?c.a.Children.only(n):null},t}(c.a.Component);_.propTypes={computedMatch:h.a.object,path:h.a.string,exact:h.a.bool,strict:h.a.bool,sensitive:h.a.bool,component:h.a.func,render:h.a.func,children:h.a.oneOfType([h.a.func,h.a.node]),location:h.a.object},_.contextTypes={router:h.a.shape({history:h.a.object.isRequired,route:h.a.object.isRequired,staticContext:h.a.object})},_.childContextTypes={router:h.a.object.isRequired};t.a=_},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return Re});var r=n(8),i=n(32),a=n(2),o=n.n(a),s=n(59),u=n.n(s),c=n(60),l=n(61),h=n(49),f=n(48),d=n.n(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},y=function(e){return null!==e&&"object"==Object(r.a)(e)&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(i.typeOf)(e)},m=Object.freeze([]),g=Object.freeze({});function b(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function k(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_ATTR)||"data-styled",O="undefined"!=typeof window&&"HTMLElement"in window,x=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY));function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),E=new Map,I=new Map,j=1,C=function(e){if(E.has(e))return E.get(e);for(;I.has(j);)j++;var t=j++;return E.set(e,t),I.set(t,e),t},A=function(e){return I.get(e)},P=function(e,t){t>=j&&(j=t+1),E.set(e,t),I.set(t,e)},R="style["+w+'][data-styled-version="5.3.5"]',N=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},M=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(N);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(P(c,u),D(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.5");var o=L();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),V=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),z=O,q={isServer:!O,useCSSOMInjection:!x},H=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=p({},q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&O&&z&&(z=!1,function(e){for(var t=document.querySelectorAll(R),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(M(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return C(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new B(i):r?new U(i):new V(i),new S(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(C(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(C(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(C(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=A(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=w+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach(function(e){e.length>0&&(c+=e+",")}),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),W=/(a)(d)/gi,K=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=K(t%52)+n;return(K(t%52)+n).replace(W,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return Y(5381,e)};function Z(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!k(n))return!1}return!0}var Q=$("5.3.5"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Z(e),this.componentId=t,this.baseHash=Y(Q,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ye(this.rules,e,t,n).join(""),o=G(Y(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=ye(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Y(c,p+h),l+=p}}if(l){var v=G(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,a=void 0===e?g:e,o=a.options,s=void 0===o?g:o,u=a.plugins,l=void 0===u?m:u,h=new c.a(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}(function(e){f.push(e)}),p=function(e,r,a){return 0===r&&-1!==ee.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,s){void 0===s&&(s="&");var u=e.replace(J,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(o||!a?"":a,c)}return h.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=l.length?l.reduce(function(e,t){return t.name||T(15),Y(e,t.name)},5381).toString():"",v}var ne=o.a.createContext(),re=(ne.Consumer,o.a.createContext()),ie=(re.Consumer,new H),ae=te();function oe(){return Object(a.useContext)(ne)||ie}function se(){return Object(a.useContext)(re)||ae}function ue(e){var t=Object(a.useState)(e.stylisPlugins),n=t[0],r=t[1],i=oe(),s=Object(a.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(a.useMemo)(function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return Object(a.useEffect)(function(){u()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),o.a.createElement(ne.Provider,{value:s},o.a.createElement(re.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),le=/([A-Z])/,he=/([A-Z])/g,fe=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return le.test(e)?e.replace(he,de).replace(fe,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function ye(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ye(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}if(ve(e))return"";if(k(e))return"."+e.styledComponentId;if(b(e)){if("function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t)return e;var u=e(t);return ye(u,t,n,r)}var c;return e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:y(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ve(t[o])&&(Array.isArray(t[o])&&t[o].isCss||b(t[o])?a.push(pe(o)+":",t[o],";"):y(t[o])?a.push.apply(a,e(t[o],o)):a.push(pe(o)+": "+(r=o,null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l.a?String(i).trim():i+"px")+";"));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString()}var me=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b(e)||y(e)?me(ye(v(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(ye(v(e,n)))}new Set;var be=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},_e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ke=/(^-|-$)/g;function we(e){return e.replace(_e,"-").replace(ke,"")}var Oe=function(e){return G($(e)>>>0)};function xe(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==Object(r.a)(e)&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ee(e,t,n){var r=e[n];Te(t)&&Te(r)?Ie(r,t):e[n]=t}function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Te(o))for(var s in o)Se(s)&&Ee(e,o[s],s)}return e}var je=o.a.createContext();je.Consumer;var Ce={};function Ae(e,t,n){var r=k(e),i=!xe(e),s=t.attrs,u=void 0===s?m:s,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":we(e);Ce[n]=(Ce[n]||0)+1;var r=n+"-"+Oe("5.3.5"+n+Ce[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,f=t.displayName,v=void 0===f?function(e){return xe(e)?"styled."+e:"Styled("+_(e)+")"}(e):f,y=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||l,w=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,O=t.shouldForwardProp;r&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var x,T=new X(n,y,r?e.componentStyle:void 0),S=T.isStatic&&0===u.length,E=function(e,t){return function(e,t,n,r){var i=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,d=function(e,t,n){void 0===e&&(e=g);var r=p({},t,{theme:e}),i={};return n.forEach(function(e){var t,n,a,o=e;for(t in b(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]}),[r,i]}(be(t,Object(a.useContext)(je),s)||g,t,i),v=d[0],y=d[1],m=function(e,t,n,r){var i=oe(),a=se(),o=t?e.generateAndInjectStyles(g,i,a):e.generateAndInjectStyles(n,i,a);return o}(o,r,v),_=n,k=y.$as||t.$as||y.as||t.as||f,w=xe(k),O=y!==t?p({},t,{},y):t,x={};for(var T in O)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?x.as=O[T]:(c?c(T,h.a,k):!w||Object(h.a)(T))&&(x[T]=O[T]));return t.style&&y.style!==t.style&&(x.style=p({},t.style,{},y.style)),x.className=Array.prototype.concat(u,l,m!==l?m:null,t.className,y.className).filter(Boolean).join(" "),x.ref=_,Object(a.createElement)(k,x)}(x,e,t,S)};return E.displayName=v,(x=o.a.forwardRef(E)).attrs=w,x.componentStyle=T,x.displayName=v,x.shouldForwardProp=O,x.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,x.styledComponentId=y,x.target=r?e.target:e,x.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(xe(e)?e:we(_(e)));return Ae(e,p({},i,{attrs:w,componentId:a}),n)},Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ie({},e.defaultProps,t):t}}),x.toString=function(){return"."+x.styledComponentId},i&&d()(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),x}var Pe=function(e){return function e(t,n,r){if(void 0===r&&(r=g),!Object(i.isValidElementType)(n))return T(1,String(n));var a=function(){return t(n,r,ge.apply(void 0,arguments))};return a.withConfig=function(i){return e(t,n,p({},r,{},i))},a.attrs=function(i){return e(t,n,p({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},a}(Ae,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Pe[e]=Pe(e)});!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Z(e),H.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ye(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ge.apply(void 0,[e].concat(n)).join(""),a=Oe(i);return new ce(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[o.a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):o.a.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();t.a=Pe}).call(this,n(36))},function(e,t,n){"use strict";n(78)},function(e,t,n){"use strict";(function(t){var r=n(24),i=n(86),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!==typeof XMLHttpRequest?s=n(53):"undefined"!==typeof t&&(s=n(53)),s),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(a)}),e.exports=u}).call(this,n(36))},function(e,t,n){"use strict";var r=n(30),i=n(9),a=n(7),o=n(10),s=n(8),u=n(1),c=n(4),l=n(26),h=n(12),f=n(3),d=n(18),p="@firebase/firestore-compat",v="0.1.19";function y(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new h.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function m(){if("undefined"===typeof Uint8Array)throw new h.g("unimplemented","Uint8Arrays are not available in this environment.")}function g(){if(!Object(h.r)())throw new h.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var b=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(c.a)(e,[{key:"toBase64",value:function(){return g(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return m(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return g(),new e(h.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return m(),new e(h.b.fromUint8Array(t))}}]),e}();function _(e){return function(e,t){if("object"!==Object(s.a)(e)||null===e)return!1;var n=e,r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(c in n&&"function"===typeof n[c])return!0}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return!1}(e,["next","error","complete"])}var k=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(h.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(h.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(h.x)(e._delegate)}}]),e}(),w=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof h.m||(this._appCompat=t)}return Object(c.a)(e,[{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(h.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(h.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(h.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(h.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(h.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(h.mb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(h.Z)(this._delegate,e)}},{key:"collection",value:function(e){try{return new M(this,Object(h.y)(this._delegate,e))}catch(t){throw I(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new E(this,Object(h.E)(this._delegate,e))}catch(t){throw I(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new R(this,Object(h.z)(this._delegate,e))}catch(t){throw I(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(h.eb)(this._delegate,function(n){return e(new x(t,n))})}},{key:"batch",value:function(){var e=this;return Object(h.K)(this._delegate),new T(new h.l(this._delegate,function(t){return Object(h.L)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return Object(h.W)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(h.X)(this._delegate,e).then(function(e){return e?new R(t,e):null})}},{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"app",get:function(){if(!this._appCompat)throw new h.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}}]),e}(),O=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(a.a)(t).call(this))).firestore=e,n}return Object(o.a)(t,e),Object(c.a)(t,[{key:"convertBytes",value:function(e){return new b(new h.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return E.forKey(t,this.firestore,null)}}]),t}(h.a);var x=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new O(t)}return Object(c.a)(e,[{key:"get",value:function(e){var t=this,n=L(e);return this._delegate.get(n).then(function(e){return new A(t._firestore,new h.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=L(e);return n?(y("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=L(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=L(e);return this._delegate.delete(t),this}}]),e}(),T=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(c.a)(e,[{key:"set",value:function(e,t,n){var r=L(e);return n?(y("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=L(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=L(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),S=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(c.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new h.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new P(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new O(t),n),i.set(n,a)),a}}]),e}();S.INSTANCES=new WeakMap;var E=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new O(t)}return Object(c.a)(e,[{key:"collection",value:function(e){try{return new M(this.firestore,Object(h.y)(this._delegate,e))}catch(t){throw I(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.s)(e))instanceof h.d&&Object(h.db)(this._delegate,e)}},{key:"set",value:function(e,t){t=y("DocumentReference.set",t);try{return t?Object(h.gb)(this._delegate,e,t):Object(h.gb)(this._delegate,e)}catch(n){throw I(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(h.lb)(this._delegate,e):h.lb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw I(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(h.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=j(n),a=C(n,function(t){return new A(e.firestore,new h.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Object(h.Y)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(h.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(h.O)(this._delegate):Object(h.M)(this._delegate)).then(function(e){return new A(t.firestore,new h.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new M(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new h.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new h.d(n._delegate,r,new h.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new h.d(n._delegate,r,t))}}]),e}();function I(e,t,n){return e.message=e.message.replace(t,n),e}function j(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if("object"===Object(s.a)(o)&&!_(o))return o}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return{}}function C(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_(e[0])?e[0]:_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var A=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(c.a)(e,[{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(h.ib)(this._delegate,e._delegate)}},{key:"ref",get:function(){return new E(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}}]),e}(),P=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(h.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),t}(A),R=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new O(t)}return Object(c.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(h.bb)(this._delegate,Object(h.nb)(t,n,r)))}catch(i){throw I(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(h.bb)(this._delegate,Object(h.ab)(t,n)))}catch(r){throw I(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(h.bb)(this._delegate,Object(h.U)(t)))}catch(n){throw I(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(h.bb)(this._delegate,Object(h.V)(t)))}catch(n){throw I(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(h.bb)(this._delegate,h.kb.apply(void 0,arguments)))}catch(t){throw I(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(h.bb)(this._delegate,h.jb.apply(void 0,arguments)))}catch(t){throw I(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(h.bb)(this._delegate,h.J.apply(void 0,arguments)))}catch(t){throw I(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(h.bb)(this._delegate,h.I.apply(void 0,arguments)))}catch(t){throw I(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(h.cb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(h.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(h.R)(this._delegate):Object(h.P)(this._delegate)).then(function(e){return new D(t.firestore,new h.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=j(n),a=C(n,function(t){return new D(e.firestore,new h.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Object(h.Y)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),N=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(c.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new P(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),D=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(c.a)(e,[{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new N(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new P(n._firestore,r))})}},{key:"isEqual",value:function(e){return Object(h.ib)(this._delegate,e._delegate)}},{key:"query",get:function(){return new R(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new P(e._firestore,t)})}}]),e}(),M=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,n))).firestore=e,r._delegate=n,r}return Object(o.a)(t,e),Object(c.a)(t,[{key:"doc",value:function(e){try{return new E(this.firestore,void 0===e?Object(h.E)(this._delegate):Object(h.E)(this._delegate,e))}catch(t){throw I(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(h.u)(this._delegate,e).then(function(e){return new E(t.firestore,e)})}},{key:"isEqual",value:function(e){return Object(h.db)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(S.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new E(this.firestore,e):null}}]),t}(R);function L(e){return Object(h.p)(e,h.d)}var F,U,V=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(h.f,n)}return Object(c.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.s)(e))instanceof h.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(h.o.keyField().canonicalString())}}]),e}(),B=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(c.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(h.fb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(h.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=h.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=h.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(h.T)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),z={Firestore:w,GeoPoint:h.h,Timestamp:h.k,Blob:b,Transaction:x,WriteBatch:T,DocumentReference:E,DocumentSnapshot:A,Query:R,QueryDocumentSnapshot:P,QuerySnapshot:D,CollectionReference:M,FieldPath:V,FieldValue:B,setLogLevel:function(e){Object(h.hb)(e)},CACHE_SIZE_UNLIMITED:h.c};F=l.a,U=function(e,t){return new w(e,t,new k)},F.INTERNAL.registerComponent(new d.a("firestore-compat",function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return U(t,n)},"PUBLIC").setServiceProps(Object.assign({},z))),F.registerVersion(p,v)},function(e,t,n){"use strict";var r=n(32),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=f(n,m);try{c(t,m,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=i},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){o=r(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(s[o[l]]=n[o[l]])}}return s}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(24),i=n(87),a=n(89),o=n(90),s=n(91),u=n(54),c="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n(92);e.exports=function(e){return new Promise(function(t,l){var h=e.data,f=e.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var y=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+c(y+":"+m)}if(d.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};i(t,l,r),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=n(93),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(f,function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(_){if("json"!==e.responseType)throw _}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===h&&(h=null),d.send(h)})}},function(e,t,n){"use strict";var r=n(88);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(15),a=n(5),o=n(21),s=n(9),u=n(7),c=n(10),l=n(16),h=n(8),f=n(1),d=n(4),p=n(13),v=n(18),y=n(3),m=n(17),g="@firebase/database",b="0.13.1",_="";var k,w=function(){function e(t){Object(f.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(y.P)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(y.I)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),O=function(){function e(){Object(f.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(y.k)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),x=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new w(t)}}catch(n){}return new O},T=x("localStorage"),S=x("sessionStorage"),E=new m.b("@firebase/database"),I=(k=1,function(){return k++}),j=function(e){var t=Object(y.O)(e),n=new y.d;n.update(t);var r=n.digest();return y.g.encodeByteArray(r)},C=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===Object(h.a)(r)&&"number"===typeof r.length?t+=e.apply(null,r):"object"===Object(h.a)(r)?t+=Object(y.P)(r):t+=r,t+=" "}return t},A=null,P=!0,R=function(e,t){Object(y.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(E.logLevel=m.a.VERBOSE,A=E.log.bind(E),t&&S.set("logging_enabled",!0)):"function"===typeof e?A=e:(A=null,S.remove("logging_enabled"))},N=function(){if(!0===P&&(P=!1,null===A&&!0===S.get("logging_enabled")&&R(!0)),A){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C.apply(null,t);A(r)}},D=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];N.apply(void 0,[e].concat(n))}},M=function(){var e="FIREBASE INTERNAL ERROR: "+C.apply(void 0,arguments);E.error(e)},L=function(){var e="FIREBASE FATAL ERROR: ".concat(C.apply(void 0,arguments));throw E.error(e),new Error(e)},F=function(){var e="FIREBASE WARNING: "+C.apply(void 0,arguments);E.warn(e)},U=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},V="[MIN_NAME]",B="[MAX_NAME]",z=function(e,t){if(e===t)return 0;if(e===V||t===B)return-1;if(t===V||e===B)return 1;var n=Z(e),r=Z(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},q=function(e,t){return e===t?0:e<t?-1:1},H=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(y.P)(t))},W=function e(t){if("object"!==Object(h.a)(t)||null===t)return Object(y.P)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(y.P)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},K=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function G(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Y=function(e){Object(y.e)(!U(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()};var $=new RegExp("^-?(0*)\\d{1,10}$"),Z=function(e){if($.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Q=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw F("Exception was thrown by user callback.",e),t},Math.floor(0))}},X=function(){return("object"===("undefined"===typeof window?"undefined":Object(h.a)(window))&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},J=function(e,t){var n=setTimeout(e,t);return"object"===Object(h.a)(n)&&n.unref&&n.unref(),n},ee=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then(function(e){return r.appCheck=e})}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){F('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),te=function(){function e(t,n,r){var i=this;Object(f.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(e){return i.auth_=e})}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',F(e)}}]),e}(),ne=function(){function e(t){Object(f.a)(this,e),this.accessToken=t}return Object(d.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ne.OWNER="owner";var re=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ie="ac",ae="websocket",oe="long_polling",se=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(f.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=T.get("host:"+t)||this._host}return Object(d.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&T.set("host:"+this._host,this.internalHost))}}]),e}();function ue(e,t,n){var r;if(Object(y.e)("string"===typeof t,"typeof type must == string"),Object(y.e)("object"===Object(h.a)(n),"typeof params must == object"),t===ae)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==oe)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return G(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}var ce=function(){function e(){Object(f.a)(this,e),this.counters_={}}return Object(d.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(y.k)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(y.n)(this.counters_)}}]),e}(),le={},he={};function fe(e){var t=e.toString();return le[t]||(le[t]=new ce),le[t]}var de=function(){function e(t){Object(f.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(d.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Q(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),pe="pLPCommand",ve="pRTLPCB",ye=function(){function e(t,n,r,i,a,o,s){var u=this;Object(f.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D(t),this.stats_=fe(n),this.urlFn=function(e){return u.appCheckToken&&(e[ie]=u.appCheckToken),ue(n,oe,e)}}return Object(d.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new de(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(y.D)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new me(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[ie]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(y.P)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(y.i)(t),r=K(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(y.D)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(y.P)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(y.D)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===("undefined"===typeof window?"undefined":Object(h.a)(window))&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===("undefined"===typeof Windows?"undefined":Object(h.a)(Windows))&&"object"===Object(h.a)(Windows.UI)))}}]),e}(),me=function(){function e(t,n,r,i){if(Object(f.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(y.D)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=I(),window[pe+this.uniqueCallbackIdentifier]=t,window[ve+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){N("frame writing exception"),s.stack&&N(s.stack),N(s)}}}return Object(d.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})}},{key:"addTag",value:function(e,t){var n=this;Object(y.D)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){N("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||N("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),ge=null;"undefined"!==typeof MozWebSocket?ge=MozWebSocket:"undefined"!==typeof WebSocket&&(ge=WebSocket);var be=function(){function t(e,n,r,i,a,o,s){Object(f.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D(this.connId),this.stats_=fe(n),this.connURL=t.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Object(d.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,T.set("previous_websocket_failure",!0);try{if(Object(y.D)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/".concat("5","/").concat(_,"/").concat(e.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:""}),s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(a.proxy={origin:s})}this.mySock=new ge(this.connURL,[],void 0)}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){T.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(y.I)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(y.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(y.P)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=K(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={v:"5"};return!Object(y.D)()&&"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[ie]=r),i&&(a.p=i),ue(e,ae,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ge&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return T.isInMemoryStorage||!0===T.get("previous_websocket_failure")}}]),t}();be.responsesRequiredToBeHealthy=2,be.healthyTimeout=3e4;var _e=function(){function e(t){Object(f.a)(this,e),this.initTransports_(t)}return Object(d.a)(e,[{key:"initTransports_",value:function(t){var n=be&&be.isAvailable(),r=n&&!be.previouslyFailed();if(t.webSocketOnly&&(n||F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[be];else{var i=this.transports_=[],a=!0,o=!1,s=void 0;try{for(var u,c=e.ALL_TRANSPORTS[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;l&&l.isAvailable()&&i.push(l)}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ye,be]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();_e.globalTransportInitialized_=!1;var ke=function(){function e(t,n,r,i,a,o,s,u,c,l){Object(f.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D("c:"+this.id+":"),this.transportManager_=new _e(n),this.log_("Connection created"),this.start_()}return Object(d.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=J(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=H("t",e),n=H("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=H("t",e),n=H("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=H("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?M("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(T.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),we=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Oe=function(){function e(t){Object(f.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(y.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(d.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(l.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(y.e)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)}}]),e}(),xe=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this,["online"]))).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(y.B)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(c.a)(t,e),Object(d.a)(t,[{key:"getInitialEvent",value:function(e){return Object(y.e)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new t}}]),t}(Oe),Te=32,Se=768,Ee=function(){function e(t,n){if(Object(f.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(d.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ie(){return new Ee("")}function je(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ce(e){return e.pieces_.length-e.pieceNum_}function Ae(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ee(e.pieces_,t)}function Pe(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ne(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ee(t,0)}function De(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ee)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ee(n,0)}function Me(e){return e.pieceNum_>=e.pieces_.length}function Le(e,t){var n=je(e),r=je(t);if(null===n)return t;if(n===r)return Le(Ae(e),Ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fe(e,t){if(Ce(e)!==Ce(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ue(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ce(e)>Ce(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ve=function e(t,n){Object(f.a)(this,e),this.errorPrefix_=n,this.parts_=Re(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(y.N)(this.parts_[r]);Be(this)};function Be(e){if(e.byteLength_>Se)throw new Error(e.errorPrefix_+"has a key path longer than "+Se+" bytes ("+e.byteLength_+").");if(e.parts_.length>Te)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Te+") or object contains a cycle "+ze(e))}function ze(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var qe=function(e){function t(){var e,n,r;return Object(f.a)(this,t),e=Object(s.a)(this,Object(u.a)(t).call(this,["visible"])),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(r="visibilitychange",n="hidden"):"undefined"!==typeof document.mozHidden?(r="mozvisibilitychange",n="mozHidden"):"undefined"!==typeof document.msHidden?(r="msvisibilitychange",n="msHidden"):"undefined"!==typeof document.webkitHidden&&(r="webkitvisibilitychange",n="webkitHidden")),e.visible_=!0,r&&document.addEventListener(r,function(){var t=!document[n];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))},!1),e}return Object(c.a)(t,e),Object(d.a)(t,[{key:"getInitialEvent",value:function(e){return Object(y.e)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new t}}]),t}(Oe),He=1e3,We=3e5,Ke=function(e){function t(e,n,r,i,a,c,l,h){var d;if(Object(f.a)(this,t),(d=Object(s.a)(this,Object(u.a)(t).call(this))).repoInfo_=e,d.applicationId_=n,d.onDataUpdate_=r,d.onConnectStatus_=i,d.onServerInfoUpdate_=a,d.authTokenProvider_=c,d.appCheckTokenProvider_=l,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=D("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=He,d.maxReconnectDelay_=We,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!Object(y.D)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return qe.getInstance().on("visible",d.onVisible_,Object(o.a)(Object(o.a)(d))),-1===e.host.indexOf("fblocal")&&xe.getInstance().on("online",d.onOnline_,Object(o.a)(Object(o.a)(d))),d}var n;return Object(c.a)(t,e),Object(d.a)(t,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(y.P)(i)),Object(y.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new y.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(y.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}},{key:"sendListen_",value:function(e){var n=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var s=o.d,u=o.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(a))===e&&(n.log_("listen response",o),"ok"!==u&&n.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))})}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(y.u)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(y.H)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===Object(h.a)(this.authOverride_)&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(y.P)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):M("Unrecognized action received from server: "+Object(y.P)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(y.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=He,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=He,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=He),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:(n=Object(a.a)(r.a.mark(function e(){var n,a,o,s,u,c,l,h,f,d,p,v,m,g,b=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,o())},f=function(e){Object(y.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:h,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=Object(i.a)(p,2),m=v[0],g=v[1],c?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new ke(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,o,function(e){F(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")},u)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&F(e.t0),h());case 30:case"end":return e.stop()}},e,this,[[16,26]])})),function(){return n.apply(this,arguments)})},{key:"interrupt",value:function(e){N("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){N("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(y.y)(this.interruptReasons_)&&(this.reconnectDelay_=He,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map(function(e){return W(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ee(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){N("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){N("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e=!0,t=!1,n=void 0;try{for(var r,i=this.listens.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value,o=!0,s=!1,u=void 0;try{for(var c,l=a.values()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var h=c.value;this.sendListen_(h)}}catch(v){s=!0,u=v}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}}catch(v){t=!0,n=v}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(var p=0;p<this.outstandingGets_.length;p++)this.outstandingGets_[p]&&this.sendGet_(p)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(y.D)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+_.replace(/\./g,"-")]=1,Object(y.B)()?e["framework.cordova"]=1:Object(y.E)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=xe.getInstance().currentlyOnline();return Object(y.y)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===Object(h.a)(e)&&Object(y.k)(e,"w")){var n=Object(y.M)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();F("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),t}(we);Ke.nextPersistentConnectionId_=0,Ke.nextConnectionId_=0;var Ge,Ye=function(){function e(t,n){Object(f.a)(this,e),this.name=t,this.node=n}return Object(d.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),$e=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ye(V,e),r=new Ye(V,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ye.MIN}}]),e}(),Ze=function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compare",value:function(e,t){return z(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(y.f)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return new Ye(B,Ge)}},{key:"makePost",value:function(e,t){return Object(y.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ye(e,Ge)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ge},set:function(e){Ge=e}}]),t}($e),Qe=new Ze,Xe=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(f.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Je=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:nt.EMPTY_NODE,this.right=null!=a?a:nt.EMPTY_NODE}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return nt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Je.RED=!0,Je.BLACK=!1;var et,tt=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Je(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),nt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(f.a)(this,e),this.comparator_=t,this.root_=n}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Je.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Je.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Xe(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Xe(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Xe(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Xe(this.root_,null,this.comparator_,!0,e)}}]),e}();function rt(e,t){return z(e.name,t.name)}function it(e,t){return z(e,t)}nt.EMPTY_NODE=new tt;var at,ot,st,ut=function(e){return"number"===typeof e?"number:"+Y(e):"string:"+e},ct=function(e){if(e.isLeafNode()){var t=e.val();Object(y.e)("string"===typeof t||"number"===typeof t||"object"===Object(h.a)(t)&&Object(y.k)(t,".sv"),"Priority must be a string or number.")}else Object(y.e)(e===et||e.isEmpty(),"priority of unexpected type.");Object(y.e)(e===et||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},lt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(f.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(y.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ct(this.priorityNode_)}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Me(t)?this:".priority"===je(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=je(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(y.e)(".priority"!==r||1===Ce(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ut(this.priorityNode_.val())+":");var t=Object(h.a)(this.value_);e+=t+":",e+="number"===t?Y(this.value_):this.value_,this.lazyHash_=j(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(y.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=Object(h.a)(t.value_),r=Object(h.a)(this.value_),i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(y.e)(i>=0,"Unknown leaf type: "+n),Object(y.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",set:function(e){at=e},get:function(){return at}}]),e}();lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ht,ft,dt=new(function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?z(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return new Ye(B,new lt("[PRIORITY-POST]",st))}},{key:"makePost",value:function(e,t){var n=ot(e);return new Ye(t,new lt("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),t}($e)),pt=Math.log(2),vt=function(){function e(t){Object(f.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/pt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(d.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),yt=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,a=e.length,o=function(t,r){var i=a-t,o=a;a-=t;var u=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Je(o,a.node,Je.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Je(o,a.node,Je.BLACK,c,l)}(i+1,o),c=e[i],l=n?n(c):c;s(new Je(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?o(l,Je.BLACK):(o(l,Je.BLACK),o(l,Je.RED))}return i}(new vt(e.length));return new nt(r||t,i)},mt={},gt=function(){function e(t,n){Object(f.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(d.a)(e,[{key:"get",value:function(e){var t=Object(y.M)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof nt?t:null}},{key:"hasIndex",value:function(e){return Object(y.k)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(y.e)(t!==Qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ye.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?yt(i,t.getCompare()):mt;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(y.J)(this.indexes_,function(e,i){var a=Object(y.M)(r.indexSet_,i);if(Object(y.e)(a,"Missing index implementation for "+i),e===mt){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Ye.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),yt(o,a.getCompare())}return mt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ye(t.name,c))),l.insert(t,t.node)}),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(y.J)(this.indexes_,function(e){if(e===mt)return e;var r=n.get(t.name);return r?e.remove(new Ye(t.name,r)):e}),this.indexSet_)}}],[{key:"Default",get:function(){return Object(y.e)(mt&&dt,"ChildrenNode.ts has not been loaded"),ht=ht||new e({".priority":mt},{".priority":dt})}}]),e}(),bt=function(){function e(t,n,r){Object(f.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ct(this.priorityNode_),this.children_.isEmpty()&&Object(y.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ft}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ft:t}},{key:"getChild",value:function(e){var t=je(e);return null===t?this:this.getImmediateChild(t).getChild(Ae(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(y.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ye(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ft:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=je(e);if(null===n)return t;Object(y.e)(".priority"!==je(e)||1===Ce(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ae(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(dt,function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ut(this.getPriority().val())+":"),this.forEachChild(dt,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":j(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ye(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ye(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ye(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_t?-1:0}},{key:"withIndex",value:function(t){if(t===Qe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Qe||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(dt),r=t.getIterator(dt),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Qe?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ft||(ft=new e(new nt(it),null,gt.Default))}}]),e}();bt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var _t=new(function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,new nt(it),bt.EMPTY_NODE,gt.Default))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return bt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),t}(bt));Object.defineProperties(Ye,{MIN:{value:new Ye(V,bt.EMPTY_NODE)},MAX:{value:new Ye(B,_t)}}),Ze.__EMPTY_NODE=bt.EMPTY_NODE,lt.__childrenNodeConstructor=bt,et=_t,function(e){st=e}(_t);var kt=!0;function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return bt.EMPTY_NODE;if("object"===Object(h.a)(e)&&".priority"in e&&(t=e[".priority"]),Object(y.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===Object(h.a)(t)&&".sv"in t,"Invalid priority type found: "+Object(h.a)(t)),"object"===Object(h.a)(e)&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==Object(h.a)(e)||".sv"in e)return new lt(e,wt(t));if(e instanceof Array||!kt){var n=bt.EMPTY_NODE;return G(e,function(t,r){if(Object(y.k)(e,t)&&"."!==t.substring(0,1)){var i=wt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(wt(t))}var r=[],i=!1;if(G(e,function(e,t){if("."!==e.substring(0,1)){var n=wt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ye(e,n)))}}),0===r.length)return bt.EMPTY_NODE;var a=yt(r,rt,function(e){return e.name},it);if(i){var o=yt(r,dt.getCompare());return new bt(a,wt(t),new gt({".priority":o},{".priority":dt}))}return new bt(a,wt(t),gt.Default)}!function(e){ot=e}(wt);var Ot,xt,Tt=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).indexPath_=e,Object(y.e)(!Me(e)&&".priority"!==je(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(c.a)(t,e),Object(d.a)(t,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?z(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=wt(e),r=bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ye(t,r)}},{key:"maxPost",value:function(){var e=bt.EMPTY_NODE.updateChild(this.indexPath_,_t);return new Ye(B,e)}},{key:"toString",value:function(){return Re(this.indexPath_,0).join("/")}}]),t}($e),St=new(function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?z(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return Ye.MAX}},{key:"makePost",value:function(e,t){var n=wt(e);return new Ye(t,n)}},{key:"toString",value:function(){return".value"}}]),t}($e)),Et="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";Ot=0,xt=[];function It(e){return{type:"value",snapshotNode:e}}function jt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ct(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function At(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Pt=function(){function e(){Object(f.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}return Object(d.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:V}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:B}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(y.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===dt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Rt(e){var t,n={};return e.isDefault()?n:(e.index_===dt?t="$priority":e.index_===St?t="$value":e.index_===Qe?t="$key":(Object(y.e)(e.index_ instanceof Tt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(y.P)(t),e.startSet_&&(n.startAt=Object(y.P)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(y.P)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(y.P)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(y.P)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n)}function Nt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==dt&&(t.i=e.index_.toString()),t}var Dt=function(e){function t(e,n,r,i){var a;return Object(f.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this))).repoInfo_=e,a.onDataUpdate_=n,a.authTokenProvider_=r,a.appCheckTokenProvider_=i,a.log_=D("p:rest:"),a.listens_={},a}return Object(c.a)(t,e),Object(d.a)(t,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,n,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=Rt(e._queryParams);this.restRequest_(o+".json",c,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(y.M)(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}},{key:"unlisten",value:function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Rt(e._queryParams),r=e._path.toString(),i=new y.a;return this.restRequest_(r+".json",n,function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var o=Object(i.a)(a,2),s=o[0],u=o[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(y.K)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(y.I)(l.responseText)}catch(n){F("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&F("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()})}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(y.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),t}(we),Mt=function(){function e(){Object(f.a)(this,e),this.rootNode_=bt.EMPTY_NODE}return Object(d.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Lt(){return{value:null,children:new Map}}function Ft(e,t,n){if(Me(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=je(t);e.children.has(r)||e.children.set(r,Lt()),Ft(e.children.get(r),t=Ae(t),n)}}function Ut(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){Ut(r,new Ee(t.toString()+"/"+e),n)})}var Vt,Bt=function(){function e(t){Object(f.a)(this,e),this.collection_=t,this.last_=null}return Object(d.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&G(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t}}]),e}(),zt=1e4,qt=3e4,Ht=function(){function e(t,n){Object(f.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Bt(t);var r=zt+(qt-zt)*Math.random();J(this.reportStats_.bind(this),Math.floor(r))}return Object(d.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;G(t,function(t,i){i>0&&Object(y.k)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),J(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Wt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vt||(Vt={}));var Kt,Gt=function(){function e(t,n,r){Object(f.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Me(this.path)){if(null!=this.affectedTree.value)return Object(y.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ee(t));return new e(Ie(),n,this.revert)}return Object(y.e)(je(this.path)===t,"operationForChild called for unrelated child."),new e(Ae(this.path),this.affectedTree,this.revert)}}]),e}(),Yt=function(){function e(t,n,r){Object(f.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return Me(this.path)?new e(this.source,Ie(),this.snap.getImmediateChild(t)):new e(this.source,Ae(this.path),this.snap)}}]),e}(),$t=function(){function e(t,n,r){Object(f.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Vt.MERGE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Me(this.path)){var n=this.children.subtree(new Ee(t));return n.isEmpty()?null:n.value?new Yt(this.source,Ie(),n.value):new e(this.source,Ie(),n)}return Object(y.e)(je(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ae(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Zt=function(){function e(t,n,r){Object(f.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(d.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;var t=je(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Qt(e,t,n,r,i,a){var o=r.filter(function(e){return e.type===n});o.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(y.f)("Should only compare child_ events.");var r=new Ye(t.childName,t.snapshotNode),i=new Ye(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),o.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}(e,n,a);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Xt(e,t){return{eventCache:e,serverCache:t}}function Jt(e,t,n,r){return Xt(new Zt(t,n,r),e.serverCache)}function en(e,t,n,r){return Xt(e.eventCache,new Zt(t,n,r))}function tn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function nn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var rn=function(){return Kt||(Kt=new nt(q)),Kt},an=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn();Object(f.a)(this,e),this.value=t,this.children=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ie(),value:this.value};if(Me(e))return null;var n=je(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ae(e),t);return null!=i?{path:De(new Ee(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})}},{key:"subtree",value:function(t){if(Me(t))return this;var n=je(t),r=this.children.get(n);return null!==r?r.subtree(Ae(t)):new e(null)}},{key:"set",value:function(t,n){if(Me(t))return new e(n,this.children);var r=je(t),i=(this.children.get(r)||new e(null)).set(Ae(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Me(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=je(t),r=this.children.get(n);if(r){var i,a=r.remove(Ae(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Me(e))return this.value;var t=je(e),n=this.children.get(t);return n?n.get(Ae(e)):null}},{key:"setTree",value:function(t,n){if(Me(t))return n;var r,i=je(t),a=(this.children.get(i)||new e(null)).setTree(Ae(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ie(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(De(e,r),t)}),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ie(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Me(e))return null;var i=je(e),a=this.children.get(i);return a?a.findOnPath_(Ae(e),De(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ie(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Me(t))return this;this.value&&r(n,this.value);var i=je(t),a=this.children.get(i);return a?a.foreachOnPath_(Ae(t),De(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ie(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(De(e,n),t)}),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})}}],[{key:"fromObject",value:function(t){var n=new e(null);return G(t,function(e,t){n=n.set(new Ee(e),t)}),n}}]),e}(),on=function(){function e(t){Object(f.a)(this,e),this.writeTree_=t}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(new an(null))}}]),e}();function sn(e,t,n){if(Me(t))return new on(new an(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Le(i,t);return a=a.updateChild(o,n),new on(e.writeTree_.set(i,a))}var s=new an(n),u=e.writeTree_.setTree(t,s);return new on(u)}function un(e,t,n){var r=e;return G(n,function(e,n){r=sn(r,De(t,e),n)}),r}function cn(e,t){if(Me(t))return on.empty();var n=e.writeTree_.setTree(t,new an(null));return new on(n)}function ln(e,t){return null!=hn(e,t)}function hn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Le(n.path,t)):null}function fn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(dt,function(e,n){t.push(new Ye(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Ye(e,n.value))}),t}function dn(e,t){if(Me(t))return e;var n=hn(e,t);return new on(null!=n?new an(n):e.writeTree_.subtree(t))}function pn(e){return e.writeTree_.isEmpty()}function vn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(y.e)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(De(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(De(t,".priority"),i)),r}(Ie(),e.writeTree_,t)}function yn(e,t){return jn(t,e)}function mn(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});Object(y.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&gn(s,r.path)?i=!1:Ue(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=_n(e.allWrites,bn,Ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=cn(e.visibleWrites,r.path):G(r.children,function(t){e.visibleWrites=cn(e.visibleWrites,De(r.path,t))});return!0}return!1}function gn(e,t){if(e.snap)return Ue(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ue(De(e.path,n),t))return!0;return!1}function bn(e){return e.visible}function _n(e,t,n){for(var r=on.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Ue(n,o)?r=sn(r,s=Le(n,o),a.snap):Ue(o,n)&&(s=Le(o,n),r=sn(r,Ie(),a.snap.getChild(s)));else{if(!a.children)throw Object(y.f)("WriteRecord should have .snap or .children");if(Ue(n,o))r=un(r,s=Le(n,o),a.children);else if(Ue(o,n))if(Me(s=Le(o,n)))r=un(r,Ie(),a.children);else{var u=Object(y.M)(a.children,je(s));if(u){var c=u.getChild(Ae(s));r=sn(r,Ie(),c)}}}}}return r}function kn(e,t,n,r,i){if(r||i){var a=dn(e.visibleWrites,t);if(!i&&pn(a))return n;if(i||null!=n||ln(a,Ie())){return vn(_n(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ue(e.path,t)||Ue(t,e.path))},t),n||bt.EMPTY_NODE)}return null}var o=hn(e.visibleWrites,t);if(null!=o)return o;var s=dn(e.visibleWrites,t);return pn(s)?n:null!=n||ln(s,Ie())?vn(s,n||bt.EMPTY_NODE):null}function wn(e,t,n,r){return kn(e.writeTree,e.treePath,t,n,r)}function On(e,t){return function(e,t,n){var r=bt.EMPTY_NODE,i=hn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(dt,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var a=dn(e.visibleWrites,t);return n.forEachChild(dt,function(e,t){var n=vn(dn(a,new Ee(e)),t);r=r.updateImmediateChild(e,n)}),fn(a).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return fn(dn(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function xn(e,t,n,r){return function(e,t,n,r,i){Object(y.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=De(t,n);if(ln(e.visibleWrites,a))return null;var o=dn(e.visibleWrites,a);return pn(o)?i.getChild(n):vn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Tn(e,t){return function(e,t){return hn(e.visibleWrites,t)}(e.writeTree,De(e.treePath,t))}function Sn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=dn(e.visibleWrites,t),c=hn(u,Ie());if(null!=c)s=c;else{if(null==n)return[];s=vn(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function En(e,t,n){return function(e,t,n,r){var i=De(t,n),a=hn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?vn(dn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function In(e,t){return jn(De(e.treePath,t),e.writeTree)}function jn(e,t){return{treePath:e,writeTree:t}}var Cn=function(){function e(){Object(f.a)(this,e),this.changeMap=new Map}return Object(d.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(y.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(y.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,At(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ct(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,jt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(y.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,At(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),An=new(function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Pn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(f.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return En(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nn(this.viewCache_),i=Sn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Rn(e,t,n,r,i){var a,o,s=new Cn;if(n.type===Vt.OVERWRITE){var u=n;u.source.fromUser?a=Mn(e,t,u.path,u.snap,r,i,s):(Object(y.e)(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Me(u.path),a=Dn(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Vt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach(function(r,u){var c=De(n,r);Ln(t,je(c))&&(s=Mn(e,s,c,u,i,a,o))}),r.foreach(function(r,u){var c=De(n,r);Ln(t,je(c))||(s=Mn(e,s,c,u,i,a,o))}),s}(e,t,c.path,c.children,r,i,s):(Object(y.e)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Un(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Vt.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Tn(r,n))return t;var s,u=new Pn(r,t,i),c=t.eventCache.getNode();if(Me(n)||".priority"===je(n)){var l;if(t.serverCache.isFullyInitialized())l=wn(r,nn(t));else{var h=t.serverCache.getNode();Object(y.e)(h instanceof bt,"serverChildren would be complete if leaf node"),l=On(r,h)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var f=je(n),d=En(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,Ae(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,bt.EMPTY_NODE,Ae(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=wn(r,nn(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Tn(r,Ie()),Jt(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Tn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Me(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Me(n)){var c=new an(null);return u.getNode().forEachChild(Qe,function(e,t){c=c.set(new Ee(e),t)}),Un(e,t,n,c,i,a,s,o)}return t}var l=new an(null);return r.foreach(function(e,t){var r=De(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))}),Un(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Vt.LISTEN_COMPLETE)throw Object(y.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=en(t,a.getNode(),a.isFullyInitialized()||Me(n),a.isFiltered());return Nn(e,o,n,r,An,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=tn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(It(tn(t)))}}(t,a,h),{viewCache:a,changes:h}}function Nn(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Tn(r,n))return t;if(Me(n))if(Object(y.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=nn(t),l=On(r,c instanceof bt?c:bt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=wn(r,nn(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=je(n);if(".priority"===f){Object(y.e)(1===Ce(n),"Can't have a priority with additional path components");var d=u.getNode(),p=xn(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Ae(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=xn(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(f).updateChild(m,g):u.getNode().getImmediateChild(f)}else v=En(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return Jt(t,o,u.isFullyInitialized()||Me(n),e.filter.filtersNodes())}function Dn(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Me(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=je(n);if(!c.isCompleteForPath(n)&&Ce(n)>1)return t;var d=Ae(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,An,null)}var v=en(t,u,c.isFullyInitialized()||Me(n),l.filtersNodes());return Nn(e,v,n,i,new Pn(i,v,a),s)}function Mn(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Pn(i,t,a);if(Me(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Jt(t,u,!0,e.filter.filtersNodes());else{var h=je(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Jt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=Ae(n),p=c.getNode().getImmediateChild(h);if(Me(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===Pe(d)&&v.getChild(Ne(d)).isEmpty()?v:v.updateChild(d,r):bt.EMPTY_NODE}if(p.equals(f))s=t;else s=Jt(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Ln(e,t){return e.eventCache.isCompleteForChild(t)}function Fn(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Un(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Me(n)?r:new an(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new Ee(n),u,i,a,o,s)}}),u.children.inorderTraversal(function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new Ee(n),h,i,a,o,s)}}),c}var Vn;function Bn(e,t){var n=nn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Me(t)&&!n.getImmediateChild(je(t)).isEmpty())?n.getChild(t):null}function zn(e,t,n,r){t.type===Vt.MERGE&&null!==t.source.queryId&&(Object(y.e)(nn(e.viewCache_),"We should always have a full cache before handling merges"),Object(y.e)(tn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Rn(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Object(y.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(y.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(y.e)(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,qn(e,s.changes,s.viewCache.eventCache.getNode(),null)}function qn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach(function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Qt(e,i,"child_removed",t,r,n),Qt(e,i,"child_added",t,r,n),Qt(e,i,"child_moved",a,r,n),Qt(e,i,"child_changed",t,r,n),Qt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hn;function Wn(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(y.e)(null!=a,"SyncTree gave us an op for an invalid query."),zn(a,t,n,r)}var o=[],s=!0,u=!1,c=void 0;try{for(var l,h=e.views.values()[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var f=l.value;o=o.concat(zn(f,t,n,r))}}catch(d){u=!0,c=d}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}return o}function Kn(e,t){var n=null,r=!0,i=!1,a=void 0;try{for(var o,s=e.views.values()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;n=n||Bn(u,t)}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}var Gn=function e(t){Object(f.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new an(null),this.pendingWriteTree_={visibleWrites:on.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Yn(e,t,n,r,i){return function(e,t,n,r,i){Object(y.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=sn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Xn(e,new Yt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(mn(e.pendingWriteTree_,t)){var i=new an(null);return null!=r.snap?i=i.set(Ie(),!0):G(r.children,function(e){i=i.set(new Ee(e),!0)}),Xn(e,new Gt(r.path,i,n))}return[]}function Zn(e,t,n){return Xn(e,new Yt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Qn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=Kn(n,Le(e,t));if(r)return r});return kn(r,t,i,n,!0)}function Xn(e,t){return function e(t,n,r,i){if(Me(t.path))return function e(t,n,r,i){var a=n.get(Ie());null==r&&null!=a&&(r=Kn(a,Ie()));var o=[];n.children.inorderTraversal(function(n,a){var s=r?r.getImmediateChild(n):null,u=In(i,n),c=t.operationForChild(n);c&&(o=o.concat(e(c,a,s,u)))});a&&(o=o.concat(Wn(a,t,i,r)));return o}(t,n,r,i);var a=n.get(Ie());null==r&&null!=a&&(r=Kn(a,Ie()));var o=[],s=je(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,h=In(i,s);o=o.concat(e(u,c,l,h))}return a&&(o=o.concat(Wn(a,t,i,r))),o}(t,e.syncPointTree_,null,yn(e.pendingWriteTree_,Ie()))}function Jn(e,t){return e.tagToQueryMap.get(t)}function er(e){var t=e.indexOf("$");return Object(y.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ee(e.substr(0,t))}}function tr(e,t,n){var r=e.syncPointTree_.get(t);return Object(y.e)(r,"Missing sync point for query tag that we're tracking"),Wn(r,n,yn(e.pendingWriteTree_,t),null)}var nr=function(){function e(t){Object(f.a)(this,e),this.node_=t}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),rr=function(){function e(t,n){Object(f.a)(this,e),this.syncTree_=t,this.path_=n}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){var n=De(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Qn(this.syncTree_,this.path_)}}]),e}(),ir=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ar=function(e,t,n){return e&&"object"===Object(h.a)(e)?(Object(y.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?or(e[".sv"],t,n):"object"===Object(h.a)(e[".sv"])?sr(e[".sv"],t):void Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},or=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(y.e)(!1,"Unexpected server value: "+e)}},sr=function(e,t,n){e.hasOwnProperty("increment")||Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(y.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(y.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},ur=function(e,t,n,r){return lr(t,new rr(n,e),r)},cr=function(e,t,n){return lr(e,new nr(t),n)};function lr(e,t,n){var r,i=e.getPriority().val(),a=ar(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=ar(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new lt(s,wt(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new lt(a))),u.forEachChild(dt,function(e,i){var a=lr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))}),r}var hr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(f.a)(this,e),this.name=t,this.parent=n,this.node=r};function fr(e,t){for(var n=t instanceof Ee?t:new Ee(t),r=e,i=je(n);null!==i;){var a=Object(y.M)(r.node.children,i)||{children:{},childCount:0};r=new hr(i,r,a),i=je(n=Ae(n))}return r}function dr(e){return e.node.value}function pr(e,t){e.node.value=t,gr(e)}function vr(e){return e.node.childCount>0}function yr(e,t){G(e.node.children,function(n,r){t(new hr(n,e,r))})}function mr(e){return new Ee(null===e.parent?e.name:mr(e.parent)+"/"+e.name)}function gr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===dr(e)&&!vr(e)}(n),i=Object(y.k)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,gr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,gr(e))}(e.parent,e.name,e)}var br=/[\[\].#$\/\u0000-\u001F\u007F]/,_r=/[\[\].#$\u0000-\u001F\u007F]/,kr=function(e){return"string"===typeof e&&0!==e.length&&!br.test(e)},wr=function(e){return"string"===typeof e&&0!==e.length&&!_r.test(e)},Or=function e(t,n,r){var i=r instanceof Ee?new Ve(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ze(i));if("function"===typeof n)throw new Error(t+"contains a function "+ze(i)+" with contents = "+n.toString());if(U(n))throw new Error(t+"contains "+n.toString()+" "+ze(i));if("string"===typeof n&&n.length>10485760/3&&Object(y.N)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+ze(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===Object(h.a)(n)){var a=!1,o=!1;if(G(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!kr(n)))throw new Error(t+" contains an invalid key ("+n+") "+ze(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Object(y.N)(u),Be(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(y.N)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&o)throw new Error(t+' contains ".value" child '+ze(i)+" in addition to actual children.")}},xr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!kr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wr(e)}(n))throw new Error(Object(y.q)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Tr=function e(){Object(f.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function Sr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Fe(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Er(e,t,n){Sr(e,n),Ir(e,function(e){return Ue(e,t)||Ue(t,e)})}function Ir(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(jr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function jr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();A&&N("event: "+n.toString()),Q(r)}}}var Cr="repo_interrupt",Ar=25,Pr=function(){function e(t,n,r,i){Object(f.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new hr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(d.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Rr(e,t,n){if(e.stats_=fe(e.repoInfo_),e.forceRestClient_||X())e.server_=new Dt(e.repoInfo_,function(t,n,r,i){Mr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return Lr(e,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==Object(h.a)(n))throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(y.P)(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}e.persistentConnection_=new Ke(e.repoInfo_,t,function(t,n,r,i){Mr(e,t,n,r,i)},function(t){Lr(e,t)},function(t){!function(e,t){G(t,function(t,n){Fr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,a;e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=(r=e.repoInfo_,i=function(){return new Ht(e.stats_,e.server_)},a=r.toString(),he[a]||(he[a]=i()),he[a]),e.infoData_=new Mt,e.infoSyncTree_=new Gn({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Zn(e.infoSyncTree_,t._path,o),setTimeout(function(){i("ok")},0)),a},stopListening:function(){}}),Fr(e,"connected",!1),e.serverSyncTree_=new Gn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var a=i(n,r);Er(e.eventQueue_,t._path,a)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Nr(e){var t=e.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Dr(e){return ir({timestamp:Nr(e)})}function Mr(e,t,n,r,i){e.dataUpdateCount++;var a=new Ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Object(y.J)(n,function(e){return wt(e)});o=function(e,t,n,r){var i=Jn(e,r);if(i){var a=er(i),o=a.path,s=a.queryId,u=Le(o,t),c=an.fromObject(n);return tr(e,o,new $t(Wt(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=wt(n);o=function(e,t,n,r){var i=Jn(e,r);if(null!=i){var a=er(i),o=a.path,s=a.queryId,u=Le(o,t);return tr(e,o,new Yt(Wt(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Object(y.J)(n,function(e){return wt(e)});o=function(e,t,n){var r=an.fromObject(n);return Xn(e,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=wt(n);o=Zn(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=Hr(e,a)),Er(e.eventQueue_,h,o)}function Lr(e,t){Fr(e,"connected",t),!1===t&&function(e){Br(e,"onDisconnectEvents");var t=Dr(e),n=Lt();Ut(e.onDisconnect_,Ie(),function(r,i){var a=ur(r,i,e.serverSyncTree_,t);Ft(n,r,a)});var r=[];Ut(n,Ie(),function(t,n){r=r.concat(Zn(e.serverSyncTree_,t,n));var i=Yr(e,t);Hr(e,i)}),e.onDisconnect_=Lt(),Er(e.eventQueue_,Ie(),r)}(e)}function Fr(e,t,n){var r=new Ee("/.info/"+t),i=wt(n);e.infoData_.updateSnapshot(r,i);var a=Zn(e.infoSyncTree_,r,i);Er(e.eventQueue_,r,a)}function Ur(e){return e.nextWriteId_++}function Vr(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Cr)}function Br(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];N.apply(void 0,[t].concat(r))}function zr(e,t,n){return Qn(e.serverSyncTree_,t,n)||bt.EMPTY_NODE}function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Gr(e,t),dr(t)){var n=Kr(e,t);Object(y.e)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),i=zr(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Object(y.e)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Le(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,function(r){Br(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat($n(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Gr(e,fr(e.transactionQueueTree_,t)),qr(e,e.transactionQueueTree_),Er(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Q(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{F("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Hr(e,t)}},o)}(e,mr(t),n)}else vr(t)&&yr(t,function(t){qr(e,t)})}function Hr(e,t){var n=Wr(e,t),r=mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),o=function(o){var s,u=t[o],c=Le(n,u.path),l=!1,f=void 0;if(Object(y.e)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat($n(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Ar)l=!0,f="maxretry",i=i.concat($n(e.serverSyncTree_,u.currentWriteId,!0));else{var d=zr(e,u.path,a);u.currentInputSnapshot=d;var p=t[o].update(d.val());if(void 0!==p){Or("transaction failed: Data returned ",p,u.path);var v=wt(p),m="object"===Object(h.a)(p)&&null!=p&&Object(y.k)(p,".priority");m||(v=v.updatePriority(d.getPriority()));var g=u.currentWriteId,b=Dr(e),_=cr(v,d,b);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=_,u.currentWriteId=Ur(e),a.splice(a.indexOf(g),1),i=(i=i.concat(Yn(e.serverSyncTree_,u.path,_,u.currentWriteId,u.applyLocally))).concat($n(e.serverSyncTree_,g,!0))}else l=!0,f="nodata",i=i.concat($n(e.serverSyncTree_,u.currentWriteId,!0))}Er(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push(function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)}):r.push(function(){return t[o].onComplete(new Error(f),!1,null)})))},s=0;s<t.length;s++)o(s);Gr(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)Q(r[s]);qr(e,e.transactionQueueTree_)}(e,Kr(e,n),r),r}function Wr(e,t){var n,r=e.transactionQueueTree_;for(n=je(t);null!==n&&void 0===dr(r);)r=fr(r,n),n=je(t=Ae(t));return r}function Kr(e,t){var n=[];return function e(t,n,r){var i=dr(n);if(i)for(var a=0;a<i.length;a++)r.push(i[a]);yr(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function Gr(e,t){var n=dr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,pr(t,n.length>0?n:void 0)}yr(t,function(t){Gr(e,t)})}function Yr(e,t){var n=mr(Wr(e,t)),r=fr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){$r(e,t)}),$r(e,r),function e(t,n,r,i){r&&!i&&n(t),yr(t,function(t){e(t,n,!0,i)}),r&&i&&n(t)}(r,function(t){$r(e,t)}),n}function $r(e,t){var n=dr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(y.e)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(y.e)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($n(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?pr(t,void 0):n.length=a+1,Er(e.eventQueue_,mr(t),i);for(var s=0;s<r.length;s++)Q(r[s])}}var Zr=function(e,t){var n=Qr(e),r=n.namespace;"firebase.com"===n.domain&&L(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||L("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ee(n.pathString)}},Qr=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n=!0,r=!1,i=void 0;try{for(var a,o=e.split("&")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?t[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):F("Invalid query segment '".concat(s,"' in query '").concat(e,"'"))}}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Xr=function(){function e(t,n,r,i){Object(f.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(d.a)(e,[{key:"isEqual",value:function(t){if(!((t=Object(y.s)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Fe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}},{key:"key",get:function(){return Me(this._path)?null:Pe(this._path)}},{key:"ref",get:function(){return new Jr(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Nt(this._queryParams),t=W(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Nt(this._queryParams)}}]),e}();var Jr=function(e){function t(e,n){return Object(f.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e,n,new Pt,!1))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"parent",get:function(){var e=Ne(this._path);return null===e?null:new t(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),t}(Xr);!function(e){Object(y.e)(!Vn,"__referenceConstructor has already been defined"),Vn=e}(Jr),function(e){Object(y.e)(!Hn,"__referenceConstructor has already been defined"),Hn=e}(Jr);var ei="FIREBASE_DATABASE_EMULATOR_HOST",ti={},ni=!1;function ri(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||L("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),N("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var s,u=Zr(o,a),c=u.repoInfo,l=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:""})&&(l=Object({NODE_ENV:"production",PUBLIC_URL:""})[ei]),l?(s=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(u=Zr(o,a)).repoInfo):s=!u.repoInfo.secure;var h=a&&s?new ne(ne.OWNER):new te(t.name,t.options,n);xr("Invalid Firebase Database URL",u),Me(u.path)||L("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=ti[t.name];i||(i={},ti[t.name]=i);var a=i[e.toURLString()];a&&L("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Pr(e,ni,n,r),i[e.toURLString()]=a,a}(c,t,h,new ee(t.name,r));return new ii(f,t)}var ii=function(){function e(t,n){Object(f.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(d.a)(e,[{key:"_delete",value:function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=ti[t])&&n[e.key]===e||L("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Vr(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&L("Cannot call "+e+" on a deleted database.")}},{key:"_repo",get:function(){return this._instanceStarted||(Rr(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Jr(this._repo,Ie())),this._rootInternal}}]),e}();Ke.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ke.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ai;!function(e){_=e}(p.SDK_VERSION),Object(p._registerComponent)(new v.a("database",function(e,t){var n=t.instanceIdentifier;return ri(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Object(p.registerVersion)(g,b,ai),Object(p.registerVersion)(g,b,"esm2017")}).call(this,n(36))},function(e,t,n){(function(e){var r,i,a,o,s=n(23);self,o=function(){return function(){var e={50:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2),i={_sample:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=(0,r.Z)(t),a={};if("number"===n){var o=0,s=Math.pow(10,t),u=1/s;a[0]=e(0);for(var c=0;c<s-1;c++){o+=u,a[parseFloat(o.toFixed(t))]=e(o)}a[1]=e(1),a.base=t}else"object"===n?a=t:"string"===n&&(a=JSON.parse(t));return i._sample._proximate(a)},_proximate:function(e){var t=e.base,n=1/Math.pow(10,t),r=function(r){var i,a,o=function(e,t){t=+t||0;var n=Math.pow(10,t);return Math.round(e*n)/n}(r,t),s=e[o.toString()];if(Math.abs(r-o)<n)return s;var u=(a=r>o?e[i=o+n]:e[i=o-n])-s;return u<n?s:s+(r-o)/(i-o)*(a>s?-1:1)*u};return r.getSamples=function(){return e},r}};i._sample._proximate=i._proximate;var a=i._sample},973:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(2),i=n(671),a=n(144),o=n(52),s=n.n(o),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this._o=t,this._index=this._o.index||0,this._arrayPropertyMap={strokeDashoffset:1,strokeDasharray:1,origin:1},this._skipPropsDelta={timeline:1,prevChainModule:1,callbacksContext:1},this._declareDefaults(),this._extendDefaults(),this._vars(),this._render()}return(0,a.Z)(e,[{key:"_declareDefaults",value:function(){this._defaults={}}},{key:"_vars",value:function(){this._progress=0,this._strokeDasharrayBuffer=[]}},{key:"_render",value:function(){}},{key:"_setProp",value:function(e,t){if("object"===(0,r.Z)(e))for(var n in e)this._assignProp(n,e[n]);else this._assignProp(e,t)}},{key:"_assignProp",value:function(e,t){this._props[e]=t}},{key:"_show",value:function(){var e=this._props;this.el&&(e.isSoftHide?this._showByTransform():this.el.style.display="block",this._isShown=!0)}},{key:"_hide",value:function(){this.el&&(this._props.isSoftHide?s().setPrefixedStyle(this.el,"transform","scale(0)"):this.el.style.display="none",this._isShown=!1)}},{key:"_showByTransform",value:function(){}},{key:"_parseOptionString",value:function(e){return"string"==typeof e&&e.match(/stagger/)&&(e=s().parseStagger(e,this._index)),"string"==typeof e&&e.match(/rand/)&&(e=s().parseRand(e)),e}},{key:"_parsePositionOption",value:function(e,t){return s().unitOptionMap[e]&&(t=s().parseUnit(t).string),t}},{key:"_parseStrokeDashOption",value:function(e,t){var n=t;if(this._arrayPropertyMap[e])switch(n=[],(0,r.Z)(t)){case"number":n.push(s().parseUnit(t));break;case"string":for(var i=t.split(" "),a=0;a<i.length;a++)n.push(s().parseUnit(i[a]))}return n}},{key:"_isDelta",value:function(e){var t=s().isObject(e);return!(!(t=t&&!e.unit)||s().isArray(e)||s().isDOM(e))}},{key:"_getDelta",value:function(e,t){var n;if("left"!==e&&"top"!==e||this._o.ctx||s().warn("Consider to animate x/y properties instead of left/top,\n        as it would be much more performant",t),!this._skipPropsDelta||!this._skipPropsDelta[e]){null!=(n=s().parseDelta(e,t,this._index)).type&&(this._deltas[e]=n);var i="object"===(0,r.Z)(n.end)?0===n.end.value?0:n.end.string:n.end;this._props[e]=i}}},{key:"_extendDefaults",value:function(){for(var e in this._props={},this._deltas={},this._defaults){var t=null!=this._o[e]?this._o[e]:this._defaults[e];this._parseOption(e,t)}}},{key:"_tuneNewOptions",value:function(e){for(var t in this._hide(),e)e&&delete this._deltas[t],this._o[t]=e[t],this._parseOption(t,e[t])}},{key:"_parseOption",value:function(e,t){if(this._isDelta(t)&&!this._skipPropsDelta[e]){this._getDelta(e,t);var n=s().getDeltaEnd(t);return this._assignProp(e,this._parseProperty(e,n))}this._assignProp(e,this._parseProperty(e,t))}},{key:"_parsePreArrayProperty",value:function(e,t){return t=this._parseOptionString(t),this._parsePositionOption(e,t)}},{key:"_parseProperty",value:function(e,t){return"parent"===e?s().parseEl(t):(t=this._parsePreArrayProperty(e,t),this._parseStrokeDashOption(e,t))}},{key:"_parseDeltaValues",value:function(e,t){var n={};for(var r in t){var i=t[r],a=this._parsePreArrayProperty(e,i);n[this._parsePreArrayProperty(e,r)]=a}return n}},{key:"_preparsePropValue",value:function(e,t){return this._isDelta(t)?this._parseDeltaValues(e,t):this._parsePreArrayProperty(e,t)}},{key:"_calcCurrentProps",value:function(e,t){for(var n in this._deltas){var r=this._deltas[n],i=!!r.curve,a=null==r.easing||i?e:r.easing(t);if("array"===r.type){var o;s().isArray(this._props[n])?(o=this._props[n]).length=0:o=[];for(var u=i?r.curve(t):null,c=0;c<r.delta.length;c++){var l=r.delta[c],h=i?u*(r.start[c].value+t*l.value):r.start[c].value+a*l.value;o.push({string:"".concat(h).concat(l.unit),value:h,unit:l.unit})}this._props[n]=o}else if("number"===r.type)this._props[n]=i?r.curve(t)*(r.start+t*r.delta):r.start+a*r.delta;else if("unit"===r.type){var f=i?r.curve(t)*(r.start.value+t*r.delta):r.start.value+a*r.delta;this._props[n]="".concat(f).concat(r.end.unit)}else if("color"===r.type){var d,p,v,y;if(i){var m=r.curve(t);d=parseInt(m*(r.start.r+t*r.delta.r),10),p=parseInt(m*(r.start.g+t*r.delta.g),10),v=parseInt(m*(r.start.b+t*r.delta.b),10),y=parseFloat(m*(r.start.a+t*r.delta.a))}else d=parseInt(r.start.r+a*r.delta.r,10),p=parseInt(r.start.g+a*r.delta.g,10),v=parseInt(r.start.b+a*r.delta.b,10),y=parseFloat(r.start.a+a*r.delta.a);this._props[n]="rgba(".concat(d,",").concat(p,",").concat(v,",").concat(y,")")}}}},{key:"_setProgress",value:function(e,t){this._progress=e,this._calcCurrentProps(e,t)}}]),e}()},623:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(2),i=n(671),a=n(144),o=n(340),s=n(963),u=n(120),c=n(52),l=n.n(c);var h=function(e){(0,o.Z)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"_declareDefaults",value:function(){this._defaults={ns:"http://www.w3.org/2000/svg",tag:"ellipse",parent:document.body,ratio:1,radius:50,radiusX:null,radiusY:null,stroke:"hotpink","stroke-dasharray":"","stroke-dashoffset":"","stroke-linecap":"","stroke-width":2,"stroke-opacity":1,fill:"transparent","fill-opacity":1,width:0,height:0},this._drawMap=["stroke","stroke-width","stroke-opacity","stroke-dasharray","fill","stroke-dashoffset","stroke-linecap","fill-opacity","transform"]}},{key:"_vars",value:function(){this._state={},this._drawMapLength=this._drawMap.length}},{key:"_render",value:function(){this._isRendered||(this._isRendered=!0,this._createSVGCanvas(),this._setCanvasSize(),this._props.parent.appendChild(this._canvas))}},{key:"_createSVGCanvas",value:function(){var e=this._props;this._canvas=document.createElementNS(e.ns,"svg"),this.el=document.createElementNS(e.ns,e.tag),this._canvas.appendChild(this.el)}},{key:"_setCanvasSize",value:function(){var e=this._canvas.style;e.display="block",e.width="100%",e.height="100%",e.left="0px",e.top="0px"}},{key:"_draw",value:function(){this._props.length=this._getLength();for(var e=this._drawMapLength;e--;){var t=this._drawMap[e];switch(t){case"stroke-dasharray":case"stroke-dashoffset":this.castStrokeDash(t)}this._setAttrIfChanged(t,this._props[t])}this._state.radius=this._props.radius}},{key:"castStrokeDash",value:function(e){var t=this._props;if(l().isArray(t[e])){for(var n="",i=0;i<t[e].length;i++){var a=t[e][i],o="%"===a.unit?this.castPercent(a.value):a.value;n+="".concat(o," ")}return t[e]="0 "===n?n="":n,t[e]=n}"object"===(0,r.Z)(t[e])&&(n="%"===t[e].unit?this.castPercent(t[e].value):t[e].value,t[e]=0===n?n="":n)}},{key:"castPercent",value:function(e){return e*(this._props.length/100)}},{key:"_setAttrIfChanged",value:function(e,t){this._state[e]!==t&&(this.el.setAttribute(e,t),this._state[e]=t)}},{key:"_getLength",value:function(){var e=this._props;return this.el&&this.el.getTotalLength&&this.el.getAttribute("d")?this.el.getTotalLength():2*(null!=e.radiusX?e.radiusX:e.radius)}},{key:"_getPointsPerimiter",value:function(e){for(var t=0,n=1;n<e.length;n++)t+=this._pointsDelta(e[n-1],e[n]);return t+this._pointsDelta(e[0],l().getLastItem(e))}},{key:"_pointsDelta",value:function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)}},{key:"_setSize",value:function(e,t){var n=this._props;n.width=e,n.height=t,this._draw()}}]),n}(n(973).Z)},472:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(671),i=n(144),a=n(752),o=n(340),s=n(963),u=n(120);var c=function(e){(0,o.Z)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"_declareDefaults",value:function(){(0,a.Z)((0,u.Z)(n.prototype),"_declareDefaults",this).call(this),this._defaults.tag="path"}},{key:"_draw",value:function(){(0,a.Z)((0,u.Z)(n.prototype),"_draw",this).call(this);var e=this._props,t=null!=e.radiusX?e.radiusX:e.radius,r=null!=e.radiusY?e.radiusY:e.radius,i=t===this._prevRadiusX,o=r===this._prevRadiusY,s=e.points===this._prevPoints;if(!(i&&o&&s)){var c=e.width/2,l=e.height/2,h=c+t,f="M".concat(c-t," ").concat(l," Q ").concat(c," ").concat(l-2*r," ").concat(h," ").concat(l);this.el.setAttribute("d",f),this._prevPoints=e.points,this._prevRadiusX=t,this._prevRadiusY=r}}},{key:"_getLength",value:function(){var e=this._props,t=null!=e.radiusX?e.radiusX:e.radius,n=null!=e.radiusY?e.radiusY:e.radius,r=t+n,i=Math.sqrt((3*t+n)*(t+3*n));return.5*Math.PI*(3*r-i)}}]),n}(n(623).Z)},854:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(671),i=n(144),a=n(752),o=n(340),s=n(963),u=n(120);var c=function(e){(0,o.Z)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"_declareDefaults",value:function(){(0,a.Z)((0,u.Z)(n.prototype),"_declareDefaults",this).call(this),this._defaults.tag="path",this._defaults.parent=null;for(var e=0;e<this._drawMap.length;e++)"stroke-width"===this._drawMap[e]&&this._drawMap.splice(e,1)}},{key:"getShape",value:function(){return""}},{key:"getLength",value:function(){return 100}},{key:"_draw",value:function(){var e=this._props,t=this._state,r=t.radiusX!==e.radiusX,i=t.radiusY!==e.radiusY,o=t.radius!==e.radius;(r||i||o)&&(this.el.setAttribute("transform",this._getScale()),t.radiusX=e.radiusX,t.radiusY=e.radiusY,t.radius=e.radius),this._setAttrIfChanged("stroke-width",e["stroke-width"]/e.maxScale),(0,a.Z)((0,u.Z)(n.prototype),"_draw",this).call(this)}},{key:"_render",value:function(){if(!this._isRendered){this._isRendered=!0,this._length=this.getLength();var e=this._props;e.parent.innerHTML='<svg id="js-mojs-shape-canvas" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink"><g id="js-mojs-shape-el">'.concat(this.getShape(),"</g></svg>"),this._canvas=e.parent.querySelector("#js-mojs-shape-canvas"),this.el=e.parent.querySelector("#js-mojs-shape-el"),this._setCanvasSize()}}},{key:"_getScale",value:function(){var e=this._props,t=e.radiusX?e.radiusX:e.radius,n=e.radiusY?e.radiusY:e.radius;e.scaleX=2*t/100,e.scaleY=2*n/100,e.maxScale=Math.max(e.scaleX,e.scaleY),e.shiftX=e.width/2-50*e.scaleX,e.shiftY=e.height/2-50*e.scaleY;var r="translate(".concat(e.shiftX,", ").concat(e.shiftY,")");return"".concat(r," scale(").concat(e.scaleX,", ").concat(e.scaleY,")")}},{key:"_getLength",value:function(){return this._length}}]),n}(n(623).Z)},342:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(671),i=n(144),a=n(340),o=n(963),s=n(752),u=n(120),c=n(52),l=n.n(c),h=n(755);var f=function(e){(0,a.Z)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._pushTimelineArray(t),this._calcDimentions(),this}},{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];l().isArray(a)?this._appendTimelineArray(a):this._appendTimeline(a,this._timelines.length),this._calcDimentions()}return this}},{key:"stop",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"stop",this).call(this,e),this._stopChildren(e),this}},{key:"reset",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"reset",this).call(this),this._resetChildren(),this}},{key:"_resetChildren",value:function(){for(var e=0;e<this._timelines.length;e++)this._timelines[e].reset()}},{key:"_stopChildren",value:function(e){for(var t=this._timelines.length-1;t>=0;t--)this._timelines[t].stop(e)}},{key:"_appendTimelineArray",value:function(e){for(var t=e.length,n=this._props.repeatTime-this._props.delay,r=this._timelines.length;t--;)this._appendTimeline(e[t],r,n)}},{key:"_appendTimeline",value:function(e,t,r){e.timeline instanceof n&&(e=e.timeline),e.tween instanceof h.Z&&(e=e.tween);var i=null!=r?r:this._props.duration;i+=e._props.shiftTime||0,e.index=t,this._pushTimeline(e,i)}},{key:"_pushTimelineArray",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];l().isArray(n)?this._pushTimelineArray(n):this._pushTimeline(n)}}},{key:"_pushTimeline",value:function(e,t){e.timeline instanceof n&&(e=e.timeline),e.tween instanceof h.Z&&(e=e.tween),null!=t&&e._setProp({shiftTime:t}),this._timelines.push(e),this._recalcDuration(e)}},{key:"_setProgress",value:function(e,t,n){this._updateChildren(e,t,n),h.Z.prototype._setProgress.call(this,e,t)}},{key:"_updateChildren",value:function(e,t,n){var r=t>this._prevTime?-1:1;this._props.isYoyo&&n&&(r*=-1);for(var i=this._props.startTime+e*this._props.duration,a=i+r,o=this._timelines.length,s=0;s<o;s++){var u=i>a?s:o-1-s;this._timelines[u]._update(i,a,this._prevYoyo,this._onEdge)}this._prevYoyo=n}},{key:"_recalcDuration",value:function(e){var t=e._props,n=t.repeatTime/t.speed+(t.shiftTime||0)+e._negativeShift;this._props.duration=Math.max(n,this._props.duration)}},{key:"_recalcTotalDuration",value:function(){var e=this._timelines.length;for(this._props.duration=0;e--;){var t=this._timelines[e];t._recalcTotalDuration&&t._recalcTotalDuration(),this._recalcDuration(t)}this._calcDimentions()}},{key:"_setStartTime",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,s.Z)((0,u.Z)(n.prototype),"_setStartTime",this).call(this,e),this._startTimelines(this._props.startTime,t)}},{key:"_startTimelines",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="stop"===this._state;null==e&&(e=this._props.startTime);for(var r=0;r<this._timelines.length;r++){var i=this._timelines[r];i._setStartTime(e,t),t||null==i._prevTime||n||(i._prevTime=i._normPrevTimeForward())}}},{key:"_refresh",value:function(e){for(var t=this._timelines.length,r=0;r<t;r++)this._timelines[r]._refresh(e);(0,s.Z)((0,u.Z)(n.prototype),"_refresh",this).call(this,e)}},{key:"_declareDefaults",value:function(){null!=this._o.duration&&(l().error('Duration can not be declared on Timeline, but "'.concat(this._o.duration,'" is. You probably want to use Tween instead.')),this._o.duration=0),(0,s.Z)((0,u.Z)(n.prototype),"_declareDefaults",this).call(this),this._defaults.duration=0,this._defaults.easing="Linear.None",this._defaults.backwardEasing="Linear.None",this._defaults.nameBase="Timeline"}},{key:"_vars",value:function(){this._timelines=[],(0,s.Z)((0,u.Z)(n.prototype),"_vars",this).call(this)}}]),n}(h.Z)},755:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(671),i=n(144),a=n(326),o=n(752),s=n(340),u=n(963),c=n(120),l=n(47),h=n(283),f=n.n(h);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var p=function(e){(0,s.Z)(n,e);var t=d(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,n),null==(e=t.call(this,i))._props.name&&e._setSelfName(),(0,u.Z)(e,(0,a.Z)(e))}return(0,i.Z)(n,[{key:"_declareDefaults",value:function(){this._defaults={duration:350,delay:0,repeat:0,speed:1,isYoyo:!1,easing:"Sin.Out",backwardEasing:null,name:null,nameBase:"Tween",onProgress:null,onStart:null,onRefresh:null,onComplete:null,onRepeatStart:null,onRepeatComplete:null,onFirstUpdate:null,onUpdate:null,isChained:!1,onPlaybackStart:null,onPlaybackPause:null,onPlaybackStop:null,onPlaybackComplete:null,callbacksContext:null}}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"play"===this._state&&this._isRunning||(this._props.isReversed=!1,this._subPlay(e,"play"),this._setPlaybackState("play")),this}},{key:"playBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"reverse"===this._state&&this._isRunning||(this._props.isReversed=!0,this._subPlay(e,"reverse"),this._setPlaybackState("reverse")),this}},{key:"pause",value:function(){return"pause"===this._state||"stop"===this._state||(this._removeFromTweener(),this._setPlaybackState("pause")),this}},{key:"stop",value:function(e){if("stop"===this._state)return this;this._wasUknownUpdate=void 0;var t=null!=e?e:"reverse"===this._state?1:0;return this.setProgress(t),this.reset(),this}},{key:"replay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.reset(),this.play(e),this}},{key:"replayBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.reset(),this.playBackward(e),this}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("pause"!==this._state)return this;switch(this._prevState){case"play":this.play(e);break;case"reverse":this.playBackward(e)}return this}},{key:"setProgress",value:function(e){var t=this._props;return!t.startTime&&this._setStartTime(),this._playTime=null,e<0&&(e=0),e>1&&(e=1),this._update(t.startTime-t.delay+e*t.repeatTime),this}},{key:"setSpeed",value:function(e){return this._props.speed=e,"play"!==this._state&&"reverse"!==this._state||this._setResumeTime(this._state),this}},{key:"reset",value:function(){return this._removeFromTweener(),this._setPlaybackState("stop"),this._progressTime=0,this._isCompleted=!1,this._isStarted=!1,this._isFirstUpdate=!1,this._wasUknownUpdate=void 0,this._prevTime=void 0,this._prevYoyo=void 0,this._props.isReversed=!1,this}},{key:"_subPlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=this._props,r=this._state,i=this._prevState,a="pause"===r,o=("play"===r||a&&"play"===i)&&"reverse"===t||("reverse"===r||a&&"reverse"===i)&&"play"===t;return this._progressTime=this._progressTime>=n.repeatTime?0:this._progressTime,o&&(this._progressTime=n.repeatTime-this._progressTime),this._setResumeTime(t,e),l.Z.add(this),this}},{key:"_setResumeTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._resumeTime=performance.now();var n=this._resumeTime-Math.abs(t)-this._progressTime;this._setStartTime(n,!1),null!=this._prevTime&&(this._prevTime="play"===e?this._normPrevTimeForward():this._props.endTime-this._progressTime)}},{key:"_normPrevTimeForward",value:function(){var e=this._props;return e.startTime+this._progressTime-e.delay}},{key:"_setSelfName",value:function(){var e="_".concat(this._props.nameBase,"s");l.Z[e]=null==l.Z[e]?1:++l.Z[e],this._props.name="".concat(this._props.nameBase," ").concat(l.Z[e])}},{key:"_setPlaybackState",value:function(e){this._prevState=this._state,this._state=e;var t="pause"===this._prevState,n="stop"===this._prevState,r="play"===this._prevState,i="reverse"===this._prevState,a=r||i;"play"!==e&&"reverse"!==e||!(n||t)||this._playbackStart(),"pause"===e&&a&&this._playbackPause(),"stop"===e&&(a||t)&&this._playbackStop()}},{key:"_vars",value:function(){return this.progress=0,this._prevTime=void 0,this._progressTime=0,this._negativeShift=0,this._state="stop",this._props.delay<0&&(this._negativeShift=this._props.delay,this._props.delay=0),this._calcDimentions()}},{key:"_calcDimentions",value:function(){this._props.time=this._props.duration+this._props.delay,this._props.repeatTime=this._props.time*(this._props.repeat+1)}},{key:"_extendDefaults",value:function(){this._callbackOverrides=this._o.callbackOverrides||{},delete this._o.callbackOverrides,(0,o.Z)((0,c.Z)(n.prototype),"_extendDefaults",this).call(this);var e=this._props;e.easing=f().parseEasing(e.easing),e.easing._parent=this,null!=e.backwardEasing&&(e.backwardEasing=f().parseEasing(e.backwardEasing),e.backwardEasing._parent=this)}},{key:"_setStartTime",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._props,r=n.shiftTime||0;t&&(this._isCompleted=!1,this._isRepeatCompleted=!1,this._isStarted=!1);var i=null==e?performance.now():e;return n.startTime=i+n.delay+this._negativeShift+r,n.endTime=n.startTime+n.repeatTime-n.delay,this._playTime=null!=this._resumeTime?this._resumeTime:i+r,this._resumeTime=null,this}},{key:"_update",value:function(e,t,n,r){var i=this._props;null==this._prevTime&&null!=t&&(this._props.speed&&this._playTime&&(this._prevTime=this._playTime+this._props.speed*(t-this._playTime)),this._wasUknownUpdate=!0);var a=i.startTime-i.delay;if(i.speed&&this._playTime&&(e=this._playTime+i.speed*(e-this._playTime)),Math.abs(i.endTime-e)<1e-8&&(e=i.endTime),r&&null!=n){var o=this._getPeriod(e),s=!(!i.isYoyo||!this._props.repeat||o%2!=1);if(this._timelines)for(var u=0;u<this._timelines.length;u++)this._timelines[u]._update(e,t,n,r);1===r?n?(this._prevTime=e+1,this._repeatStart(e,s),this._start(e,s)):(this._prevTime=e-1,this._repeatComplete(e,s),this._complete(e,s)):-1===r&&(n?(this._prevTime=e-1,this._repeatComplete(e,s),this._complete(e,s)):this._prevTime>=i.startTime&&this._prevTime<=i.endTime&&(this._prevTime=e+1,this._repeatStart(e,s),this._start(e,s),this._isCompleted=!0)),this._prevTime=void 0}return e>a&&e<i.endTime?this._progressTime=e-a:e<=a?this._progressTime=0:e>=i.endTime&&(this._progressTime=i.repeatTime+1e-11),i.isReversed&&(e=i.endTime-this._progressTime),null==this._prevTime?(this._prevTime=e,this._wasUknownUpdate=!0,!1):(e>=a&&e<=i.endTime&&this._progress((e-a)/i.repeatTime,e),e>=i.startTime&&e<=i.endTime?this._updateInActiveArea(e):this._isInActiveArea?this._updateInInactiveArea(e):this._isRefreshed||e<i.startTime&&0!==this.progress&&(this._refresh(!0),this._isRefreshed=!0),this._prevTime=e,e>=i.endTime||e<=a)}},{key:"_updateInInactiveArea",value:function(e){if(this._isInActiveArea){var t=this._props;if(e>t.endTime&&!this._isCompleted){this._progress(1,e);var n=this._getPeriod(t.endTime),r=t.isYoyo&&n%2==0;this._setProgress(r?0:1,e,r),this._repeatComplete(e,r),this._complete(e,r)}e<this._prevTime&&e<t.startTime&&!this._isStarted&&!this._isCompleted&&(this._progress(0,e,!1),this._setProgress(0,e,!1),this._isRepeatStart=!1,this._repeatStart(e,!1),this._start(e,!1)),this._isInActiveArea=!1}}},{key:"_updateInActiveArea",value:function(e){var t=this._props,n=t.delay+t.duration,r=t.startTime-t.delay,i=(e-t.startTime+t.delay)%n,a=Math.round((t.endTime-t.startTime+t.delay)/n),o=this._getPeriod(e),s=this._delayT,u=this._getPeriod(this._prevTime),c=this._delayT,l=t.isYoyo&&o%2==1,h=t.isYoyo&&u%2==1,f=l?1:0;if(e===t.endTime)return this._wasUknownUpdate=!1,l=t.isYoyo&&(o-1)%2==1,this._setProgress(l?0:1,e,l),e>this._prevTime&&(this._isRepeatCompleted=!1),this._repeatComplete(e,l),this._complete(e,l);if(this._isCompleted=!1,this._isRefreshed=!1,r+i>=t.startTime){this._isInActiveArea=!0,this._isRepeatCompleted=!1,this._isRepeatStart=!1,this._isStarted=!1;var d=(e-t.startTime)%n/t.duration,p=o>0&&u<o,v=u>o;if(this._onEdge=0,p&&(this._onEdge=1),v&&(this._onEdge=-1),this._wasUknownUpdate&&(e>this._prevTime&&(this._start(e,l),this._repeatStart(e,l),this._firstUpdate(e,l)),e<this._prevTime&&(this._complete(e,l),this._repeatComplete(e,l),this._firstUpdate(e,l),this._isCompleted=!1)),p){if(1!==this.progress){var y=t.isYoyo&&(o-1)%2==1;this._repeatComplete(e,y)}u>=0&&this._repeatStart(e,l)}e>this._prevTime&&(!this._isStarted&&this._prevTime<=t.startTime&&(this._start(e,l),this._repeatStart(e,l),this._isStarted=!1,this._isRepeatStart=!1),this._firstUpdate(e,l)),v&&(0!==this.progress&&1!==this.progress&&u!=a&&this._repeatStart(e,h),u!==a||this._wasUknownUpdate||(this._complete(e,l),this._repeatComplete(e,l),this._firstUpdate(e,l),this._isCompleted=!1),this._repeatComplete(e,l)),"delay"===u&&(o<c&&this._repeatComplete(e,l),o===c&&o>0&&this._repeatStart(e,l)),e>this._prevTime?(0===d&&this._repeatStart(e,l),e!==t.endTime&&this._setProgress(l?1-d:d,e,l)):(e!==t.endTime&&this._setProgress(l?1-d:d,e,l),0===d&&this._repeatStart(e,l)),e===t.startTime&&this._start(e,l)}else if(this._isInActiveArea){var m="delay"===o?s:o,g=e>this._prevTime;g&&m--,f=t.isYoyo&&m%2==1?1:0,e<this._prevTime&&(this._setProgress(f,e,1===f),this._repeatStart(e,1===f)),this._setProgress(g?1-f:f,e,1===f),e>this._prevTime&&(0===this.progress&&1!==f||this._repeatComplete(e,1===f)),this._isInActiveArea=!1}this._wasUknownUpdate=!1}},{key:"_removeFromTweener",value:function(){return l.Z.remove(this),this}},{key:"_getPeriod",value:function(e){var t=this._props,n=t.delay+t.duration,r=t.delay+e-t.startTime,i=r/n,a=e<t.endTime?r%n:0;return i=e>=t.endTime?Math.round(i):Math.floor(i),e>t.endTime?i=Math.round((t.endTime-t.startTime+t.delay)/n):a>0&&a<t.delay&&(this._delayT=i,i="delay"),i}},{key:"_setProgress",value:function(e,t,n){var r=this._props,i=r.wasYoyo!==n,a=t>this._prevTime;if(this.progress=e,a&&!n||!a&&n)this.easedProgress=r.easing(e);else if(!a&&!n||a&&n){var o=null!=r.backwardEasing?r.backwardEasing:r.easing;this.easedProgress=o(e)}return(r.prevEasedProgress!==this.easedProgress||i)&&null!=r.onUpdate&&"function"==typeof r.onUpdate&&r.onUpdate.call(r.callbacksContext||this,this.easedProgress,this.progress,a,n),r.prevEasedProgress=this.easedProgress,r.wasYoyo=n,this}},{key:"_start",value:function(e,t){if(!this._isStarted){var n=this._props;null!=n.onStart&&"function"==typeof n.onStart&&n.onStart.call(n.callbacksContext||this,e>this._prevTime,t),this._isCompleted=!1,this._isStarted=!0,this._isFirstUpdate=!1}}},{key:"_playbackStart",value:function(){var e=this._props;null!=e.onPlaybackStart&&"function"==typeof e.onPlaybackStart&&e.onPlaybackStart.call(e.callbacksContext||this)}},{key:"_playbackPause",value:function(){var e=this._props;null!=e.onPlaybackPause&&"function"==typeof e.onPlaybackPause&&e.onPlaybackPause.call(e.callbacksContext||this)}},{key:"_playbackStop",value:function(){var e=this._props;null!=e.onPlaybackStop&&"function"==typeof e.onPlaybackStop&&e.onPlaybackStop.call(e.callbacksContext||this)}},{key:"_playbackComplete",value:function(){var e=this._props;null!=e.onPlaybackComplete&&"function"==typeof e.onPlaybackComplete&&e.onPlaybackComplete.call(e.callbacksContext||this)}},{key:"_complete",value:function(e,t){if(!this._isCompleted){var n=this._props;null!=n.onComplete&&"function"==typeof n.onComplete&&n.onComplete.call(n.callbacksContext||this,e>this._prevTime,t),this._isCompleted=!0,this._isStarted=!1,this._isFirstUpdate=!1,this._prevYoyo=void 0}}},{key:"_firstUpdate",value:function(e,t){if(!this._isFirstUpdate){var n=this._props;null!=n.onFirstUpdate&&"function"==typeof n.onFirstUpdate&&(n.onFirstUpdate.tween=this,n.onFirstUpdate.call(n.callbacksContext||this,e>this._prevTime,t)),this._isFirstUpdate=!0}}},{key:"_repeatComplete",value:function(e,t){if(!this._isRepeatCompleted){var n=this._props;null!=n.onRepeatComplete&&"function"==typeof n.onRepeatComplete&&n.onRepeatComplete.call(n.callbacksContext||this,e>this._prevTime,t),this._isRepeatCompleted=!0}}},{key:"_repeatStart",value:function(e,t){if(!this._isRepeatStart){var n=this._props;null!=n.onRepeatStart&&"function"==typeof n.onRepeatStart&&n.onRepeatStart.call(n.callbacksContext||this,e>this._prevTime,t),this._isRepeatStart=!0}}},{key:"_progress",value:function(e,t){var n=this._props;null!=n.onProgress&&"function"==typeof n.onProgress&&n.onProgress.call(n.callbacksContext||this,e,t>this._prevTime)}},{key:"_refresh",value:function(e){var t=this._props;if(null!=t.onRefresh){var n=t.callbacksContext||this,r=e?0:1;t.onRefresh.call(n,e,t.easing(r),r)}}},{key:"_onTweenerRemove",value:function(){}},{key:"_onTweenerFinish",value:function(){this._setPlaybackState("stop"),this._playbackComplete()}},{key:"_setProp",value:function(e,t){(0,o.Z)((0,c.Z)(n.prototype),"_setProp",this).call(this,e,t),this._calcDimentions()}},{key:"_assignProp",value:function(e,t){null==t&&(t=this._defaults[e]),"easing"===e&&((t=f().parseEasing(t))._parent=this);var r=this._callbackOverrides[e],i=!t||!t.isMojsCallbackOverride;r&&i&&(t=this._overrideCallback(t,r)),(0,o.Z)((0,c.Z)(n.prototype),"_assignProp",this).call(this,e,t)}},{key:"_overrideCallback",value:function(e,t){var n=e&&"function"==typeof e,r=function(){n&&e.apply(this,arguments),t.apply(this,arguments)};return r.isMojsCallbackOverride=!0,r}}]),n}(n(973).Z)},47:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(671),i=n(144),a=new(function(){function e(){return(0,r.Z)(this,e),this._vars(),this._listenVisibilityChange(),this}return(0,i.Z)(e,[{key:"_vars",value:function(){this.tweens=[],this._savedTweens=[],this._loop=this._loop.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this)}},{key:"_loop",value:function(){return!!this._isRunning&&(this._update(window.performance.now()),this.tweens.length?(requestAnimationFrame(this._loop),this):this._isRunning=!1)}},{key:"_startLoop",value:function(){this._isRunning||(this._isRunning=!0,requestAnimationFrame(this._loop))}},{key:"_stopLoop",value:function(){this._isRunning=!1}},{key:"_update",value:function(e){for(var t=this.tweens.length;t--;){var n=this.tweens[t];n&&!0===n._update(e)&&(this.remove(n),n._onTweenerFinish(),n._prevTime=void 0)}}},{key:"add",value:function(e){e._isRunning||(e._isRunning=!0,this.tweens.push(e),this._startLoop())}},{key:"removeAll",value:function(){this.tweens.length=0}},{key:"remove",value:function(e){var t="number"==typeof e?e:this.tweens.indexOf(e);-1!==t&&(e=this.tweens[t])&&(e._isRunning=!1,this.tweens.splice(t,1),e._onTweenerRemove())}},{key:"_listenVisibilityChange",value:function(){void 0!==document.hidden?(this._visibilityHidden="hidden",this._visibilityChange="visibilitychange"):void 0!==document.mozHidden?(this._visibilityHidden="mozHidden",this._visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(this._visibilityHidden="msHidden",this._visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this._visibilityHidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),document.addEventListener(this._visibilityChange,this._onVisibilityChange,!1)}},{key:"_onVisibilityChange",value:function(){document[this._visibilityHidden]?this._savePlayingTweens():this._restorePlayingTweens()}},{key:"_savePlayingTweens",value:function(){this._savedTweens=this.tweens.slice(0);for(var e=0;e<this._savedTweens.length;e++)this._savedTweens[e].pause()}},{key:"_restorePlayingTweens",value:function(){for(var e=0;e<this._savedTweens.length;e++)this._savedTweens[e].resume()}}]),e}())},977:function(e,t,n){var r,i;i=n(52),r=new(function(){function e(e){return this.vars(),this.generate}return e.prototype.vars=function(){return this.generate=i.bind(this.generate,this)},e.prototype.generate=function(e,t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,y,m,g,b,_,k;if(arguments.length<4)return this.error("Bezier function expects 4 arguments");for(v=y=0;y<4;v=++y)if("number"!=typeof(s=arguments[v])||isNaN(s)||!isFinite(s))return this.error("Bezier function expects 4 arguments");return e<0||e>1||n<0||n>1?this.error("Bezier x values should be > 0 and < 1"):(4,.001,1e-7,10,m=1/(11-1),f=!!Float32Array,i=function(e,t){return 1-3*t+3*e},a=function(e,t){return 3*t-6*e},o=function(e){return 3*e},c=function(e,t,n){return((i(t,n)*e+a(t,n))*e+o(t))*e},d=function(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+o(t)},b=function(t,r){var i;for(v=0;v<4;){if(0===(i=d(r,e,n)))return r;r-=(c(r,e,n)-t)/i,++v}return r},l=function(){for(v=0;v<11;)g[v]=c(v*m,e,n),++v},u=function(t,r,i){var a,o;for(o=void 0,a=void 0,v=0;(o=c(a=r+(i-r)/2,e,n)-t)>0?i=a:r=a,Math.abs(o)>1e-7&&++v<10;);return a},p=function(t){var r,i,a,o,s,c;for(c=0,r=1,10;10!==r&&g[r]<=t;)c+=m,++r;return i=g[--r+1]-g[r],a=(t-g[r])/i,(s=d(o=c+a*m,e,n))>=.001?b(t,o):0===s?o:u(t,c,c+m)},_=function(){if(e!==t||n!==r)return l()},g=f?new Float32Array(11):new Array(11),!1,k="bezier("+[e,t,n,r]+")",(h=function(i){return _(),e===t&&n===r?i:0===i?0:1===i?1:c(p(i),t,r)}).toStr=function(){return k},h)},e.prototype.error=function(e){return i.error(e)},e}()),e.exports=r},283:function(e,t,n){var r,i,a,o,s,u,c,l,h;c=n(52),s=n(977),a=n(162),l=n(440),o=n(50).Z,h=Math.sin,i=Math.PI,r=function(){function e(){}return e.prototype.bezier=s,e.prototype.PathEasing=a,e.prototype.path=new a("creator").create,e.prototype.approximate=o,e.prototype.inverse=function(e){return 1-e},e.prototype.linear={none:function(e){return e}},e.prototype.ease={in:s.apply(e,[.42,0,1,1]),out:s.apply(e,[0,0,.58,1]),inout:s.apply(e,[.42,0,.58,1])},e.prototype.sin={in:function(e){return 1-Math.cos(e*i/2)},out:function(e){return h(e*i/2)},inout:function(e){return.5*(1-Math.cos(i*e))}},e.prototype.quad={in:function(e){return e*e},out:function(e){return e*(2-e)},inout:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},e.prototype.cubic={in:function(e){return e*e*e},out:function(e){return--e*e*e+1},inout:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},e.prototype.quart={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inout:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},e.prototype.quint={in:function(e){return e*e*e*e*e},out:function(e){return--e*e*e*e*e+1},inout:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},e.prototype.expo={in:function(e){return 0===e?0:Math.pow(1024,e-1)},out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inout:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},e.prototype.circ={in:function(e){return 1-Math.sqrt(1-e*e)},out:function(e){return Math.sqrt(1- --e*e)},inout:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},e.prototype.back={in:function(e){return e*e*((1+1.70158)*e-1.70158)},out:function(e){return--e*e*((1+1.70158)*e+1.70158)+1},inout:function(e){var t;return t=2.5949095,(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},e.prototype.elastic={in:function(e){return 0===e?0:1===e?1:-1*Math.pow(2,10*(e-=1))*Math.sin((e-.1)*(2*Math.PI)/.4)},out:function(e){return 0===e?0:1===e?1:1*Math.pow(2,-10*e)*Math.sin((e-.1)*(2*Math.PI)/.4)+1},inout:function(e){return 0===e?0:1===e?1:(e*=2)<1?1*Math.pow(2,10*(e-=1))*Math.sin((e-.1)*(2*Math.PI)/.4)*-.5:1*Math.pow(2,-10*(e-=1))*Math.sin((e-.1)*(2*Math.PI)/.4)*.5+1}},e.prototype.bounce={in:function(e){return 1-u.bounce.out(1-e)},out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},inout:function(e){return e<.5?.5*u.bounce.in(2*e):.5*u.bounce.out(2*e-1)+.5}},e.prototype.parseEasing=function(e){var t;return null==e&&(e="linear.none"),"string"==typeof e?"m"===e.charAt(0).toLowerCase()?this.path(e):(t=this[(e=this._splitEasing(e))[0]])?t[e[1]]:(c.error('Easing with name "'+e[0]+'" was not found, fallback to "linear.none" instead'),this.linear.none):c.isArray(e)?this.bezier.apply(this,e):e},e.prototype._splitEasing=function(e){var t;return"function"==typeof e?e:"string"==typeof e&&e.length?[(t=e.split("."))[0].toLowerCase()||"linear",t[1].toLowerCase()||"none"]:["linear","none"]},e}(),(u=new r).mix=l(u),e.exports=u},440:function(e){var t,n,r,i,a,o,s=[].slice;n=null,a=function(e){return"number"==typeof e.value?e.value:n.parseEasing(e.value)},o=function(e,t){var n;return e.value=a(e),t.value=a(t),n=0,e.to<t.to&&(n=-1),e.to>t.to&&(n=1),n},r=function(e,t){var n,r,i,a;for(r=0,n=i=0,a=e.length;i<a&&(r=n,!(e[n].to>t));n=++i);return r},i=function(){var e;return(e=1<=arguments.length?s.call(arguments,0):[]).length>1?e=e.sort(o):e[0].value=a(e[0]),function(t){var n,i;if(-1!==(n=r(e,t)))return i=e[n].value,n===e.length-1&&t>e[n].to?1:"function"==typeof i?i(t):i}},t=function(e){return n=e,i},e.exports=t},162:function(e,t,n){var r,i;i=n(52),r=function(){function e(e,t){if(this.o=null!=t?t:{},"creator"!==e){if(this.path=i.parsePath(e),null==this.path)return i.error("Error while parsing the path");this._vars(),this.path.setAttribute("d",this._normalizePath(this.path.getAttribute("d"))),this.pathLength=this.path.getTotalLength(),this.sample=i.bind(this.sample,this),this._hardSample=i.bind(this._hardSample,this),this._preSample()}}return e.prototype._vars=function(){return this._precompute=i.clamp(this.o.precompute||1450,100,1e4),this._step=1/this._precompute,this._rect=this.o.rect||100,this._approximateMax=this.o.approximateMax||5,this._eps=this.o.eps||.001,this._boundsPrevProgress=-1},e.prototype._preSample=function(){var e,t,n,r,i,a,o;for(this._samples=[],o=[],e=t=0,a=this._precompute;0<=a?t<=a:t>=a;e=0<=a?++t:--t)i=e*this._step,n=this.pathLength*i,r=this.path.getPointAtLength(n),o.push(this._samples[e]={point:r,length:n,progress:i});return o},e.prototype._findBounds=function(e,t){var n,r,i,a,o,s,u,c,l,h,f,d,p;if(t===this._boundsPrevProgress)return this._prevBounds;for(null==this._boundsStartIndex&&(this._boundsStartIndex=0),s=e.length,this._boundsPrevProgress>t?(u=0,r="reverse"):(u=s,r="forward"),"forward"===r?(d=e[0],i=e[e.length-1]):(d=e[e.length-1],i=e[0]),a=o=h=this._boundsStartIndex,f=u;h<=f?o<f:o>f;a=h<=f?++o:--o){if(l=(p=e[a]).point.x/this._rect,c=t,"reverse"===r&&(n=l,l=c,c=n),!(l<c)){i=p;break}d=p,this._boundsStartIndex=a}return this._boundsPrevProgress=t,this._prevBounds={start:d,end:i}},e.prototype.sample=function(e){var t,n;return e=i.clamp(e,0,1),t=this._findBounds(this._samples,e),null!=(n=this._checkIfBoundsCloseEnough(e,t))?n:this._findApproximate(e,t.start,t.end)},e.prototype._checkIfBoundsCloseEnough=function(e,t){var n;return null!=(n=this._checkIfPointCloseEnough(e,t.start.point))?n:this._checkIfPointCloseEnough(e,t.end.point)},e.prototype._checkIfPointCloseEnough=function(e,t){if(i.closeEnough(e,t.x/this._rect,this._eps))return this._resolveY(t)},e.prototype._approximate=function(e,t,n){var r,i;return r=t.point.x-e.point.x,i=(n-e.point.x/this._rect)/(r/this._rect),e.length+i*(t.length-e.length)},e.prototype._findApproximate=function(e,t,n,r){var a,o,s,u,c;return null==r&&(r=this._approximateMax),a=this._approximate(t,n,e),c=(u=this.path.getPointAtLength(a)).x/this._rect,i.closeEnough(e,c,this._eps)||--r<1?this._resolveY(u):(s={point:u,length:a},o=e<c?[e,t,s,r]:[e,s,n,r],this._findApproximate.apply(this,o))},e.prototype._resolveY=function(e){return 1-e.y/this._rect},e.prototype._normalizePath=function(e){var t,n,r,i;return i=/[M|L|H|V|C|S|Q|T|A]/gim,(r=e.split(i)).shift(),t=e.match(i),r[0]=this._normalizeSegment(r[0]),r[n=r.length-1]=this._normalizeSegment(r[n],this._rect||100),this._joinNormalizedPath(t,r)},e.prototype._joinNormalizedPath=function(e,t){var n,r,i,a;for(a="",n=r=0,i=e.length;r<i;n=++r)a+=(0===n?"":" ")+e[n]+t[n].trim();return a},e.prototype._normalizeSegment=function(e,t){var n,r,i,a,o,s,u,c;if(null==t&&(t=0),e=e.trim(),o=/(-|\+)?((\d+(\.(\d|\e(-|\+)?)+)?)|(\.?(\d|\e|(\-|\+))+))/gim,c=(i=(s=this._getSegmentPairs(e.match(o)))[s.length-1])[0],Number(c)!==t)for(e="",i[0]=t,n=r=0,a=s.length;r<a;n=++r)e+=(0===n?"":" ")+(u=s[n])[0]+","+u[1];return e},e.prototype._getSegmentPairs=function(e){var t,n,r,a,o;for(e.length%2!=0&&i.error("Failed to parse the path - segment pairs are not even.",e),a=[],t=n=0,r=e.length;n<r;t=n+=2)e[t],o=[e[t],e[t+1]],a.push(o);return a},e.prototype.create=function(t,n){var r;return(r=new e(t,n)).sample.path=r.path,r.sample},e}(),e.exports=r},52:function(e){var t,n;t=function(){function e(){this.vars()}return e.prototype.NS="http://www.w3.org/2000/svg",e.prototype.logBadgeCss="background:#3A0839;color:#FF512F;border-radius:5px; padding: 1px 5px 2px; border: 1px solid #FF512F;",e.prototype.shortColors={transparent:"rgba(0,0,0,0)",none:"rgba(0,0,0,0)",aqua:"rgb(0,255,255)",black:"rgb(0,0,0)",blue:"rgb(0,0,255)",fuchsia:"rgb(255,0,255)",gray:"rgb(128,128,128)",green:"rgb(0,128,0)",lime:"rgb(0,255,0)",maroon:"rgb(128,0,0)",navy:"rgb(0,0,128)",olive:"rgb(128,128,0)",purple:"rgb(128,0,128)",red:"rgb(255,0,0)",silver:"rgb(192,192,192)",teal:"rgb(0,128,128)",white:"rgb(255,255,255)",yellow:"rgb(255,255,0)",orange:"rgb(255,128,0)"},e.prototype.chainOptionMap={},e.prototype.callbacksMap={onRefresh:1,onStart:1,onComplete:1,onFirstUpdate:1,onUpdate:1,onProgress:1,onRepeatStart:1,onRepeatComplete:1,onPlaybackStart:1,onPlaybackPause:1,onPlaybackStop:1,onPlaybackComplete:1},e.prototype.tweenOptionMap={duration:1,delay:1,speed:1,repeat:1,easing:1,backwardEasing:1,isYoyo:1,shiftTime:1,isReversed:1,callbacksContext:1},e.prototype.unitOptionMap={left:1,top:1,x:1,y:1,rx:1,ry:1},e.prototype.RAD_TO_DEG=180/Math.PI,e.prototype.vars=function(){var e;return this.prefix=this.getPrefix(),this.getRemBase(),this.isFF="moz"===this.prefix.lowercase,this.isIE="ms"===this.prefix.lowercase,e=navigator.userAgent,this.isOldOpera=e.match(/presto/gim),this.isSafari=e.indexOf("Safari")>-1,this.isChrome=e.indexOf("Chrome")>-1,this.isOpera=e.toLowerCase().indexOf("op")>-1,this.isChrome&&this.isSafari&&(this.isSafari=!1),e.match(/PhantomJS/gim)&&(this.isSafari=!1),this.isChrome&&this.isOpera&&(this.isChrome=!1),this.is3d=this.checkIf3d(),this.uniqIDs=-1,this.div=document.createElement("div"),document.body.appendChild(this.div),this.defaultStyles=this.computedStyle(this.div)},e.prototype.cloneObj=function(e,t){var n,r,i,a;for(a={},n=(i=Object.keys(e)).length;n--;)r=i[n],null!=t&&t[r]||(a[r]=e[r]);return a},e.prototype.extend=function(e,t){var n;for(n in t)t[n],null==e[n]&&(e[n]=t[n]);return e},e.prototype.getRemBase=function(){var e,t;return e=document.querySelector("html"),t=getComputedStyle(e),this.remBase=parseFloat(t.fontSize)},e.prototype.clamp=function(e,t,n){return e<t?t:e>n?n:e},e.prototype.setPrefixedStyle=function(e,t,n){return"transform"===t&&(e.style[""+this.prefix.css+t]=n),e.style[t]=n},e.prototype.style=function(e,t,n){var r,i,a,o;if("object"==s(t)){for(a=(i=Object.keys(t)).length,o=[];a--;)n=t[r=i[a]],o.push(this.setPrefixedStyle(e,r,n));return o}return this.setPrefixedStyle(e,t,n)},e.prototype.prepareForLog=function(e){return(e=Array.prototype.slice.apply(e)).unshift("::"),e.unshift(this.logBadgeCss),e.unshift("%cmo\xb7js%c"),e},e.prototype.log=function(){if(!1!==mojs.isDebug)return console.log.apply(console,this.prepareForLog(arguments))},e.prototype.warn=function(){if(!1!==mojs.isDebug)return console.warn.apply(console,this.prepareForLog(arguments))},e.prototype.error=function(){if(!1!==mojs.isDebug)return console.error.apply(console,this.prepareForLog(arguments))},e.prototype.parseUnit=function(e){var t,n,r,i,a;return"number"==typeof e?{unit:"px",isStrict:!1,value:e,string:0===e?""+e:e+"px"}:"string"==typeof e?(i=/px|%|rem|em|ex|cm|ch|mm|in|pt|pc|vh|vw|vmin|deg/gim,n=!0,(a=null!=(r=e.match(i))?r[0]:void 0)||(a="px",n=!1),{unit:a,isStrict:n,value:t=parseFloat(e),string:0===t?""+t:""+t+a}):e},e.prototype.bind=function(e,t){var n,r;return r=function(){var r,i;return r=Array.prototype.slice.call(arguments),i=n.concat(r),e.apply(t,i)},n=Array.prototype.slice.call(arguments,2),r},e.prototype.getRadialPoint=function(e){var t,n,r;return null==e&&(e={}),t=.017453292519943295*(e.rotate-90),n=null!=e.radiusX?e.radiusX:e.radius,r=null!=e.radiusY?e.radiusY:e.radius,{x:e.center.x+Math.cos(t)*n,y:e.center.y+Math.sin(t)*r}},e.prototype.getPrefix=function(){var e,t,n;return n=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(n).join("").match(/-(moz|webkit|ms)-/)||""===n.OLink&&["","o"])[1],{dom:null!=(t="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i")))?t[1]:void 0,lowercase:e,css:"-"+e+"-",js:(null!=e?e[0].toUpperCase():void 0)+(null!=e?e.substr(1):void 0)}},e.prototype.strToArr=function(e){var t,n;return t=[],"number"!=typeof e||isNaN(e)?(e.trim().split(/\s+/gim).forEach((n=this,function(e){return t.push(n.parseUnit(n.parseIfRand(e)))})),t):(t.push(this.parseUnit(e)),t)},e.prototype.calcArrDelta=function(e,t){var n,r,i,a;for(n=[],r=i=0,a=e.length;i<a;r=++i)e[r],n[r]=this.parseUnit(""+(t[r].value-e[r].value)+t[r].unit);return n},e.prototype.isArray=function(e){return e instanceof Array},e.prototype.normDashArrays=function(e,t){var n,r,i,a,o,s,u,c,l,h;if((n=e.length)>(r=t.length))for(u=n-r,h=t.length,a=o=0,c=u;0<=c?o<c:o>c;a=0<=c?++o:--o)i=a+h,t.push(this.parseUnit("0"+e[i].unit));else if(r>n)for(u=r-n,h=e.length,a=s=0,l=u;0<=l?s<l:s>l;a=0<=l?++s:--s)i=a+h,e.push(this.parseUnit("0"+t[i].unit));return[e,t]},e.prototype.makeColorObj=function(e){var t,n,r,i,a,o,s,u;return"#"===e[0]&&(r={},(s=/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(e))&&(o=2===s[1].length?s[1]:s[1]+s[1],i=2===s[2].length?s[2]:s[2]+s[2],n=2===s[3].length?s[3]:s[3]+s[3],r={r:parseInt(o,16),g:parseInt(i,16),b:parseInt(n,16),a:1})),"#"!==e[0]&&((a="r"===e[0]&&"g"===e[1]&&"b"===e[2])&&(u=e),a||(u=this.shortColors[e]?this.shortColors[e]:(this.div.style.color=e,this.computedStyle(this.div).color)),s=new RegExp("^rgba?\\((\\d{1,3}),\\s?(\\d{1,3}),\\s?(\\d{1,3}),?\\s?(\\d{1}|0?\\.\\d{1,})?\\)$","gi").exec(u),r={},t=parseFloat(s[4]||1),s&&(r={r:parseInt(s[1],10),g:parseInt(s[2],10),b:parseInt(s[3],10),a:null==t||isNaN(t)?1:t})),r},e.prototype.computedStyle=function(e){return getComputedStyle(e)},e.prototype.capitalize=function(e){if("string"!=typeof e)throw Error("String expected - nothing to capitalize");return e.charAt(0).toUpperCase()+e.substring(1)},e.prototype.parseRand=function(e){var t,n,r;return n=e.split(/rand\(|\,|\)/),r=this.parseUnit(n[2]),t=this.rand(parseFloat(n[1]),parseFloat(n[2])),r.unit&&n[2].match(r.unit)?t+r.unit:t},e.prototype.parseStagger=function(e,t){var n,r,i,a,o,s;return i=(s=e.split(/stagger\(|\)$/)[1].toLowerCase()).split(/(rand\(.*?\)|[^\(,\s]+)(?=\s*,|\s*$)/gim),s=i.length>3?(n=this.parseUnit(this.parseIfRand(i[1])),i[3]):(n=this.parseUnit(0),i[1]),s=this.parseIfRand(s),r=t*(o=this.parseUnit(s)).value+n.value,(a=n.isStrict?n.unit:o.isStrict?o.unit:"")?""+r+a:r},e.prototype.parseIfStagger=function(e,t){return"string"==typeof e&&e.match(/stagger/g)?this.parseStagger(e,t):e},e.prototype.parseIfRand=function(e){return"string"==typeof e&&e.match(/rand\(/)?this.parseRand(e):e},e.prototype.parseDelta=function(e,t,n){var r,i,a,o,s,u,c,l,h,f,d,p;if(null!=(a=(t=this.cloneObj(t)).easing)&&(a=mojs.easing.parseEasing(a)),delete t.easing,null!=(r=t.curve)&&(r=mojs.easing.parseEasing(r)),delete t.curve,o=t[f=Object.keys(t)[0]],i={start:f},!isNaN(parseFloat(f))||f.match(/rand\(/)||f.match(/stagger\(/))if("strokeDasharray"===e||"strokeDashoffset"===e||"origin"===e){for(d=this.strToArr(f),s=this.strToArr(o),this.normDashArrays(d,s),c=l=0,h=d.length;l<h;c=++l)f=d[c],o=s[c],this.mergeUnits(f,o,e);i={type:"array",name:e,start:d,end:s,delta:this.calcArrDelta(d,s),easing:a,curve:r}}else this.callbacksMap[e]||this.tweenOptionMap[e]||(this.unitOptionMap[e]?(o=this.parseUnit(this.parseStringOption(o,n)),f=this.parseUnit(this.parseStringOption(f,n)),this.mergeUnits(f,o,e),i={type:"unit",name:e,start:f,end:o,delta:o.value-f.value,easing:a,curve:r}):(o=parseFloat(this.parseStringOption(o,n)),i={type:"number",name:e,start:f=parseFloat(this.parseStringOption(f,n)),end:o,delta:o-f,easing:a,curve:r}));else{if("strokeLinecap"===e)return this.warn("Sorry, stroke-linecap property is not animatable yet, using the start("+f+") value instead",t),i;i={type:"color",name:e,start:p=this.makeColorObj(f),end:u=this.makeColorObj(o),easing:a,curve:r,delta:{r:u.r-p.r,g:u.g-p.g,b:u.b-p.b,a:u.a-p.a}}}return i},e.prototype.mergeUnits=function(e,t,n){return!t.isStrict&&e.isStrict?(t.unit=e.unit,t.string=""+t.value+t.unit):t.isStrict&&!e.isStrict?(e.unit=t.unit,e.string=""+e.value+e.unit):t.isStrict&&e.isStrict&&t.unit!==e.unit?(e.unit=t.unit,e.string=""+e.value+e.unit,this.warn('Two different units were specified on "'+n+'" delta property, mo \xb7 js will fallback to end "'+t.unit+'" unit ')):void 0},e.prototype.rand=function(e,t){return Math.random()*(t-e)+e},e.prototype.isDOM=function(e){var t;return null!=e&&(t="number"==typeof e.nodeType&&"string"==typeof e.nodeName,"object"==s(e)&&t)},e.prototype.getChildElements=function(e){var t,n,r;for(n=[],r=(t=e.childNodes).length;r--;)1===t[r].nodeType&&n.unshift(t[r]);return n},e.prototype.delta=function(e,t){var n,r,i,a,o;if(o=s(t),n="string"==(a=s(e))||"number"===a&&!isNaN(e),r="string"===o||"number"===o&&!isNaN(t),n&&r)return(i={})[e]=t,i;this.error("delta method expects Strings or Numbers at input but got - "+e+", "+t)},e.prototype.getUniqID=function(){return++this.uniqIDs},e.prototype.parsePath=function(e){var t;return"string"==typeof e?"m"===e.charAt(0).toLowerCase()?((t=document.createElementNS(this.NS,"path")).setAttributeNS(null,"d",e),t):document.querySelector(e):e.style?e:void 0},e.prototype.closeEnough=function(e,t,n){return Math.abs(e-t)<n},e.prototype.checkIf3d=function(){var e,t,n;return e=document.createElement("div"),this.style(e,"transform","translateZ(0)"),""!==(null!=(n=e.style)[t=this.prefix.css+"transform"]?n[t]:n.transform)},e.prototype.isObject=function(e){return null!==e&&"object"==s(e)},e.prototype.getDeltaEnd=function(e){return e[Object.keys(e)[0]]},e.prototype.getDeltaStart=function(e){return Object.keys(e)[0]},e.prototype.isTweenProp=function(e){return this.tweenOptionMap[e]||this.callbacksMap[e]},e.prototype.parseStringOption=function(e,t){return null==t&&(t=0),"string"==typeof e&&(e=this.parseIfStagger(e,t),e=this.parseIfRand(e)),e},e.prototype.getLastItem=function(e){return e[e.length-1]},e.prototype.parseEl=function(e){return n.isDOM(e)||("string"==typeof e&&(e=document.querySelector(e)),null===e&&n.error("Can't parse HTML element: ",e)),e},e.prototype.force3d=function(e){return this.setPrefixedStyle(e,"backface-visibility","hidden"),e},e.prototype.isDelta=function(e){return!(!this.isObject(e)||e.unit||this.isArray(e)||this.isDOM(e))},e}(),n=new t,e.exports=n},291:function(e,t,n){var r,i,a,o,s;o=n(52),s=n(247),a=n(755).Z,i=n(342).Z,r=function(){function e(e){var t,n;this.o=null!=e?e:{},this.calcHeight=(t=this.calcHeight,n=this,function(){return t.apply(n,arguments)}),this.vars()||this.createTween()}return e.prototype.defaults={path:null,curvature:{x:"75%",y:"50%"},isCompositeLayer:!0,delay:0,duration:1e3,easing:null,repeat:0,yoyo:!1,onStart:null,onComplete:null,onUpdate:null,offsetX:0,offsetY:0,rotationOffset:null,pathStart:0,pathEnd:1,motionBlur:0,transformOrigin:null,isRotation:!1,isReverse:!1,isRunLess:!1,isPresetPosition:!0},e.prototype.vars=function(){return this.getScaler=o.bind(this.getScaler,this),this.resize=s,this.props=o.cloneObj(this.defaults),this.extendOptions(this.o),this.isMotionBlurReset=o.isSafari||o.isIE,this.isMotionBlurReset&&(this.props.motionBlur=0),this.history=[o.cloneObj(this.props)],this.postVars()},e.prototype.curveToPath=function(e){var t,n,r,i,a,s,u,c,l,h,f,d;return l=document.createElementNS(o.NS,"path"),c={x:(d=e.start).x+e.shift.x,y:d.x+e.shift.y},t=e.curvature,s=e.shift.x,u=e.shift.y,h=Math.sqrt(s*s+u*u)/100,f=Math.atan(u/s)*(180/Math.PI)+90,e.shift.x<0&&(f+=180),n="%"===(n=o.parseUnit(t.x)).unit?n.value*h:n.value,a=o.getRadialPoint({center:{x:d.x,y:d.y},radius:n,rotate:rotate}),r="%"===(r=o.parseUnit(t.y)).unit?r.value*h:r.value,i=o.getRadialPoint({center:{x:a.x,y:a.y},radius:r,rotate:f+90}),l.setAttribute("d","M"+d.x+","+d.y+" Q"+i.x+","+i.y+" "+c.x+","+c.y),l},e.prototype.postVars=function(){return this.props.pathStart=o.clamp(this.props.pathStart,0,1),this.props.pathEnd=o.clamp(this.props.pathEnd,this.props.pathStart,1),this.rotate=0,this.speedX=0,this.speedY=0,this.blurX=0,this.blurY=0,this.prevCoords={},this.blurAmount=20,this.props.motionBlur=o.clamp(this.props.motionBlur,0,1),this.onUpdate=this.props.onUpdate,this.o.el?(this.el=this.parseEl(this.props.el),this.props.motionBlur>0&&this.createFilter(),this.path=this.getPath(),this.path.getAttribute("d")?(this.len=this.path.getTotalLength(),this.slicedLen=this.len*(this.props.pathEnd-this.props.pathStart),this.startLen=this.props.pathStart*this.len,this.fill=this.props.fill,null!=this.fill&&(this.container=this.parseEl(this.props.fill.container),this.fillRule=this.props.fill.fillRule||"all",this.getScaler(),null!=this.container)?(this.removeEvent(this.container,"onresize",this.getScaler),this.addEvent(this.container,"onresize",this.getScaler)):void 0):(o.error("Path has no coordinates to work with, aborting"),!0)):(o.error('Missed "el" option. It could be a selector, DOMNode or another module.'),!0)},e.prototype.addEvent=function(e,t,n){return e.addEventListener(t,n,!1)},e.prototype.removeEvent=function(e,t,n){return e.removeEventListener(t,n,!1)},e.prototype.createFilter=function(){var e,t;return e=document.createElement("div"),this.filterID="filter-"+o.getUniqID(),e.innerHTML='<svg id="svg-'+this.filterID+'"\n    style="visibility:hidden; width:0px; height:0px">\n  <filter id="'+this.filterID+'" y="-20" x="-20" width="40" height="40">\n    <feOffset\n      id="blur-offset" in="SourceGraphic"\n      dx="0" dy="0" result="offset2"></feOffset>\n    <feGaussianblur\n      id="blur" in="offset2"\n      stdDeviation="0,0" result="blur2"></feGaussianblur>\n    <feMerge>\n      <feMergeNode in="SourceGraphic"></feMergeNode>\n      <feMergeNode in="blur2"></feMergeNode>\n    </feMerge>\n  </filter>\n</svg>',t=e.querySelector("#svg-"+this.filterID),this.filter=t.querySelector("#blur"),this.filterOffset=t.querySelector("#blur-offset"),document.body.insertBefore(t,document.body.firstChild),this.el.style.filter="url(#"+this.filterID+")",this.el.style[o.prefix.css+"filter"]="url(#"+this.filterID+")"},e.prototype.parseEl=function(e){return"string"==typeof e?document.querySelector(e):e instanceof HTMLElement?e:null!=e._setProp?(this.isModule=!0,e):void 0},e.prototype.getPath=function(){return o.parsePath(this.props.path)||(this.props.path.x||this.props.path.y?this.curveToPath({start:{x:0,y:0},shift:{x:this.props.path.x||0,y:this.props.path.y||0},curvature:{x:this.props.curvature.x||this.defaults.curvature.x,y:this.props.curvature.y||this.defaults.curvature.y}}):void 0)},e.prototype.getScaler=function(){var e,t,n;switch(this.cSize={width:this.container.offsetWidth||0,height:this.container.offsetHeight||0},n=this.path.getPointAtLength(0),e=this.path.getPointAtLength(this.len),t={},this.scaler={},t.width=e.x>=n.x?e.x-n.x:n.x-e.x,t.height=e.y>=n.y?e.y-n.y:n.y-e.y,this.fillRule){case"all":return this.calcWidth(t),this.calcHeight(t);case"width":return this.calcWidth(t),this.scaler.y=this.scaler.x;case"height":return this.calcHeight(t),this.scaler.x=this.scaler.y}},e.prototype.calcWidth=function(e){return this.scaler.x=this.cSize.width/e.width,!isFinite(this.scaler.x)&&(this.scaler.x=1)},e.prototype.calcHeight=function(e){return this.scaler.y=this.cSize.height/e.height,!isFinite(this.scaler.y)&&(this.scaler.y=1)},e.prototype.run=function(e){var t,n;if(e){for(t in this.history[0],e)n=e[t],o.callbacksMap[t]||o.tweenOptionMap[t]?(o.warn('the property "'+t+'" property can not be overridden on run yet'),delete e[t]):this.history[0][t]=n;this.tuneOptions(e)}return this.startTween()},e.prototype.createTween=function(){var e;return this.tween=new a({duration:this.props.duration,delay:this.props.delay,yoyo:this.props.yoyo,repeat:this.props.repeat,easing:this.props.easing,onStart:(e=this,function(){var t;return null!=(t=e.props.onStart)?t.apply(e):void 0}),onComplete:function(e){return function(){var t;return e.props.motionBlur&&e.setBlur({blur:{x:0,y:0},offset:{x:0,y:0}}),null!=(t=e.props.onComplete)?t.apply(e):void 0}}(this),onUpdate:function(e){return function(t){return e.setProgress(t)}}(this),onFirstUpdate:function(e){return function(t,n){if(!t)return e.history.length>1&&e.tuneOptions(e.history[0])}}(this)}),this.timeline=new i,this.timeline.add(this.tween),!this.props.isRunLess&&this.startTween(),this.props.isPresetPosition&&this.setProgress(0,!0)},e.prototype.startTween=function(){return setTimeout((e=this,function(){var t;return null!=(t=e.timeline)?t.play():void 0}),1);var e},e.prototype.setProgress=function(e,t){var n,r,i,a;return n=this.startLen+(this.props.isReverse?(1-e)*this.slicedLen:e*this.slicedLen),i=(r=this.path.getPointAtLength(n)).x+this.props.offsetX,a=r.y+this.props.offsetY,this._getCurrentRotation(r,n,e),this._setTransformOrigin(e),this._setTransform(i,a,e,t),this.props.motionBlur&&this.makeMotionBlur(i,a)},e.prototype.setElPosition=function(e,t,n){var r;return r="translate("+e+"px,"+t+"px) "+(0!==this.rotate?"rotate("+this.rotate+"deg)":"")+" "+(this.props.isCompositeLayer&&o.is3d?"translateZ(0)":""),o.setPrefixedStyle(this.el,"transform",r)},e.prototype.setModulePosition=function(e,t){return this.el._setProp({shiftX:e+"px",shiftY:t+"px",rotate:this.rotate}),this.el._draw()},e.prototype._getCurrentRotation=function(e,t,n){var r,i,a,s,u;return i="function"==typeof this.props.transformOrigin,this.props.isRotation||null!=this.props.rotationOffset||i?(a=this.path.getPointAtLength(t-1),s=e.y-a.y,u=e.x-a.x,r=Math.atan(s/u),!isFinite(r)&&(r=0),this.rotate=r*o.RAD_TO_DEG,"function"!=typeof this.props.rotationOffset?this.rotate+=this.props.rotationOffset||0:this.rotate=this.props.rotationOffset.call(this,this.rotate,n)):this.rotate=0},e.prototype._setTransform=function(e,t,n,r){var i;return this.scaler&&(e*=this.scaler.x,t*=this.scaler.y),i=null,r||(i="function"==typeof this.onUpdate?this.onUpdate(n,{x:e,y:t,rotate:this.rotate}):void 0),this.isModule?this.setModulePosition(e,t):"string"!=typeof i?this.setElPosition(e,t,n):o.setPrefixedStyle(this.el,"transform",i)},e.prototype._setTransformOrigin=function(e){var t;if(this.props.transformOrigin)return t="function"==typeof this.props.transformOrigin?this.props.transformOrigin(this.rotate,e):this.props.transformOrigin,o.setPrefixedStyle(this.el,"transform-origin",t)},e.prototype.makeMotionBlur=function(e,t){var n,r,i,a,s,u,c;return c=0,s=1,u=1,null==this.prevCoords.x||null==this.prevCoords.y?(this.speedX=0,this.speedY=0):(i=e-this.prevCoords.x,a=t-this.prevCoords.y,i>0&&(s=-1),s<0&&(u=-1),this.speedX=Math.abs(i),this.speedY=Math.abs(a),c=Math.atan(a/i)*(180/Math.PI)+90),n=c-this.rotate,r=this.rotToCoords(n),this.blurX=o.clamp(this.speedX/16*this.props.motionBlur,0,1),this.blurY=o.clamp(this.speedY/16*this.props.motionBlur,0,1),this.setBlur({blur:{x:3*this.blurX*this.blurAmount*Math.abs(r.x),y:3*this.blurY*this.blurAmount*Math.abs(r.y)},offset:{x:3*s*this.blurX*r.x*this.blurAmount,y:3*u*this.blurY*r.y*this.blurAmount}}),this.prevCoords.x=e,this.prevCoords.y=t},e.prototype.setBlur=function(e){if(!this.isMotionBlurReset)return this.filter.setAttribute("stdDeviation",e.blur.x+","+e.blur.y),this.filterOffset.setAttribute("dx",e.offset.x),this.filterOffset.setAttribute("dy",e.offset.y)},e.prototype.extendDefaults=function(e){var t,n,r;for(t in n=[],e)r=e[t],n.push(this[t]=r);return n},e.prototype.extendOptions=function(e){var t,n,r;for(t in n=[],e)r=e[t],n.push(this.props[t]=r);return n},e.prototype.then=function(e){var t,n,r,i,s,u;for(n in r={},i=this.history[this.history.length-1])s=i[n],!o.callbacksMap[n]&&!o.tweenOptionMap[n]||"duration"===n?null==e[n]&&(e[n]=s):null==e[n]&&(e[n]=void 0),o.tweenOptionMap[n]&&(r[n]="duration"!==n||null!=e[n]?e[n]:i[n]);return this.history.push(e),t=this,r.onUpdate=(u=this,function(e){return u.setProgress(e)}),r.onStart=function(e){return function(){var t;return null!=(t=e.props.onStart)?t.apply(e):void 0}}(this),r.onComplete=function(e){return function(){var t;return null!=(t=e.props.onComplete)?t.apply(e):void 0}}(this),r.onFirstUpdate=function(){return t.tuneOptions(t.history[this.index])},r.isChained=!e.delay,this.timeline.append(new a(r)),this},e.prototype.tuneOptions=function(e){return this.extendOptions(e),this.postVars()},e.prototype.rotToCoords=function(e){var t,n,r;return t=((e%=360)-90)*Math.PI/180,n=Math.cos(t),r=Math.sin(t),{x:1.428571429*(n=n<0?Math.max(n,-.7):Math.min(n,.7)),y:1.428571429*(r=r<0?Math.max(r,-.7):Math.min(r,.7))}},e}(),e.exports=r},785:function(e,t,n){var r,i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.shape="ellipse"},t.prototype._draw=function(){var e,n;return e=null!=this._props.radiusX?this._props.radiusX:this._props.radius,n=null!=this._props.radiusY?this._props.radiusY:this._props.radius,this._setAttrIfChanged("rx",e),this._setAttrIfChanged("ry",n),this._setAttrIfChanged("cx",this._props.width/2),this._setAttrIfChanged("cy",this._props.height/2),t.__super__._draw.apply(this,arguments)},t.prototype._getLength=function(){var e,t;return e=null!=this._props.radiusX?this._props.radiusX:this._props.radius,t=null!=this._props.radiusY?this._props.radiusY:this._props.radius,2*Math.PI*Math.sqrt((e*e+t*t)/2)},t}(),e.exports=r},158:function(e,t,n){var r,i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.tag="path"},t.prototype._draw=function(){var e,n,r,i,a,o,s;if(t.__super__._draw.apply(this,arguments),this._props,i=null!=this._props.radiusX?this._props.radiusX:this._props.radius,a=null!=this._props.radiusY?this._props.radiusY:this._props.radius,n=i===this._prevRadiusX,r=a===this._prevRadiusY,!n||!r)return e="M"+((o=this._props.width/2)-i)+","+(s=this._props.height/2)+" L"+(o+i)+","+s+" M"+o+","+(s-a)+" L"+o+","+(s+a),this.el.setAttribute("d",e),this._prevRadiusX=i,this._prevRadiusY=a},t.prototype._getLength=function(){return 2*((null!=this._props.radiusX?this._props.radiusX:this._props.radius)+(null!=this._props.radiusY?this._props.radiusY:this._props.radius))},t}(),e.exports=r},153:function(e,t,n){var r,i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.tag="path",this._defaults.points=2},t.prototype._draw=function(){var e,n,r,i,a,o,s,u,c,l,h,f,d,p,v,y;if(t.__super__._draw.apply(this,arguments),s=this._props,this._props.points&&(u=null!=this._props.radiusX?this._props.radiusX:this._props.radius,c=null!=this._props.radiusY?this._props.radiusY:this._props.radius,i=u===this._prevRadiusX,a=c===this._prevRadiusY,r=s.points===this._prevPoints,!(i&&a&&r))){for(h=this._props.width/2,p=this._props.height/2,f=h-u,d=h+u,e="",y=2*c/(this._props.points-1),v=p-c,n=o=0,l=this._props.points;0<=l?o<l:o>l;n=0<=l?++o:--o)e+="M"+f+", "+(p=""+(n*y+v))+" L"+d+", "+p+" ";return this.el.setAttribute("d",e),this._prevPoints=s.points,this._prevRadiusX=u,this._prevRadiusY=c}},t.prototype._getLength=function(){return 2*(null!=this._props.radiusX?this._props.radiusX:this._props.radius)},t}(),e.exports=r},786:function(e,t,n){var r,i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.tag="line"},t.prototype._draw=function(){var e,n,r;return e=null!=this._props.radiusX?this._props.radiusX:this._props.radius,n=this._props.width/2,r=this._props.height/2,this._setAttrIfChanged("x1",n-e),this._setAttrIfChanged("x2",n+e),this._setAttrIfChanged("y1",r),this._setAttrIfChanged("y2",r),t.__super__._draw.apply(this,arguments)},t}(),e.exports=r},878:function(e,t,n){var r,i,a={}.hasOwnProperty;i=n(52),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.tag="path",this._defaults.points=3},t.prototype._draw=function(){var e,n,r,a,o,s,u,c,l,h,f,d,p,v,y;if(l=this._props,f=null!=this._props.radiusX?this._props.radiusX:this._props.radius,d=null!=this._props.radiusY?this._props.radiusY:this._props.radius,a=f===this._prevRadiusX,o=d===this._prevRadiusY,r=l.points===this._prevPoints,!(a&&o&&r)){for(y=360/this._props.points,null==this._radialPoints?this._radialPoints=[]:this._radialPoints.length=0,n=s=0,p=this._props.points;0<=p?s<p:s>p;n=0<=p?++s:--s)this._radialPoints.push(i.getRadialPoint({radius:this._props.radius,radiusX:this._props.radiusX,radiusY:this._props.radiusY,rotate:n*y,center:{x:l.width/2,y:l.height/2}}));for(e="",n=u=0,c=(v=this._radialPoints).length;u<c;n=++u)e+=(0===n?"M":"L")+(h=v[n]).x.toFixed(4)+","+h.y.toFixed(4)+" ";this._prevPoints=l.points,this._prevRadiusX=f,this._prevRadiusY=d,this.el.setAttribute("d",e+="z")}return t.__super__._draw.apply(this,arguments)},t.prototype._getLength=function(){return this._getPointsPerimiter(this._radialPoints)},t}(),e.exports=r},979:function(e,t,n){var r,i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.tag="rect",this._defaults.rx=0,this._defaults.ry=0},t.prototype._draw=function(){var e,n,r;return t.__super__._draw.apply(this,arguments),n=null!=(e=this._props).radiusX?e.radiusX:e.radius,r=null!=e.radiusY?e.radiusY:e.radius,this._setAttrIfChanged("width",2*n),this._setAttrIfChanged("height",2*r),this._setAttrIfChanged("x",e.width/2-n),this._setAttrIfChanged("y",e.height/2-r),this._setAttrIfChanged("rx",e.rx),this._setAttrIfChanged("ry",e.ry)},t.prototype._getLength=function(){return 2*(2*(null!=this._props.radiusX?this._props.radiusX:this._props.radius)+2*(null!=this._props.radiusY?this._props.radiusY:this._props.radius))},t}(),e.exports=r},806:function(e,t,n){var r,i,a,o,s,u,c,l,h,f,d,p;p=n(52),r=n(623).Z,u=n(854).Z,a=n(785),l=n(786),d=n(322),f=n(979),h=n(878),o=n(158),s=n(472).Z,c=n(153),i=function(){function e(){this.addShape=p.bind(this.addShape,this)}return e.prototype.bit=r,e.prototype.custom=u,e.prototype.circle=a,e.prototype.line=l,e.prototype.zigzag=d,e.prototype.rect=f,e.prototype.polygon=h,e.prototype.cross=o,e.prototype.equal=c,e.prototype.curve=s,e.prototype.getShape=function(e){return this[e]||p.error('no "'+e+'" shape available yet, please choose from this list:',["circle","line","zigzag","rect","polygon","cross","equal","curve"])},e.prototype.addShape=function(e,t){return this[e]=t},e}(),e.exports=new i},322:function(e,t,n){var r,i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,n(623).Z),t.prototype._declareDefaults=function(){return t.__super__._declareDefaults.apply(this,arguments),this._defaults.tag="path",this._defaults.points=3},t.prototype._draw=function(){var e,n,r,i,a,o,s,u,c,l,h,f,d,p,v,y;if(t.__super__._draw.apply(this,arguments),c=this._props,this._props.points&&(h=null!=this._props.radiusX?this._props.radiusX:this._props.radius,f=null!=this._props.radiusY?this._props.radiusY:this._props.radius,a=h===this._prevRadiusX,o=f===this._prevRadiusY,i=c.points===this._prevPoints,!(a&&o&&i))){for(e=c.width/2-h,n=v=c.height/2,p=2*h/(c.points-1),y=-1,u=-(r=Math.sqrt(p*p+f*f)),l="M"+e+", "+v+" ",s=0,d=c.points;0<=d?s<d:s>d;0<=d?++s:--s)l+="L"+e+", "+n+" ",e+=p,u+=r,n=-1===y?v-f:v,y=-y;return this._length=u,this.el.setAttribute("d",l),this._prevPoints=c.points,this._prevRadiusX=h,this._prevRadiusY=f}},t.prototype._getLength=function(){return this._length},t}(),e.exports=r},247:function(e,t){var n,r;r=function(){function e(e){this.o=null!=e?e:{},window.isAnyResizeEventInited||(this.vars(),this.redefineProto())}return e.prototype.vars=function(){return window.isAnyResizeEventInited=!0,this.allowedProtos=[HTMLDivElement,HTMLFormElement,HTMLLinkElement,HTMLBodyElement,HTMLParagraphElement,HTMLFieldSetElement,HTMLLegendElement,HTMLLabelElement,HTMLButtonElement,HTMLUListElement,HTMLOListElement,HTMLLIElement,HTMLHeadingElement,HTMLQuoteElement,HTMLPreElement,HTMLBRElement,HTMLFontElement,HTMLHRElement,HTMLModElement,HTMLParamElement,HTMLMapElement,HTMLTableElement,HTMLTableCaptionElement,HTMLImageElement,HTMLTableCellElement,HTMLSelectElement,HTMLInputElement,HTMLTextAreaElement,HTMLAnchorElement,HTMLObjectElement,HTMLTableColElement,HTMLTableSectionElement,HTMLTableRowElement],this.timerElements={img:1,textarea:1,input:1,embed:1,object:1,svg:1,canvas:1,tr:1,tbody:1,thead:1,tfoot:1,a:1,select:1,option:1,optgroup:1,dl:1,dt:1,br:1,basefont:1,font:1,col:1,iframe:1}},e.prototype.redefineProto=function(){var e,t,n;return t=this,function(){var r,i,a,o;for(a=this.allowedProtos,o=[],e=r=0,i=a.length;r<i;e=++r)null!=(n=a[e]).prototype&&o.push(function(e){return n=e.prototype.addEventListener||e.prototype.attachEvent,r=function(){return this===window&&this===document||"onresize"===arguments[0]&&!this.isAnyResizeEventInited&&t.handleResize({args:arguments,that:this}),n.apply(this,arguments)},e.prototype.addEventListener?e.prototype.addEventListener=r:e.prototype.attachEvent&&(e.prototype.attachEvent=r),function(t){var n;return n=function(){return this.isAnyResizeEventInited=!1,this.iframe&&this.removeChild(this.iframe),t.apply(this,arguments)},e.prototype.removeEventListener?e.prototype.removeEventListener=n:e.prototype.detachEvent?e.prototype.detachEvent=wrappedListener:void 0}(e.prototype.removeEventListener||e.prototype.detachEvent);var n,r}(n));return o}.call(this)},e.prototype.handleResize=function(e){var t,n,r,i,a,o,s,u;return n=e.that,this.timerElements[n.tagName.toLowerCase()]?this.initTimer(n):(r=document.createElement("iframe"),n.appendChild(r),r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.zIndex=-999,r.style.opacity=0,r.style.top=0,r.style.left=0,t=window.getComputedStyle?getComputedStyle(n):n.currentStyle,a=""===n.style.position,o="static"===t.position&&a,i=""===t.position&&""===n.style.position,(o||i)&&(n.style.position="relative"),null!=(s=r.contentWindow)&&(s.onresize=(u=this,function(e){return u.dispatchEvent(n)})),n.iframe=r),n.isAnyResizeEventInited=!0},e.prototype.initTimer=function(e){var t,n,r;return n=0,t=0,this.interval=setInterval((r=this,function(){var i,a;if(a=e.offsetWidth,i=e.offsetHeight,a!==n||i!==t)return r.dispatchEvent(e),n=a,t=i}),this.o.interval||62.5)},e.prototype.dispatchEvent=function(e){var t;return document.createEvent?((t=document.createEvent("HTMLEvents")).initEvent("onresize",!1,!1),e.dispatchEvent(t)):!!document.createEventObject&&(t=document.createEventObject(),e.fireEvent("onresize",t))},e.prototype.destroy=function(){var e,t,n,r,i,a;for(clearInterval(this.interval),this.interval=null,window.isAnyResizeEventInited=!1,a=[],e=t=0,n=(i=this.allowedProtos).length;t<n;e=++t)null!=(r=i[e]).prototype&&a.push(function(e){return e.prototype.addEventListener||e.prototype.attachEvent,e.prototype.addEventListener?e.prototype.addEventListener=Element.prototype.addEventListener:e.prototype.attachEvent&&(e.prototype.attachEvent=Element.prototype.attachEvent),e.prototype.removeEventListener?e.prototype.removeEventListener=Element.prototype.removeEventListener:e.prototype.detachEvent?e.prototype.detachEvent=Element.prototype.detachEvent:void 0}(r));return a},e}(),void 0===(n=function(){return new r}.apply(t,[]))||(e.exports=n)},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}},120:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},340:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2),i=n(326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},2:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";n.d(r,{default:function(){return $}});var e=n(52),t=n.n(e),i=n(806),a=n.n(i),o=n(671),s=n(144),u=n(340),c=n(963),l=n(120),h=n(342);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(752),p=n(755),v=n(973);var y=function(e){(0,u.Z)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(this,n),(e=t.call(this,r))._transformTweenOptions(),!e._o.isTweenLess&&e._makeTween(),!e._o.isTimelineLess&&e._makeTimeline(),e}return(0,s.Z)(n,[{key:"play",value:function(){return this.timeline.play.apply(this.timeline,arguments),this}},{key:"playBackward",value:function(){return this.timeline.playBackward.apply(this.timeline,arguments),this}},{key:"pause",value:function(){return this.timeline.pause.apply(this.timeline,arguments),this}},{key:"stop",value:function(){return this.timeline.stop.apply(this.timeline,arguments),this}},{key:"reset",value:function(){return this.timeline.reset.apply(this.timeline,arguments),this}},{key:"replay",value:function(){return this.timeline.replay.apply(this.timeline,arguments),this}},{key:"replayBackward",value:function(){return this.timeline.replayBackward.apply(this.timeline,arguments),this}},{key:"resume",value:function(){return this.timeline.resume.apply(this.timeline,arguments),this}},{key:"setProgress",value:function(){return this.timeline.setProgress.apply(this.timeline,arguments),this}},{key:"setSpeed",value:function(){return this.timeline.setSpeed.apply(this.timeline,arguments),this}},{key:"_transformTweenOptions",value:function(){}},{key:"_makeTween",value:function(){this._o.callbacksContext=this._o.callbacksContext||this,this.tween=new p.Z(this._o),this._o.isTimelineLess&&(this.timeline=this.tween)}},{key:"_makeTimeline",value:function(){this._o.timeline=this._o.timeline||{},this._o.timeline.callbacksContext=this._o.callbacksContext||this,this.timeline=new h.Z(this._o.timeline),this._isTimeline=!0,this.tween&&this.timeline.add(this.tween)}}]),n}(v.Z);var m=function(e){(0,u.Z)(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(r);function r(){return(0,o.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"then",value:function(e){if(null==e||!Object.keys(e).length)return 1;var t=this._history[this._history.length-1],n=this._mergeThenOptions(t,e);this._resetMergedFlags(n);var r=new this.constructor(n);return r._masterModule=this,this._modules.push(r),this.timeline.append(r),this}},{key:"_resetMergedFlags",value:function(e){return e.isTimelineLess=!0,e.isShowStart=!1,e.isRefreshState=!1,e.callbacksContext=this._props.callbacksContext||this,e.prevChainModule=t().getLastItem(this._modules),e.masterModule=this,e}},{key:"_vars",value:function(){(0,d.Z)((0,l.Z)(r.prototype),"_vars",this).call(this),this._masterModule=this._o.masterModule,this._isChained=!!this._masterModule;var e=t().cloneObj(this._props);for(var n in this._arrayPropertyMap)if(this._o[n]){var i=this._parsePreArrayProperty(n,this._o[n]);e[n]=i}this._history=[e],this._modules=[this],this._nonMergeProps={shape:1}}},{key:"_mergeThenOptions",value:function(e,t){var n={};return this._mergeStartLoop(n,e),this._mergeEndLoop(n,e,t),this._history.push(n),n}},{key:"_checkStartValue",value:function(e,t){return t}},{key:"_mergeStartLoop",value:function(e,n){for(var r in n){var i=n[r];null!=n[r]&&(t().isTweenProp(r)&&"duration"!==r||(this._isDelta(i)?e[r]=t().getDeltaEnd(i):e[r]=i))}}},{key:"_mergeEndLoop",value:function(e,t,n){for(var r in n)if("parent"!=r){var i=n[r],a=null!=t[r]?t[r]:this._defaults[r];if(a=this._checkStartValue(r,a),null!=i){var o="radiusX"===r||"radiusY"===r;o&&null==a&&(a=t.radius),(o="scaleX"===r||"scaleY"===r)&&null==a&&(a=t.scale),e[r]=this._mergeThenProperty(r,a,i)}}else e[r]=n[r]}},{key:"_mergeThenProperty",value:function(e,n,r){var i,a,o="boolean"==typeof r;if(t().isTweenProp(e)||this._nonMergeProps[e]||o)return r;if(t().isObject(r)&&null!=r.to&&(i=r.curve,a=r.easing,r=r.to),this._isDelta(r))return this._parseDeltaValues(e,r);var s,u,c=this._parsePreArrayProperty(e,r);return this._isDelta(n)?(f(s={},t().getDeltaEnd(n),c),f(s,"easing",a),f(s,"curve",i),s):(f(u={},n,c),f(u,"easing",a),f(u,"curve",i),u)}},{key:"_getArrayLength",value:function(e){return t().isArray(e)?e.length:-1}},{key:"_isDelta",value:function(e){var n=t().isObject(e);return!(!(n=n&&!e.unit)||t().isArray(e)||t().isDOM(e))}},{key:"_isFirstInChain",value:function(){return!this._masterModule}},{key:"_isLastInChain",value:function(){var e=this._masterModule;return e?this===t().getLastItem(e._modules):1===this._modules.length}}]),r}(y);var g=function(e){(0,u.Z)(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(r);function r(){return(0,o.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"tune",value:function(e){if(e&&Object.keys(e).length){for(var n in this._transformHistory(e),this._tuneNewOptions(e),this._history[0]=t().cloneObj(this._props),this._arrayPropertyMap)null!=e[n]&&(this._history[0][n]=this._preparsePropValue(n,e[n]));this._tuneSubModules(),this._resetTweens()}return this}},{key:"generate",value:function(){return this.tune(this._o)}},{key:"_transformHistory",value:function(e){for(var t in e){var n=e[t];this._transformHistoryFor(t,this._preparsePropValue(t,n))}}},{key:"_transformHistoryFor",value:function(e,t){for(var n=0;n<this._history.length&&null!=(t=this._transformHistoryRecord(n,e,t));n++);}},{key:"_transformHistoryRecord",value:function(e,n,r,i,a){if(null==r)return null;i=null==i?this._history[e]:i,a=null==a?this._history[e+1]:a;var o=i[n],s=null==a?null:a[n];if(0===e){if(i[n]=r,t().isTweenProp(n)&&"duration"!==n)return null;var u=this._isRewriteNext(o,s),c=this._isDelta(r)?t().getDeltaEnd(r):r;return u?c:null}return this._isDelta(o)?(i[n]=f({},r,t().getDeltaEnd(o)),null):(i[n]=r,this._isRewriteNext(o,s)?r:null)}},{key:"_isRewriteNext",value:function(e,n){if(null==n&&null!=e)return!1;var r=e===n,i=this._isDelta(n),a=!1,o=!1;return this._isDelta(e)&&i?t().getDeltaEnd(e)==t().getDeltaStart(n)&&(o=!0):i&&(a=t().getDeltaStart(n)==="".concat(e)),r||a||o}},{key:"_tuneSubModules",value:function(){for(var e=1;e<this._modules.length;e++)this._modules[e]._tuneNewOptions(this._history[e])}},{key:"_resetTweens",value:function(){var e=0,t=this.timeline._timelines;if(null!=t){for(var n=0;n<t.length;n++){var r=t[n],i=t[n-1];e+=i?i._props.repeatTime:0,this._resetTween(r,this._history[n],e)}this.timeline._setProp(this._props.timeline),this.timeline._recalcTotalDuration()}}},{key:"_resetTween",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.shiftTime=n,e._setProp(t)}}]),r}(m);var b=function(e){(0,u.Z)(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(r);function r(e,t){var i;return(0,o.Z)(this,r),i=n.call(this),(0,c.Z)(i,i._init(e,t))}return(0,s.Z)(r,[{key:"then",value:function(e){if(null==e)return this;for(var t=0;t<this._modules.length;t++)this._modules[t].then(this._getOptionByIndex(t,e));return this.timeline._recalcTotalDuration(),this}},{key:"tune",value:function(e){if(null==e)return this;for(var t=0;t<this._modules.length;t++)this._modules[t].tune(this._getOptionByIndex(t,e));return this.timeline._recalcTotalDuration(),this}},{key:"generate",value:function(){for(var e=0;e<this._modules.length;e++)this._modules[e].generate();return this.timeline._recalcTotalDuration(),this}},{key:"_getOptionByMod",value:function(e,n,r){var i=r[e];i+""!="[object NodeList]"&&i+""!="[object HTMLCollection]"||(i=Array.prototype.slice.call(i,0));var a=t().isArray(i)?i[n%i.length]:i;return t().parseIfStagger(a,n)}},{key:"_getOptionByIndex",value:function(e,t){var n=this,r={};return Object.keys(t).forEach(function(i){return r[i]=n._getOptionByMod(i,e,t)}),r}},{key:"_getChildQuantity",value:function(e,n){if("number"==typeof e)return e;var r=n[e];return t().isArray(r)||r+""=="[object NodeList]"?r.length:r+""=="[object HTMLCollection]"?Array.prototype.slice.call(r,0).length:r instanceof HTMLElement||"string"==typeof r?1:void 0}},{key:"_init",value:function(e,t){var n=this._getChildQuantity(e.quantifier||"el",e);this._createTimeline(e),this._modules=[];for(var r=0;r<n;r++){var i=this._getOptionByIndex(r,e);i.isRunLess=!0,i.index=r;var a=new t(i);this._modules.push(a),this.timeline.add(a)}return this}},{key:"_createTimeline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.timeline=new h.Z(e.timeline)}},{key:"_makeTween",value:function(){}},{key:"_makeTimeline",value:function(){}}]),r}(g),_=n(47),k=n(283),w=n.n(k);var O=function(e){(0,u.Z)(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(r);function r(){return(0,o.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"_declareDefaults",value:function(){this._defaults={parent:document.body,className:"",shape:"circle",stroke:"transparent",strokeOpacity:1,strokeLinecap:"",strokeWidth:2,strokeDasharray:0,strokeDashoffset:0,fill:"deeppink",fillOpacity:1,isSoftHide:!0,isForce3d:!1,left:"50%",top:"50%",x:0,y:0,rotate:0,scale:1,scaleX:null,scaleY:null,origin:"50% 50%",opacity:1,rx:0,ry:0,points:3,radius:50,radiusX:null,radiusY:null,isShowStart:!1,isShowEnd:!0,isRefreshState:!0,duration:400,width:null,height:null,isWithShape:!0,callbacksContext:this}}},{key:"tune",value:function(e){return(0,d.Z)((0,l.Z)(r.prototype),"tune",this).call(this,e),this._getMaxSizeInChain(),this}},{key:"then",value:function(e){return(0,d.Z)((0,l.Z)(r.prototype),"then",this).call(this,e),this._getMaxSizeInChain(),this}},{key:"_vars",value:function(){return(0,d.Z)((0,l.Z)(r.prototype),"_vars",this).call(this),this._lastSet={},this._prevChainModule=this._o.prevChainModule,this.isForeign=!!this._o.ctx,this.isForeignBit=!!this._o.shape}},{key:"_render",value:function(){return this._isRendered||this._isChained?this._isChained&&(this.el=this._masterModule.el,this.shapeModule=this._masterModule.shapeModule):(this.el=document.createElement("div"),this.el.setAttribute("data-name","mojs-shape"),this.el.setAttribute("class",this._props.className),this._createShape(),this._props.parent.appendChild(this.el),this._setElStyles(),this._setProgress(0,0),this._props.isShowStart?this._show():this._hide(),this._isRendered=!0),this}},{key:"_setElStyles",value:function(){if(this.el){var e=this._props,n=this.el.style,r=e.shapeWidth,i=e.shapeHeight;if(n.position="absolute",this._setElSizeStyles(r,i),e.isForce3d){var a="backface-visibility";n["".concat(a)]="hidden",n["".concat(t().prefix.css).concat(a)]="hidden"}}}},{key:"_setElSizeStyles",value:function(e,t){var n=this.el.style;n.width="".concat(e,"px"),n.height="".concat(t,"px"),n["margin-left"]="".concat(-e/2,"px"),n["margin-top"]="".concat(-t/2,"px")}},{key:"_draw",value:function(){if(this.shapeModule){var e=this._props,t=this.shapeModule._props;t.rx=e.rx,t.ry=e.ry,t.stroke=e.stroke,t["stroke-width"]=e.strokeWidth,t["stroke-opacity"]=e.strokeOpacity,t["stroke-dasharray"]=e.strokeDasharray,t["stroke-dashoffset"]=e.strokeDashoffset,t["stroke-linecap"]=e.strokeLinecap,t.fill=e.fill,t["fill-opacity"]=e.fillOpacity,t.radius=e.radius,t.radiusX=e.radiusX,t.radiusY=e.radiusY,t.points=e.points,this.shapeModule._draw(),this._drawEl()}}},{key:"_drawEl",value:function(){if(null==this.el)return!0;var e=this._props,n=this.el.style;if(this._isPropChanged("opacity")&&(n.opacity=e.opacity),!this.isForeign){this._isPropChanged("left")&&(n.left=e.left),this._isPropChanged("top")&&(n.top=e.top);var r=this._isPropChanged("x"),i=this._isPropChanged("y"),a=r||i,o=this._isPropChanged("scaleX"),s=this._isPropChanged("scaleY"),u=this._isPropChanged("scale"),c=this._isPropChanged("rotate");if(u=u||o||s,a||u||c){var l=this._fillTransform();n["".concat(t().prefix.css,"transform")]=l,n.transform=l}if(this._isPropChanged("origin")||this._deltas.origin){var h=this._fillOrigin();n["".concat(t().prefix.css,"transform-origin")]=h,n["transform-origin"]=h}}}},{key:"_isPropChanged",value:function(e){return null==this._lastSet[e]&&(this._lastSet[e]={}),this._lastSet[e].value!==this._props[e]&&(this._lastSet[e].value=this._props[e],!0)}},{key:"_tuneNewOptions",value:function(e){if((0,d.Z)((0,l.Z)(r.prototype),"_tuneNewOptions",this).call(this,e),null==e||!Object.keys(e).length)return 1;this._setElStyles()}},{key:"_getMaxRadius",value:function(e){var t;return t=this._getRadiusSize("radius"),this._getRadiusSize(e,t)}},{key:"_increaseSizeWithEasing",value:function(){var e=this._props,t=this._o.easing;switch(t&&"string"==typeof t&&t.toLowerCase()){case"elastic.out":case"elastic.inout":e.size*=1.25;break;case"back.out":case"back.inout":e.size*=1.1}}},{key:"_getRadiusSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._deltas[e];return null!=n?Math.max(Math.abs(n.end),Math.abs(n.start)):null!=this._props[e]?parseFloat(this._props[e]):t}},{key:"_getShapeSize",value:function(){var e=this._props,t=this._getMaxStroke();e.shapeWidth=null!=e.width?e.width:2*this._getMaxRadius("radiusX")+t,e.shapeHeight=null!=e.height?e.height:2*this._getMaxRadius("radiusY")+t}},{key:"_createShape",value:function(){if(this._getShapeSize(),this._props.isWithShape){var e=this._props,t=a().getShape(this._props.shape);this.shapeModule=new t({width:e.shapeWidth,height:e.shapeHeight,parent:this.el})}}},{key:"_getMaxSizeInChain",value:function(){for(var e=0,t=0,n=0;n<this._modules.length;n++)this._modules[n]._getShapeSize(),e=Math.max(e,this._modules[n]._props.shapeWidth),t=Math.max(t,this._modules[n]._props.shapeHeight);this.shapeModule&&this.shapeModule._setSize(e,t),this._setElSizeStyles(e,t)}},{key:"_getMaxStroke",value:function(){var e=this._props,t=this._deltas.strokeWidth;return null!=t?Math.max(t.start,t.end):e.strokeWidth}},{key:"_setProgress",value:function(e,t){v.Z.prototype._setProgress.call(this,e,t),this._draw(e)}},{key:"_applyCallbackOverrides",value:function(e){var t=this,n=this._props;e.callbackOverrides={onUpdate:function(e,n){return t._setProgress(e,n)},onStart:function(e){t._isChained||(e?t._show():n.isShowStart||t._hide())},onComplete:function(e){t._isLastInChain()&&(e?n.isShowEnd||t._hide():t._show())},onRefresh:function(e){n.isRefreshState&&e&&t._refreshBefore()}}}},{key:"_transformTweenOptions",value:function(){this._applyCallbackOverrides(this._o)}},{key:"_fillTransform",value:function(){var e=this._props,t=null!=e.scaleX?e.scaleX:e.scale,n=null!=e.scaleY?e.scaleY:e.scale,r="".concat(t,", ").concat(n);return"translate(".concat(e.x,", ").concat(e.y,") rotate(").concat(e.rotate,"deg) scale(").concat(r,")")}},{key:"_fillOrigin",value:function(){for(var e=this._props,t="",n=0;n<e.origin.length;n++)t+="".concat(e.origin[n].string," ");return t}},{key:"_refreshBefore",value:function(){this._setProgress(this.tween._props.easing(0),0),this._props.isShowStart?this._show():this._hide()}},{key:"_showByTransform",value:function(){this._lastSet.scale=null,this._drawEl()}}]),r}(g);var x=function(e){(0,u.Z)(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(r);function r(){return(0,o.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"_declareDefaults",value:function(){(0,d.Z)((0,l.Z)(r.prototype),"_declareDefaults",this).call(this),this._defaults.isSwirl=!0,this._defaults.swirlSize=10,this._defaults.swirlFrequency=3,this._defaults.pathScale=1,this._defaults.degreeShift=0,this._defaults.radius=5,this._defaults.x=0,this._defaults.y=0,this._defaults.scale={1:0},this._defaults.direction=1}},{key:"_extendDefaults",value:function(){(0,d.Z)((0,l.Z)(r.prototype),"_extendDefaults",this).call(this),this._calcPosData()}},{key:"_tuneNewOptions",value:function(e){null!=e&&((0,d.Z)((0,l.Z)(r.prototype),"_tuneNewOptions",this).call(this,e),null==e.x&&null==e.y||this._calcPosData())}},{key:"_calcPosData",value:function(){var e=this._getPosValue("x"),n=this._getPosValue("y"),r=90+Math.atan(n.delta/e.delta||0)*t().RAD_TO_DEG;this._posData={radius:Math.sqrt(e.delta*e.delta+n.delta*n.delta),rotate:e.delta<0?r+180:r,x:e,y:n}}},{key:"_getPosValue",value:function(e){var n=this._deltas[e];if(n)return delete this._deltas[e],{start:n.start.value,end:n.end.value,delta:n.delta,units:n.end.unit};var r=t().parseUnit(this._props[e]);return{start:r.value,end:r.value,delta:0,units:r.unit}}},{key:"_setProgress",value:function(e,t){this._progress=e,this._calcCurrentProps(e,t),this._calcSwirlXY(e),this._draw(e)}},{key:"_calcSwirlXY",value:function(e){var n=this._props,r=this._posData.rotate+n.degreeShift,i=t().getRadialPoint({rotate:n.isSwirl?r+this._getSwirl(e):r,radius:e*this._posData.radius*n.pathScale,center:{x:this._posData.x.start,y:this._posData.y.start}}),a=i.x,o=i.y,s=1e-6;a>0&&a<s&&(a=s),o>0&&o<s&&(o=s),a<0&&a>-1e-6&&(a=-1e-6),o<0&&o>-1e-6&&(o=-1e-6),n.x=this._o.ctx?a:"".concat(a).concat(this._posData.x.units),n.y=this._o.ctx?o:"".concat(o).concat(this._posData.y.units)}},{key:"_getSwirl",value:function(e){var t=this._props;return t.direction*t.swirlSize*Math.sin(t.swirlFrequency*e)}},{key:"_draw",value:function(){var e=this._props.isWithShape?"_draw":"_drawEl";O.prototype[e].call(this)}}]),r}(O);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var S=function(e){(0,u.Z)(r,e);var n=T(r);function r(){return(0,o.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"_declareDefaults",value:function(){this._defaults={count:5,degree:360,radius:{0:50},radiusX:null,radiusY:null,width:0,height:0}}},{key:"then",value:function(e){this._removeTweenProperties(e);var t=this._masterThen(e),n=this._childThen(e);return this._setSwirlDuration(t,this._calcPackTime(n)),this.timeline._recalcTotalDuration(),this}},{key:"tune",value:function(e){return null==e||(this._saveTimelineOptions(e),this.timeline._setProp(this._timelineOptions),this._removeTweenProperties(e),this._tuneNewOptions(e),this.masterSwirl.tune(e),this._tuneSwirls(e),this._recalcModulesTime()),this}},{key:"_extendDefaults",value:function(){this._removeTweenProperties(this._o),(0,d.Z)((0,l.Z)(r.prototype),"_extendDefaults",this).call(this)}},{key:"_removeTweenProperties",value:function(e){for(var n in t().tweenOptionMap)null==this._defaults[n]&&delete e[n]}},{key:"_recalcModulesTime",value:function(){for(var e=this.masterSwirl._modules,t=this._swirls,n=0,r=0;r<e.length;r++){var i=e[r].tween,a=this._calcPackTime(t[r]);i._setProp({duration:a,shiftTime:n}),n+=a}this.timeline._recalcTotalDuration()}},{key:"_tuneSwirls",value:function(e){for(var t=this._swirls[0],n=0;n<t.length;n++){var r=t[n],i=this._getChildOption(e||{},n),a=null!=i.degreeShift;a||(i.degreeShift=this._swirls[0][n]._props.degreeShift),this._addBurstProperties(i,n),a||delete i.degreeShift,r.tune(i),this._refreshBurstOptions(r._modules,n)}}},{key:"_refreshBurstOptions",value:function(e,t){for(var n=1;n<e.length;n++){var r=e[n],i={};this._addBurstProperties(i,t,n),r._tuneNewOptions(i)}}},{key:"_masterThen",value:function(e){this.masterSwirl.then(e);var n=t().getLastItem(this.masterSwirl._modules);return this._masterSwirls.push(n),n}},{key:"_childThen",value:function(e){for(var n=this._swirls[0],r=[],i=0;i<n.length;i++){var a=this._getChildOption(e,i),o=n[i];a.parent=this.el,this._addBurstProperties(a,i,this._masterSwirls.length-1),o.then(a),r.push(t().getLastItem(o._modules))}return this._swirls[this._masterSwirls.length-1]=r,r}},{key:"_vars",value:function(){(0,d.Z)((0,l.Z)(r.prototype),"_vars",this).call(this),this._bufferTimeline=new h.Z}},{key:"_render",value:function(){this._o.isWithShape=!1,this._o.isSwirl=this._props.isSwirl,this._o.callbacksContext=this,this._saveTimelineOptions(this._o),this.masterSwirl=new I(this._o),this._masterSwirls=[this.masterSwirl],this.el=this.masterSwirl.el,this._renderSwirls()}},{key:"_renderSwirls",value:function(){for(var e=this._props,t=[],n=0;n<e.count;n++){var r=this._getChildOption(this._o,n);t.push(new E(this._addOptionalProps(r,n)))}this._swirls={0:t},this._setSwirlDuration(this.masterSwirl,this._calcPackTime(t))}},{key:"_saveTimelineOptions",value:function(e){this._timelineOptions=e.timeline,delete e.timeline}},{key:"_calcPackTime",value:function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].tween._props;t=Math.max(r.repeatTime/r.speed,t)}return t}},{key:"_setSwirlDuration",value:function(e,t){e.tween._setProp("duration",t),e.timeline&&e.timeline._recalcTotalDuration&&e.timeline._recalcTotalDuration()}},{key:"_getChildOption",value:function(e,t){var n={};for(var r in e.children)n[r]=this._getPropByMod(r,t,e.children);return n}},{key:"_getPropByMod",value:function(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})[e];return t().isArray(r)?r[n%r.length]:r}},{key:"_addOptionalProps",value:function(e,t){return e.index=t,e.parent=this.masterSwirl.el,this._addBurstProperties(e,t),e}},{key:"_addBurstProperties",value:function(e,t,n){var r=this._index;this._index=t;var i=this._parseProperty("degreeShift",e.degreeShift||0);this._index=r;var a=this._props,o=a.degree%360==0?a.count:a.count-1||1,s=a.degree/o,u=this._getSidePoint("start",t*s+i,n),c=this._getSidePoint("end",t*s+i,n);e.x=this._getDeltaFromPoints("x",u,c),e.y=this._getDeltaFromPoints("y",u,c),e.rotate=this._getBitRotation(e.rotate||0,i,t)}},{key:"_getBitRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=this._props,a=i.degree%360==0?i.count:i.count-1||1,o=r*(i.degree/a)+90;if(o+=n,this._isDelta(e)){var s={},u=Object.keys(e)[0],c=e[u];u=t().parseStringOption(u,r),c=t().parseStringOption(c,r),s[parseFloat(u)+o]=parseFloat(c)+o,e=s}else e+=o;return e}},{key:"_getSidePoint",value:function(e,n,r){var i=this._getSideRadius(e,r);return t().getRadialPoint({radius:i.radius,radiusX:i.radiusX,radiusY:i.radiusY,rotate:n,center:{x:0,y:0}})}},{key:"_getSideRadius",value:function(e,t){return{radius:this._getRadiusByKey("radius",e,t),radiusX:this._getRadiusByKey("radiusX",e,t),radiusY:this._getRadiusByKey("radiusY",e,t)}}},{key:"_getRadiusByKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._masterSwirls[n],i=r._deltas,a=r._props;return null!=i[e]?i[e][t]:null!=a[e]?a[e]:void 0}},{key:"_getDeltaFromPoints",value:function(e,t,n){var r={};return t[e]===n[e]?r=t[e]:r[t[e]]=n[e],r}},{key:"_makeTimeline",value:function(){this._o.timeline=this._timelineOptions,(0,d.Z)((0,l.Z)(r.prototype),"_makeTimeline",this).call(this),this.timeline.add(this.masterSwirl,this._swirls[0])}},{key:"_makeTween",value:function(){}},{key:"_hide",value:function(){}},{key:"_show",value:function(){}}]),r}(g),E=function(e){(0,u.Z)(n,e);var t=T(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"_declareDefaults",value:function(){(0,d.Z)((0,l.Z)(n.prototype),"_declareDefaults",this).call(this),this._defaults.isSwirl=!1,this._o.duration=null!=this._o.duration?this._o.duration:700}},{key:"_calcSwirlXY",value:function(e){var t=this._props.degreeShift;this._props.degreeShift=0,(0,d.Z)((0,l.Z)(n.prototype),"_calcSwirlXY",this).call(this,e),this._props.degreeShift=t}}]),n}(x),I=function(e){(0,u.Z)(n,e);var t=T(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"_declareDefaults",value:function(){(0,d.Z)((0,l.Z)(n.prototype),"_declareDefaults",this).call(this),this._defaults.scale=1,this._defaults.width=0,this._defaults.height=0,this._defaults.radius={25:75}}}]),n}(E);S.ChildSwirl=E,S.MainSwirl=I;var j=S,C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this._o=t,this._createTween(t.tweenOptions),!this._o.isChained&&this.refresh(!0)}return(0,s.Z)(e,[{key:"refresh",value:function(e){this._previousValues=[];for(var t=this._o.deltas,n=0;n<t.length;n++){var r=t[n].name;this._previousValues.push({name:r,value:this._o.props[r]})}return this.tween._refresh(e),this}},{key:"restore",value:function(){for(var e=this._previousValues,t=0;t<e.length;t++){var n=e[t];this._o.props[n.name]=n.value}return this}},{key:"_createTween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;e.callbackOverrides={onUpdate:function(e,n){t._calcCurrentProps(e,n)}},this._o.isChained||(e.callbackOverrides.onRefresh=function(e,n,r){t._calcCurrentProps(n,r)}),e.callbacksContext=this._o.callbacksContext,this.tween=new p.Z(e)}},{key:"_calcCurrentProps",value:function(e,t){for(var n=this._o.deltas,r=0;r<n.length;r++){var i=n[r].type;this["_calcCurrent_".concat(i)](n[r],e,t)}}},{key:"_calcCurrent_color",value:function(e,t,n){var r,i,a,o,s=e.start,u=e.delta;if(e.curve){var c=e.curve(n);r=parseInt(c*(s.r+n*u.r),10),i=parseInt(c*(s.g+n*u.g),10),a=parseInt(c*(s.b+n*u.b),10),o=parseFloat(c*(s.a+n*u.a))}else r=parseInt(s.r+t*u.r,10),i=parseInt(s.g+t*u.g,10),a=parseInt(s.b+t*u.b,10),o=parseFloat(s.a+t*u.a);this._o.props[e.name]="rgba(".concat(r,",").concat(i,",").concat(a,",").concat(o,")")}},{key:"_calcCurrent_number",value:function(e,t,n){this._o.props[e.name]=e.curve?e.curve(n)*(e.start+n*e.delta):e.start+t*e.delta}},{key:"_calcCurrent_unit",value:function(e,t,n){var r=e.curve?e.curve(n)*(e.start.value+n*e.delta):e.start.value+t*e.delta;this._o.props[e.name]="".concat(r).concat(e.end.unit)}},{key:"_calcCurrent_array",value:function(e,t,n){for(var r=e.name,i=this._o.props,a="",o=e.curve?e.curve(n):null,s=0;s<e.delta.length;s++){var u=e.delta[s],c=e.curve?o*(e.start[s].value+n*u.value):e.start[s].value+t*u.value;a+="".concat(c).concat(u.unit," ")}i[r]=a}}]),e}();function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R={};p.Z.prototype._declareDefaults.call(R);for(var N=Object.keys(R._defaults),D=0;D<N.length;D++)R._defaults[N[D]]=1;R._defaults.timeline=1;var M=R._defaults,L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this._o=t,this._shortColors={transparent:"rgba(0,0,0,0)",none:"rgba(0,0,0,0)",aqua:"rgb(0,255,255)",black:"rgb(0,0,0)",blue:"rgb(0,0,255)",fuchsia:"rgb(255,0,255)",gray:"rgb(128,128,128)",green:"rgb(0,128,0)",lime:"rgb(0,255,0)",maroon:"rgb(128,0,0)",navy:"rgb(0,0,128)",olive:"rgb(128,128,0)",purple:"rgb(128,0,128)",red:"rgb(255,0,0)",silver:"rgb(192,192,192)",teal:"rgb(0,128,128)",white:"rgb(255,255,255)",yellow:"rgb(255,255,0)",orange:"rgb(255,128,0)"},this._ignoreDeltasMap={prevChainModule:1,masterModule:1},this._parseDeltas(t.options),this._createDeltas(),this._createTimeline(this._mainTweenOptions)}return(0,s.Z)(e,[{key:"refresh",value:function(e){for(var t=0;t<this._deltas.length;t++)this._deltas[t].refresh(e);return this}},{key:"restore",value:function(){for(var e=0;e<this._deltas.length;e++)this._deltas[e].restore();return this}},{key:"_createTimeline",value:function(){this.timeline=new h.Z,this.timeline.add(this._deltas)}},{key:"_createDeltas",value:function(){this._deltas=[],this._deltas.push(this._createDelta(this._mainDeltas,this._mainTweenOptions));for(var e=0;e<this._childDeltas.length;e++){var t=this._childDeltas[e];this._deltas.push(this._createDelta([t.delta],t.tweenOptions))}}},{key:"_createDelta",value:function(e,t){var n=this._o;return new C({deltas:e,tweenOptions:t,props:n.props,isChained:n.isChained,callbacksContext:n.callbacksContext})}},{key:"_parseDeltas",value:function(e){var t=this._splitTweenOptions(e),n=t.delta;this._mainTweenOptions=t.tweenOptions,this._mainDeltas=[],this._childDeltas=[];for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i];if(this._isDelta(n[a])&&!this._ignoreDeltasMap[a]){var o=this._splitAndParseDelta(a,n[a]);o.tweenOptions?this._childDeltas.push(o):this._mainDeltas.push(o.delta)}}}},{key:"_splitAndParseDelta",value:function(e,t){var n=this._splitTweenOptions(t);return n.delta=this._parseDelta(e,n.delta),n}},{key:"_parseDelta",value:function(e,t,n){return this._o.customProps&&null!=this._o.customProps[e]?this._parseDeltaByCustom(e,t,n):this._parseDeltaByGuess(e,t,n)}},{key:"_parseDeltaByCustom",value:function(e,t,n){return this._parseNumberDelta(e,t,n)}},{key:"_parseDeltaByGuess",value:function(e,t,n){var r=this._preparseDelta(t).start,i=this._o;return!isNaN(parseFloat(r))||r.match(/rand\(/)||r.match(/stagger\(/)?i.arrayPropertyMap&&i.arrayPropertyMap[e]?this._parseArrayDelta(e,t):i.numberPropertyMap&&i.numberPropertyMap[e]?this._parseNumberDelta(e,t,n):this._parseUnitDelta(e,t,n):this._parseColorDelta(e,t)}},{key:"_splitTweenOptions",value:function(e){e=P({},e);for(var t=Object.keys(e),n={},r=null,i=0;i<t.length;i++){var a=t[i];M[a]&&(null!=e[a]&&(n[a]=e[a],r=!0),delete e[a])}return{delta:e,tweenOptions:r?n:void 0}}},{key:"_isDelta",value:function(e){var n=t().isObject(e);return!(!(n=n&&!e.unit)||t().isArray(e)||t().isDOM(e))}},{key:"_parseColorDelta",value:function(e,n){if("strokeLinecap"===e)return t().warn("Sorry, stroke-linecap property is not animatable yet, using the start(#{start}) value instead",n),{};var r=this._preparseDelta(n),i=this._makeColorObj(r.start),a=this._makeColorObj(r.end);return{type:"color",name:e,start:i,end:a,curve:r.curve,delta:{r:a.r-i.r,g:a.g-i.g,b:a.b-i.b,a:a.a-i.a}}}},{key:"_parseArrayDelta",value:function(e,n){var r=this._preparseDelta(n),i=this._strToArr(r.start),a=this._strToArr(r.end);t().normDashArrays(i,a);for(var o=0;o<i.length;o++){var s=a[o];t().mergeUnits(i[o],s,e)}return{type:"array",name:e,start:i,end:a,delta:t().calcArrDelta(i,a),curve:r.curve}}},{key:"_parseUnitDelta",value:function(e,n,r){var i=this._preparseDelta(n),a=t().parseUnit(t().parseStringOption(i.end,r)),o=t().parseUnit(t().parseStringOption(i.start,r));return t().mergeUnits(o,a,e),{type:"unit",name:e,start:o,end:a,delta:a.value-o.value,curve:i.curve}}},{key:"_parseNumberDelta",value:function(e,n,r){var i=this._preparseDelta(n),a=parseFloat(t().parseStringOption(i.end,r)),o=parseFloat(t().parseStringOption(i.start,r));return{type:"number",name:e,start:o,end:a,delta:a-o,curve:i.curve}}},{key:"_preparseDelta",value:function(e){var t=(e=P({},e)).curve;null!=t&&((t=w().parseEasing(t))._parent=this),delete e.curve;var n=Object.keys(e)[0];return{start:n,end:e[n],curve:t}}},{key:"_makeColorObj",value:function(e){var n={};if("#"===e[0]){var r=/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(e);if(r){var i=2===r[1].length?r[1]:r[1]+r[1],a=2===r[2].length?r[2]:r[2]+r[2],o=2===r[3].length?r[3]:r[3]+r[3];n={r:parseInt(i,16),g:parseInt(a,16),b:parseInt(o,16),a:1}}}if("#"!==e[0]){var s,u="r"===e[0]&&"g"===e[1]&&"b"===e[2];u&&(s=e),u||(this._shortColors[e]?s=this._shortColors[e]:(t().div.style.color=e,s=t().computedStyle(t().div).color));var c=new RegExp("^rgba?\\((\\d{1,3}),\\s?(\\d{1,3}),\\s?(\\d{1,3}),?\\s?(\\d{1}|0?\\.\\d{1,})?\\)$","gi").exec(s),l=parseFloat(c[4]||1);c&&(n={r:parseInt(c[1],10),g:parseInt(c[2],10),b:parseInt(c[3],10),a:null==l||isNaN(l)?1:l})}return n}},{key:"_strToArr",value:function(e){var n=[];return"number"!=typeof e||isNaN(e)?(e.trim().split(/\s+/gim).forEach(function(e){n.push(t().parseUnit(t().parseIfRand(e)))}),n):(n.push(t().parseUnit(e)),n)}}]),e}();function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V={};p.Z.prototype._declareDefaults.call(V);for(var B=Object.keys(V._defaults),z=0;z<B.length;z++)V._defaults[B[z]]=1;V._defaults.timeline=1;var q=V._defaults,H=function(e){(0,u.Z)(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(r);function r(){return(0,o.Z)(this,r),n.apply(this,arguments)}return(0,s.Z)(r,[{key:"_declareDefaults",value:function(){this._defaults={x:0,y:0,z:0,skewX:0,skewY:0,rotateX:0,rotateY:0,rotateZ:0,scale:1,scaleX:1,scaleY:1,isSoftHide:!0,isShowStart:!0,isShowEnd:!0,isForce3d:!1,isRefreshState:!0},this._drawExclude={el:1},this._3dProperties=["rotateX","rotateY","z"],this._arrayPropertyMap={transformOrigin:1,backgroundPosition:1},this._numberPropertyMap={opacity:1,scale:1,scaleX:1,scaleY:1,rotateX:1,rotateY:1,rotateZ:1,skewX:1,skewY:1},this._prefixPropertyMap={transform:1,transformOrigin:1},this._prefix=t().prefix.css}},{key:"then",value:function(e){if(null==e||!Object.keys(e).length)return 1;var n=t().getLastItem(this._modules);return n.deltas.refresh(!1),this._history[this._history.length-1]=n._o,(0,d.Z)((0,l.Z)(r.prototype),"then",this).call(this,e),n.deltas.restore(),this}},{key:"_checkStartValue",value:function(e,n){return null==n?null!=this._defaults[e]?this._defaults[e]:null!=this._customProps[e]?this._customProps[e]:null!=t().defaultStyles[e]?t().defaultStyles[e]:0:n}},{key:"_draw",value:function(){for(var e=this._props,t=0;t<this._drawProps.length;t++){var n=this._drawProps[t];this._setStyle(n,e[n])}this._drawTransform(),this._customDraw&&this._customDraw(this._props.el,this._props)}},{key:"_drawTransform",value:function(){var e=this._props,t=this._is3d?"translate3d(".concat(e.x,", ").concat(e.y,", ").concat(e.z,") rotateX(").concat(e.rotateX,"deg) rotateY(").concat(e.rotateY,"deg) rotateZ(").concat(e.rotateZ,"deg) skew(").concat(e.skewX,"deg, ").concat(e.skewY,"deg) scale(").concat(e.scaleX,", ").concat(e.scaleY,")"):"translate(".concat(e.x,", ").concat(e.y,") rotate(").concat(e.rotateZ,"deg) skew(").concat(e.skewX,"deg, ").concat(e.skewY,"deg) scale(").concat(e.scaleX,", ").concat(e.scaleY,")");this._setStyle("transform",t)}},{key:"_render",value:function(){if(!this._o.prevChainModule){for(var e=this._props,t=0;t<this._renderProps.length;t++){var n=this._renderProps[t],r=e[n];r="number"==typeof r?"".concat(r,"px"):r,this._setStyle(n,r)}this._draw(),e.isShowStart||this._hide()}}},{key:"_setStyle",value:function(e,t){if(this._state[e]!==t){var n=this._props.el.style;n[e]=t,this._prefixPropertyMap[e]&&(n["".concat(this._prefix).concat(e)]=t),this._state[e]=t}}},{key:"_extendDefaults",value:function(){this._props=this._o.props||{},this._renderProps=[],this._drawProps=[],this._saveCustomProperties(this._o);var e=U({},this._o);e=this._addDefaults(e);for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],a=!this._drawExclude[i]&&null==this._defaults[i]&&!q[i],o=this._customProps[i];t().isDelta(e[i])||q[i]?a&&!o&&this._drawProps.push(i):(this._parseOption(i,e[i]),"el"===i&&(this._props.el=t().parseEl(e.el),this.el=this._props.el),a&&!o&&this._renderProps.push(i))}this._createDeltas(e)}},{key:"_saveCustomProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._customProps=e.customProperties||{},this._customProps=U({},this._customProps),this._customDraw=this._customProps.draw,delete this._customProps.draw,delete e.customProperties,this._copyDefaultCustomProps()}},{key:"_copyDefaultCustomProps",value:function(){for(var e in this._customProps)null==this._o[e]&&(this._o[e]=this._customProps[e])}},{key:"_resetMergedFlags",value:function(e){return(0,d.Z)((0,l.Z)(r.prototype),"_resetMergedFlags",this).call(this,e),e.props=this._props,e.customProperties=this._customProps,e}},{key:"_parseOption",value:function(e,n){(0,d.Z)((0,l.Z)(r.prototype),"_parseOption",this).call(this,e,n);var i=this._props[e];t().isArray(i)&&(this._props[e]=this._arrToString(i))}},{key:"_arrToString",value:function(e){for(var t="",n=0;n<e.length;n++)t+="".concat(e[n].string," ");return t}},{key:"_addDefaults",value:function(e){for(var t in this._is3d=!1,this._defaults)null==e[t]?e[t]="scaleX"===t||"scaleY"===t?null!=e.scale?e.scale:this._defaults.scale:this._defaults[t]:-1!==this._3dProperties.indexOf(t)&&(this._is3d=!0);return this._o.isForce3d&&(this._is3d=!0),e}},{key:"_vars",value:function(){this.deltas.refresh(!1),(0,d.Z)((0,l.Z)(r.prototype),"_vars",this).call(this),this._state={},this.deltas.restore(!1)}},{key:"_createDeltas",value:function(e){this.deltas=new L({options:e,props:this._props,arrayPropertyMap:this._arrayPropertyMap,numberPropertyMap:this._numberPropertyMap,customProps:this._customProps,callbacksContext:e.callbacksContext||this,isChained:!!this._o.prevChainModule}),this._o.prevChainModule&&(this.timeline=this.deltas.timeline)}},{key:"_makeTween",value:function(){}},{key:"_makeTimeline",value:function(){this._o.prevChainModule||(this._o.timeline=this._o.timeline||{},this._addCallbackOverrides(this._o.timeline),(0,d.Z)((0,l.Z)(r.prototype),"_makeTimeline",this).call(this),this.timeline.add(this.deltas))}},{key:"_addCallbackOverrides",value:function(e){var t=this,n=this._props;e.callbackOverrides={onUpdate:this._draw,onRefresh:this._props.isRefreshState?this._draw:void 0,onStart:function(e){t._isChained||(e&&!n.isShowStart?t._show():n.isShowStart||t._hide())},onComplete:function(e){t._isChained||(e?n.isShowEnd||t._hide():n.isShowEnd||t._show())}}}},{key:"_showByTransform",value:function(){this._drawTransform()}},{key:"_mergeThenProperty",value:function(e,n,r){var i="boolean"==typeof r;if(t().isTweenProp(e)||this._nonMergeProps[e]||i)return r;var a={};if(t().isObject(r)&&null!=r.to){for(var o in r)(q[o]||"curve"===o)&&(a[o]=r[o],delete r[o]);r=r.to}if(this._isDelta(r)){var s={};for(var u in r)(q[u]||"curve"===u)&&(s[u]=r[u],delete r[u]);return U(U({},this._parseDeltaValues(e,r)),s)}var c=this._parsePreArrayProperty(e,r);return this._isDelta(n)?U(f({},t().getDeltaEnd(n),c),a):U(f({},n,c),a)}}]),r}(m),W=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(this,e),this.o=n,this.o.el?(this._vars(),this._declareDefaults(),this._extendDefaults(),this._parseFrames(),this._frames.length<=2&&t().warn("Spriter: only ".concat(this._frames.length," frames found")),this._frames.length<1&&t().error("Spriter: there is no frames to animate, aborting"),this._createTween(),this):t().error('No "el" option specified, aborting')}return(0,s.Z)(e,[{key:"_declareDefaults",value:function(){this._defaults={duration:500,delay:0,easing:"linear.none",repeat:0,yoyo:!1,isRunLess:!1,isShowEnd:!1,onStart:null,onUpdate:null,onComplete:null}}},{key:"_vars",value:function(){this._props=t().cloneObj(this.o),this.el=this.o.el,this._frames=[]}},{key:"run",value:function(){return this.timeline.play()}},{key:"_extendDefaults",value:function(){return t().extend(this._props,this._defaults)}},{key:"_parseFrames",value:function(){this._frames=Array.prototype.slice.call(this.el.children,0),this._frames.forEach(function(e){return e.style.opacity=0}),this._frameStep=1/this._frames.length}},{key:"_createTween",value:function(){var e=this;this._tween=new p.Z({duration:this._props.duration,delay:this._props.delay,yoyo:this._props.yoyo,repeat:this._props.repeat,easing:this._props.easing,onStart:function(){return e._props.onStart&&e._props.onStart()},onComplete:function(){return e._props.onComplete&&e._props.onComplete()},onUpdate:function(t){return e._setProgress(t)}}),this.timeline=new h.Z,this.timeline.add(this._tween),this._props.isRunLess||this._startTween()}},{key:"_startTween",value:function(){var e=this;setTimeout(function(){return e.timeline.play()},1)}},{key:"_setProgress",value:function(e){var t=Math.floor(e/this._frameStep);if(this._prevFrame!=this._frames[t]){this._prevFrame&&(this._prevFrame.style.opacity=0);var n=1===e&&this._props.isShowEnd?t-1:t;this._frames[n]&&(this._frames[n].style.opacity=1),this._prevFrame=this._frames[t]}this._props.onUpdate&&this._props.onUpdate(e)}}]),e}(),K=n(291),G=n.n(K),Y={revision:"1.3.0",isDebug:!1,helpers:t(),Shape:O,ShapeSwirl:x,Burst:j,Html:H,stagger:function(e){return function(t){return new b(t,e)}},Spriter:W,MotionPath:G(),Tween:p.Z,Timeline:h.Z,Tweenable:y,Thenable:m,Tunable:g,Module:v.Z,tweener:_.Z,easing:w(),shapesMap:a(),_pool:{Delta:C,Deltas:L},h:t(),delta:t().delta,addShape:a().addShape,CustomShape:a().custom,Transit:O,Swirl:x};"undefined"!=typeof window&&(window.mojs=Y);var $=Y}(),r.default}()},"object"==s(t)&&"object"==s(e)?e.exports=o():(i=[],void 0===(a="function"===typeof(r=o)?r.apply(t,i):r)||(e.exports=a))}).call(this,n(51)(e))},function(e,t,n){var r=n(23);e.exports=function(e,t,n,i){var a=n?n.call(i,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==r(e)||!e||"object"!==r(t)||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!u(l))return!1;var h=e[l],f=t[l];if(!1===(a=n?n.call(i,h,f,l):void 0)||void 0===a&&h!==f)return!1}return!0}},function(e,t,n){"use strict";var r=n(8);t.a=function(e){function t(e,t,r){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===C||2===C&&a(u,1)?"-webkit-"+u+u:u}if(0===C||2===C&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(_,"tb");break;case 232:u=o.replace(_,"tb-rl");break;case 220:u=o.replace(_,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(O,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(O,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(x,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var h,f=0,d=t;f<R;++f)switch(h=P[f].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?C=1:(C=2,N=e):C=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var u=s(-1,n,r,r,I,E,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var c=function e(n,r,u,c,f){for(var d,p,v,y,_,w=0,O=0,x=0,T=0,S=0,P=0,N=v=d=0,M=0,L=0,F=0,U=0,V=u.length,B=V-1,z="",q="",H="",W="";M<V;){if(p=u.charCodeAt(M),M===B&&0!==O+T+x+w&&(0!==O&&(p=47===O?10:47),T=x=w=0,V++,B++),0===O+T+x+w){if(M===B&&(0<L&&(z=z.replace(h,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(N=M+1;N<B;++N)switch(u.charCodeAt(N)){case 47:if(42===p&&42===u.charCodeAt(N-1)&&M+2!==N){M=N+1;break e}break;case 10:if(47===p){M=N+1;break e}}M=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}switch(v=u.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<L&&(z=z.replace(h,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(U=(v=e(r,L,v,p,f+1)).length,0<R&&(_=s(3,v,L=t(A,z,F),r,I,E,U,p,f,c),z=L.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(k,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===C||2===C&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v="";break;default:v=e(r,t(r,z,F),v,c,f+1)}H+=v,v=F=L=N=d=0,z="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<L?z.replace(h,""):z).trim()).length))switch(0===N&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<R&&void 0!==(_=s(1,z,r,n,I,E,q.length,c,f,c))&&0===(U=(z=_.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+u.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=L=N=d=0,z="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===O?O=0:0===1+d&&107!==c&&0<z.length&&(L=1,z+="\0"),0<R*D&&s(0,z,r,n,I,E,q.length,c,f,c),E=1,I++;break;case 59:case 125:if(0===O+T+x+w){E++;break}default:switch(E++,y=u.charAt(M),p){case 9:case 32:if(0===T+w+O)switch(S){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===T+O+w&&(L=F=1,y="\f"+y);break;case 108:if(0===T+O+w+j&&0<N)switch(M-N){case 2:112===S&&58===u.charCodeAt(M-3)&&(j=S);case 8:111===P&&(j=P)}break;case 58:0===T+O+w&&(N=M);break;case 44:0===O+x+T+w&&(L=1,y+="\r");break;case 34:case 39:0===O&&(T=T===p?0:0===T?p:T);break;case 91:0===T+O+x&&w++;break;case 93:0===T+O+x&&w--;break;case 41:0===T+O+w&&x--;break;case 40:if(0===T+O+w){if(0===d)switch(2*S+3*P){case 533:break;default:d=1}x++}break;case 64:0===O+x+T+w+N+v&&(v=1);break;case 42:case 47:if(!(0<T+w+x))switch(O){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:O=47;break;case 220:U=M,O=42}break;case 42:47===p&&42===S&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),y="",O=0)}}0===O&&(z+=y)}P=S,S=p,M++}if(0<(U=q.length)){if(L=r,0<R&&void 0!==(_=s(2,q,L,n,I,E,U,c,f,c))&&0===(q=_).length)return W+q+H;if(q=L.join(",")+"{"+q+"}",0!==C*j){switch(2!==C||a(q,2)||(j=0),j){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}j=0}}return W+q+H}(A,r,n,0,0);return 0<R&&void 0!==(u=s(-2,c,r,r,I,E,c.length,0,0,0))&&(c=u),j=0,E=I=1,c}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,O=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,E=1,I=1,j=0,C=1,A=[],P=[],R=0,N=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===Object(r.a)(t))for(var n=0,i=t.length;n<i;++n)e(t[n]);else D=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){(function(r,i){var a,o,s,u=n(23);s=function(){"use strict";function e(e,t){if(!function(e){return null!==e&&"object"==u(e)}(e)||"string"!=typeof t)return e;for(var n=t.split("."),r=0;r<n.length;r++){var i=n[r];if(null===(e=e.hasOwnProperty(i)?e[i]:null))break}return e}function t(e){this.fn=e,this._promise=null}t.prototype.then=function(e,t){return this._promise=this._promise||new Promise(this.fn),this._promise.then(e,t)},t.prototype.catch=function(e){return this._promise=this._promise||new Promise(this.fn),this._promise.catch(e)};var n=function(e,t){t.add();for(var n=e.length,r=0,i="name";r<n;){var a=e[r++],o=a.charCodeAt(0);58===o||44===o?(i="arg",t.shiftValue()):124===o?(i="name",t.add()):"arg"===i?t.appendValue(a):t.appendKey(a,o)}return t.toJSON()},a=function(){return{nodes:[],currentNode:null,add:function(){this.currentNode={name:"",args:[]},this.nodes.push(this.currentNode)},appendKey:function(e,t){32!==t&&(this.currentNode.name+=e)},appendValue:function(e){this.currentNode.args[this.currentNode.args.length-1]+=e},shiftValue:function(){this.currentNode.args.push("")},toJSON:function(){return this.nodes}}};function o(t,r){return r=r||{},Object.keys(t).reduce(function(i,o){var s=t[o];if("string"==typeof s)s=n(s,new a);else if(!Array.isArray(s))throw new Error("Rules must be defined as a string or an array");return o.indexOf("*")>-1?function t(n,r,i,a){if(!r)return[];i=i||0;var o=n[i++],s=n[i];return a||(a=[o],o=""),a=a.reduce(function(t,n){var i=o?n+"."+o:n;if(void 0!==s){var a=e(r,i);if(Array.isArray(a))for(var u=a.length,c=0;c<u;c++)t.push(i+"."+c)}else t.push(i);return t},[]),i===n.length?a:t(n,r,i,a)}(o.split(/\.\*\.?/),r).forEach(function(e){i[e]=s}):i[o]=s,i},{})}var s=function(e){return e.replace(/_(\w)/g,function(e,t){return t.toUpperCase()})};function c(n,r,i,a,o){return Object.keys(r).reduce(function(u,c){return r[c].map(function(r){u.push(function(n,r,i,a,o,u){var c=r.name,l=r.args;return new t(function(t,r){var h=s(c),f=n[h];if("function"!=typeof f){var d=new Error(h+" is not defined as a validation rule");return u.addError(d,i,h,l),void r(d)}f(a,i,function(t,n,r,i){var a=n.replace(/\.\d/g,".*"),o=s(r),u=t[a+"."+r]||t[a+"."+o]||t[r]||t[o]||"{{validation}} validation failed on {{ field }}";return"function"==typeof u?u(a,r,i):function(t,n,r){r=r||{skipUndefined:!1,throwOnUndefined:!1};for(var i,a=/{{2}(.+?)}{2}/g,o=t;null!==(i=a.exec(t));){var s=i[1].trim();if(s){var u=e(n,s);if(void 0!==u&&null!==u)o=o.replace(i[0],u);else{if(r.throwOnUndefined){var c=new Error("Missing value for "+i[0]);throw c.key=s,c.code="E_MISSING_KEY",c}r.skipUndefined||(o=o.replace(i[0],""))}}}return o}(u,{field:n,validation:r,argument:i})}(o,i,c,l),l,e).then(t).catch(function(e){u.addError(e,i,h,l),r(e)})})}(n,r,c,i,a,o))}),u},[])}function l(e,t,n,r,i,a){return new Promise(function(s,u){i=i||{};var l=o(r,n);(function(e,t){var n=[],r=e.length;return function t(i,a){return i>=r?Promise.resolve(n):e[i].then(function(e){return n.push(function(e){return{fullFilled:!0,rejected:!1,value:e,reason:null}}(e)),t(i+1,a)}).catch(function(e){return n.push(function(e){return{fullFilled:!1,rejected:!0,value:null,reason:e}}(e)),a?Promise.resolve(n):t(i+1,a)})}(0,t)})(c(e,l,n,i,a),t).then(function(e){var t=a.toJSON();if(t)return u(t);s(n)})})}var h=function(e,t){var n="Cannot instantiate validator without";if(!e)throw new Error(n+" validations");if(!t)throw new Error(n+" error formatter");return{validate:function(n,r,i,a){return a=new(a||t),l(e,!0,n,r,i,a)},validateAll:function(n,r,i,a){return a=new(a||t),l(e,!1,n,r,i,a)}}},f="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function p(e,t){return e(t={exports:{}},t.exports),t.exports}var v=p(function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function a(o,c,l,h,f){"object"==u(c)&&(l=c.depth,h=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],p=[],v="undefined"!=typeof i;return void 0===c&&(c=!0),void 0===l&&(l=1/0),function o(l,y){if(null===l)return null;if(0===y)return l;var m,g;if("object"!=u(l))return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r(function(e,t){l.then(function(t){e(o(t,y-1))},function(e){t(o(e,y-1))})});else if(a.__isArray(l))m=[];else if(a.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(a.__isDate(l))m=new Date(l.getTime());else{if(v&&i.isBuffer(l))return m=i.allocUnsafe?i.allocUnsafe(l.length):new i(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===h?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(h),g=h)}if(c){var b=d.indexOf(l);if(-1!=b)return p[b];d.push(l),p.push(m)}for(var _ in e(l,t)&&l.forEach(function(e,t){var n=o(t,y-1),r=o(e,y-1);m.set(n,r)}),e(l,n)&&l.forEach(function(e){var t=o(e,y-1);m.add(t)}),l){var k;g&&(k=Object.getOwnPropertyDescriptor(g,_)),k&&null==k.set||(m[_]=o(l[_],y-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(_=0;_<w.length;_++){var O=w[_];(!(T=Object.getOwnPropertyDescriptor(l,O))||T.enumerable||f)&&(m[O]=o(l[O],y-1),T.enumerable||Object.defineProperty(m,O,{enumerable:!1}))}}if(f){var x=Object.getOwnPropertyNames(l);for(_=0;_<x.length;_++){var T,S=x[_];(T=Object.getOwnPropertyDescriptor(l,S))&&T.enumerable||(m[S]=o(l[S],y-1),Object.defineProperty(m,S,{enumerable:!1}))}}return m}(o,l)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"==u(e)&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"==u(e)&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"==u(e)&&"[object RegExp]"===o(e)},a.__getRegExpFlags=s,a}();e.exports&&(e.exports=t)}),y="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)},m=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function g(e){return null!==e&&"object"===(void 0===e?"undefined":y(e))}var b=function(e){return new Promise(function(t,n){var r=e();if(r)return n(r);t("validation passed")})},_={EXISTY_STRICT:!1,FORMATTER:null},k=function(e){return"string"==typeof e?e.trim().length>0:null!==e&&void 0!==e},w=function(e){return _.EXISTY_STRICT?void 0===e:!k(e)},O=function(e,t){return Number(e)>Number(t)},x=function(e){return k(e)&&!1!==e&&0!==e},T=/^[a-z]+$/i,S=function(e){return T.test(e)},E=/^[a-z0-9]+$/i,I=function(e){return E.test(e)},j=function(e){var t=[!0,!1,0,1];return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?t.map(function(e){return String(e)}).indexOf(String(e))>-1:t.indexOf(e)>-1},C=function(e,t){return e===t},A=p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String))throw new TypeError("This library (validator.js) validates strings only")},e.exports=t.default});d(A);var P=p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default});d(P);var R=p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)};t.default=function(e,t){(0,i.default)(e);var r=void 0,a=void 0;"object"===(void 0===t?"undefined":n(t))?(r=t.min||0,a=t.max):(r=arguments[1],a=arguments[2]);var o=encodeURI(e).split(/%..|./).length-1;return o>=r&&(void 0===a||o<=a)};var r,i=(r=A)&&r.__esModule?r:{default:r};e.exports=t.default});d(R);var N=p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,r.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var i=e.split("."),o=0;o<i.length;o++)if(i[o].length>63)return!1;if(t.require_tld){var s=i.pop();if(!i.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(s))return!1}for(var u,c=0;c<i.length;c++){if(u=i[c],t.allow_underscores&&(u=u.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(u))return!1;if(/[\uff01-\uff5e]/.test(u))return!1;if("-"===u[0]||"-"===u[u.length-1])return!1}return!0};var n=i(A),r=i(P);function i(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default});d(N);var D=p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,r.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n)return!!i.test(t)&&t.split(".").sort(function(e,t){return e-t})[3]<=255;if("6"===n){var o=t.split(":"),s=!1,u=e(o[o.length-1],4),c=u?7:8;if(o.length>c)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(o.shift(),o.shift(),s=!0):"::"===t.substr(t.length-2)&&(o.pop(),o.pop(),s=!0);for(var l=0;l<o.length;++l)if(""===o[l]&&l>0&&l<o.length-1){if(s)return!1;s=!0}else if(u&&l===o.length-1);else if(!a.test(o[l]))return!1;return s?o.length>=1:o.length===c}return!1};var n,r=(n=A)&&n.__esModule?n:{default:n},i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,a=/^[0-9A-F]{1,4}$/i;e.exports=t.default});d(D);var M=d(p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),(t=(0,r.default)(t,u)).require_display_name||t.allow_display_name){var s=e.match(c);if(s)e=s[1];else if(t.require_display_name)return!1}var v=e.split("@"),y=v.pop(),m=v.join("@"),g=y.toLowerCase();if(t.domain_specific_validation&&("gmail.com"===g||"googlemail.com"===g)){var b=(m=m.toLowerCase()).split("+")[0];if(!(0,i.default)(b.replace(".",""),{min:6,max:30}))return!1;for(var _=b.split("."),k=0;k<_.length;k++)if(!h.test(_[k]))return!1}if(!(0,i.default)(m,{max:64})||!(0,i.default)(y,{max:254}))return!1;if(!(0,a.default)(y,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,o.default)(y)){if(!y.startsWith("[")||!y.endsWith("]"))return!1;var w=y.substr(1,y.length-2);if(0===w.length||!(0,o.default)(w))return!1}}if('"'===m[0])return m=m.slice(1,m.length-1),t.allow_utf8_local_part?p.test(m):f.test(m);for(var O=t.allow_utf8_local_part?d:l,x=m.split("."),T=0;T<x.length;T++)if(!O.test(x[T]))return!1;return!0};var n=s(A),r=s(P),i=s(R),a=s(N),o=s(D);function s(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},c=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,h=/^[a-z\d]+$/,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default})),L=function(e,t){return M(String(e),t)},F=function(e,t){return"function"==typeof t.indexOf&&t.indexOf(e)>-1},U=/^(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}$/,V=function(e){return U.test(e)},B=/^(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+$/,z=function(e){return B.test(e)},q=function(e){return V(e)||z(e)},H=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},W=function(e,t){var n="number"==typeof e&&!isNaN(e);return!0!==e&&!1!==e&&(n||t?n:!isNaN(e))},K=function(e){return e instanceof Object&&!Array.isArray(e)},G=function(e,t,n){return(e=Number(e))>Number(t)&&e<Number(n)},Y=function(e){return null===e},$=function(e){return!k(e)||!(e instanceof Date)&&"object"===(void 0===e?"undefined":y(e))&&0===Object.keys(e).length},Z=function(e){return"string"==typeof e},Q=/https?:\/\/(www\.)?([-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}|localhost)\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,X=function(e){return Q.test(e)},J=function(e){return e instanceof Date},ee=36e5,te=/[T ]/,ne=/:/,re=/^(\d{2})$/,ie=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],ae=/^(\d{4})/,oe=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],se=/^-(\d{2})$/,ue=/^-?(\d{3})$/,ce=/^-?(\d{2})-?(\d{2})$/,le=/^-?W(\d{2})$/,he=/^-?W(\d{2})-?(\d{1})$/,fe=/^(\d{2}([.,]\d*)?)$/,de=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,pe=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,ve=/([Z+-].*)$/,ye=/^(Z)$/,me=/^([+-])(\d{2})$/,ge=/^([+-])(\d{2}):?(\d{2})$/;function be(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var _e=function(e,t){if(J(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var r,i,a,o=function(e){var t,n={},r=e.split(te);if(ne.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var i=ve.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e),s=function(e,t){var n,r=ie[t],i=oe[t];if(n=ae.exec(e)||i.exec(e)){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=re.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(o.date,n),u=s.year,c=function(e,t){if(null===t)return null;var n,r,i;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=se.exec(e))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(t,i),r;if(n=ue.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=ce.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return r.setUTCFullYear(t,i,o),r}return(n=le.exec(e))?be(t,parseInt(n[1],10)-1):(n=he.exec(e))?be(t,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(s.restDateString,u);if(c){var l,h=c.getTime(),f=0;return o.time&&(f=function(e){var t,n,r;if(t=fe.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*ee;if(t=de.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*ee+6e4*r;if(t=pe.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return n%24*ee+6e4*r+1e3*i}return null}(o.time)),o.timezone?(r=o.timezone,l=(i=ye.exec(r))?0:(i=me.exec(r))?(a=60*parseInt(i[2],10),"+"===i[1]?-a:a):(i=ge.exec(r))?(a=60*parseInt(i[2],10)+parseInt(i[3],10),"+"===i[1]?-a:a):0):(l=new Date(h+f).getTimezoneOffset(),l=new Date(h+f+6e4*l).getTimezoneOffset()),new Date(h+f+6e4*l)}return new Date(e)},ke=function(e,t){var n=_e(e),r=_e(t);return n.getTime()>r.getTime()},we=function(e,t){var n=_e(e),r=_e(t);return n.getTime()<r.getTime()},Oe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e instanceof Date==1||!t&&"Invalid Date"!==new Date(e).toString()},xe=function(e){var t=_e(e);return t.setHours(0,0,0,0),t},Te=function(e){var t=_e(e);return function(e,t){var n=xe(e),r=xe(t),i=n.getTime()-6e4*n.getTimezoneOffset(),a=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((i-a)/864e5)}(t,function(e){var t=_e(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(t))+1},Se=function(e){return function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=_e(e),i=r.getDay(),a=(i<n?7:0)+i-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}(e,{weekStartsOn:1})},Ee=function(e){var t=_e(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Se(r),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var o=Se(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1},Ie=function(e){var t=_e(e),n=Se(t).getTime()-function(e){var t=Ee(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Se(n)}(t).getTime();return Math.round(n/6048e5)+1},je=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"],Ce={distanceInWords:function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var i;return r=r||{},i="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}}}(),format:function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],o=["am","pm"],s=["a.m.","p.m."],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?o[1]:o[0]},aa:function(e){return e.getHours()/12>=1?s[1]:s[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){u[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}}),{formatters:u,formattingTokensRegExp:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var r=je.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")}(u)}}()},Ae={M:function(e){return e.getMonth()+1},MM:function(e){return Re(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return Re(e.getDate(),2)},DDD:function(e){return Te(e)},DDDD:function(e){return Re(Te(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return Ie(e)},WW:function(e){return Re(Ie(e),2)},YY:function(e){return Re(e.getFullYear(),4).substr(2)},YYYY:function(e){return Re(e.getFullYear(),4)},GG:function(e){return String(Ee(e)).substr(2)},GGGG:function(e){return Ee(e)},H:function(e){return e.getHours()},HH:function(e){return Re(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return Re(Ae.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return Re(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return Re(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return Re(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return Re(e.getMilliseconds(),3)},Z:function(e){return Pe(e.getTimezoneOffset(),":")},ZZ:function(e){return Pe(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function Pe(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),i=r%60;return n+Re(Math.floor(r/60),2)+t+Re(i,2)}function Re(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var Ne,De=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,a=Ce.format.formatters,o=Ce.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(a=i.format.formatters,i.format.formattingTokensRegExp&&(o=i.format.formattingTokensRegExp));var s=_e(e);return function(e){if(J(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}(s)?function(e,t,n){var r,i,a,o=e.match(n),s=o.length;for(r=0;r<s;r++)i=t[o[r]]||Ae[o[r]],o[r]=i||((a=o[r]).match(/\[[\s\S]/)?a.replace(/^\[|]$/g,""):a.replace(/\\/g,""));return function(e){for(var t="",n=0;n<s;n++)o[n]instanceof Function?t+=o[n](e,Ae):t+=o[n];return t}}(r,a,o)(s):"Invalid Date"},Me=function(e,t){return(Array.isArray(t)?t:[t]).some(function(t){var n=e,r=!1;t.endsWith("ZZ")?(n=e.replace(/(\+|-)\d{4}$/,""),t=t.replace(/ZZ$/,""),r=!0):t.endsWith("Z")&&(n=e.replace(/Z$/,"").replace(/(\+|-)\d{2}:\d{2}$/,""),t=t.replace(/Z$/,""),r=!0);var i=De(n,t);return"Invalid Date"!==i&&i===n&&(!r||n!==e)})},Le=function(e,t){var n=_e(e),r=Number(t),i=n.getMonth()+r,a=new Date(0);a.setFullYear(n.getFullYear(),i,1),a.setHours(0,0,0,0);var o=function(e){var t=_e(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}(a);return n.setMonth(i,Math.min(o,n.getDate())),n},Fe=function(e,t,n){var r={years:function(e){return 12*e},quarters:function(e){return 3*e},months:function(e){return e}},i={weeks:function(e){return 7*e},days:function(e){return e}},a={hours:function(e){return 36e5*e},minutes:function(e){return 6e4*e},seconds:function(e){return 1e3*e},milliseconds:function(e){return e}};return e=Number(e),r[t]?Le(new Date,"-"===n?-r[t](e):r[t](e)):i[t]?function(e,t){var n=_e(e),r=Number(t);return n.setDate(n.getDate()+r),n}(new Date,"-"===n?-i[t](e):i[t](e)):a[t]?function(e,t){var n=_e(e).getTime(),r=Number(t);return new Date(n+r)}(new Date,"-"===n?-a[t](e):a[t](e)):void 0},Ue=function(e,t,n){var r=Fe(t,n,"-");return!!r&&we(e,r)},Ve=function(e,t,n){var r=Fe(t,n,"+");return!!r&&ke(e,r)},Be=Object.freeze({above:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)return new Error("above:make sure to define minValue");var r=i(e,t);return w(r)||O(r,a)?void 0:n})},accepted:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!x(r))return n})},alpha:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!S(r))return n})},alphaNumeric:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!I(r))return n})},array:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!Array.isArray(r))return n})},boolean:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!j(r,!1))return n})},confirmed:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!C(r,i(e,t+"_confirmation")))return n})},different:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)throw new Error("different:make sure to define target field for comparison");var r=i(e,t),o=i(e,a);if(!w(r)&&o&&o===r)return n})},email:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!L(r))return n})},endsWith:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)throw new Error("endsWith:make sure to define the matching substring");var r=i(e,t);if(!w(r)&&String(r).trim().substr(-a.length)!==String(a))return n})},equals:function(e,t,n,r,i){var a=r[0];return b(function(){var r=i(e,t);if(!w(r)&&a!=r)return n})},in:function(e,t,n,r,i){return b(function(){var a=i(e,t);if(!w(a)&&!F(a,r))return n})},includes:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){var r=i(e,t);if(!w(r)&&-1===String(r).indexOf(a))return n})},integer:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!Number.isInteger(Number(r)))return n})},ip:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!q(r))return n})},ipv4:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!V(r))return n})},ipv6:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!z(r))return n})},json:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!H(r))return n})},max:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)throw new Error("max:make sure to define max length");var r=i(e,t),o=Array.isArray(r)?r:String(r);if(!w(r)&&o.length>a)return n})},min:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)throw new Error("min:make sure to define min length");var r=i(e,t),o=Array.isArray(r)?r:String(r);if(!w(r)&&o.length<a)return n})},notEquals:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){var r=i(e,t);if(!w(r)&&a==r)return n})},notIn:function(e,t,n,r,i){return b(function(){var a=i(e,t);if(!w(a)&&F(a,r))return n})},number:function(e,t,n,r,i){return b(function(){var r=i(e,t),a="string"==typeof r?Number(r):r;if(!w(r)&&!W(a))return n})},object:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!K(r))return n})},range:function(e,t,n,r,i){var a=m(r,2),o=a[0],s=a[1];return b(function(){if([o,s].some(function(e){return Y(e)||isNaN(e)}))return new Error("range:min and max values are required for range validation");var r=i(e,t);return w(r)||G(r,o,s)?void 0:n})},regex:function(e,t,n,r,i){var a=m(r,2),o=a[0],s=a[1];return b(function(){var r=i(e,t),a=o instanceof RegExp?o:new RegExp(o,s);if(!w(r)&&!a.test(r))return n})},required:function(e,t,n,r,i){return b(function(){if($(i(e,t)))return n})},requiredIf:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(k(i(e,a))&&$(i(e,t)))return n})},requiredWhen:function(e,t,n,r,i){var a=m(r,2),o=a[0],s=a[1];return b(function(){var r=i(e,o);if(String(s)===String(r)&&$(i(e,t)))return n})},requiredWithAll:function(e,t,n,r,i){return b(function(){if(!r.some(function(t){return!k(i(e,t))})&&$(i(e,t)))return n})},requiredWithAny:function(e,t,n,r,i){return b(function(){if(r.some(function(t){return k(i(e,t))})&&$(i(e,t)))return n})},requiredWithoutAll:function(e,t,n,r,i){return b(function(){if(!r.some(function(t){return k(i(e,t))})&&$(i(e,t)))return n})},requiredWithoutAny:function(e,t,n,r,i){return b(function(){if(r.some(function(t){return!k(i(e,t))})&&$(i(e,t)))return n})},same:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){var r=i(e,t),o=i(e,a);if(!w(r)&&k(o)&&o!==r)return n})},startsWith:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)throw new Error("startsWith:make sure to define the matching substring");var r=i(e,t);if(!w(r)&&String(r).trim().substr(0,a.length)!==String(a))return n})},string:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!Z(r))return n})},under:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)throw new Error("under:make sure to pass the max value");var r=i(e,t);if(!w(r)&&Number(r)>=Number(a))return n})},url:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!X(r))return n})},after:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)return new Error("after:make sure to define the after date");var r=i(e,t);return w(r)||ke(r,a)?void 0:n})},before:function(e,t,n,r,i){var a=m(r,1)[0];return b(function(){if(!a)return new Error("before:make sure to define the before date");var r=i(e,t);return w(r)||we(r,a)?void 0:n})},date:function(e,t,n,r,i){return b(function(){var r=i(e,t);if(!w(r)&&!Oe(r,!1))return n})},dateFormat:function(e,t,n,r,i){return b(function(){if(0===r.length)throw new Error("dateFormat:make sure to define atleast one date format");var a=i(e,t);if(!w(a)&&!Me(a,r))return n})},beforeOffsetOf:function(e,t,n,r,i){var a=m(r,2),o=a[0],s=a[1];return b(function(){if(!o||!s)return new Error("beforeOffsetOf:make sure to define offset unit and key");var r=i(e,t);return w(r)||Ue(r,o,s)?void 0:n})},afterOffsetOf:function(e,t,n,r,i){var a=m(r,2),o=a[0],s=a[1];return b(function(){if(!o||!s)return new Error("afterOffsetOf:make sure to define offset unit and key");var r=i(e,t);return w(r)||Ve(r,o,s)?void 0:n})}}),ze=d(p(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,r.default)(t,i);var n=e.split("@"),l=n.pop(),h=[n.join("@"),l];if(h[1]=h[1].toLowerCase(),"gmail.com"===h[1]||"googlemail.com"===h[1]){if(t.gmail_remove_subaddress&&(h[0]=h[0].split("+")[0]),t.gmail_remove_dots&&(h[0]=h[0].replace(/\.+/g,c)),!h[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(h[0]=h[0].toLowerCase()),h[1]=t.gmail_convert_googlemaildotcom?"gmail.com":h[1]}else if(a.indexOf(h[1])>=0){if(t.icloud_remove_subaddress&&(h[0]=h[0].split("+")[0]),!h[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(h[0]=h[0].toLowerCase())}else if(o.indexOf(h[1])>=0){if(t.outlookdotcom_remove_subaddress&&(h[0]=h[0].split("+")[0]),!h[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(h[0]=h[0].toLowerCase())}else if(s.indexOf(h[1])>=0){if(t.yahoo_remove_subaddress){var f=h[0].split("-");h[0]=f.length>1?f.slice(0,-1).join("-"):f[0]}if(!h[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(h[0]=h[0].toLowerCase())}else u.indexOf(h[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(h[0]=h[0].toLowerCase()),h[1]="yandex.ru"):t.all_lowercase&&(h[0]=h[0].toLowerCase());return h.join("@")};var n,r=(n=P)&&n.__esModule?n:{default:n},i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],o=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],s=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function c(e){return e.length>1?e:""}e.exports=t.default})),qe=p(function(e){!function(t){if("function"!=typeof n){var n=function(e){return e};n.nonNative=!0}var r=n("plaintext"),i=n("html"),a=n("comment"),o=/<(\w*)>/g,s=/<\/?([^\s\/>]+)/;function u(e,t,n){return l(e=e||"",c(t=t||[],n=n||""))}function c(e,t){return{allowable_tags:e=function(e){var t=new Set;if("string"==typeof e)for(var r=void 0;r=o.exec(e);)t.add(r[1]);else n.nonNative||"function"!=typeof e[n.iterator]?"function"==typeof e.forEach&&e.forEach(t.add,t):t=new Set(e);return t}(e),tag_replacement:t,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function l(e,t){for(var n=t.allowable_tags,o=t.tag_replacement,s=t.state,u=t.tag_buffer,c=t.depth,l=t.in_quote_char,f="",d=0,p=e.length;d<p;d++){var v=e[d];if(s===r)switch(v){case"<":s=i,u+=v;break;default:f+=v}else if(s===i)switch(v){case"<":if(l)break;c++;break;case">":if(l)break;if(c){c--;break}l="",s=r,u+=">",n.has(h(u))?f+=u:f+=o,u="";break;case'"':case"'":l=v===l?"":l||v,u+=v;break;case"-":"<!-"===u&&(s=a),u+=v;break;case" ":case"\n":if("<"===u){s=r,f+="< ",u="";break}u+=v;break;default:u+=v}else if(s===a)switch(v){case">":"--"==u.slice(-2)&&(s=r),u="";break;default:u+=v}}return t.state=s,t.tag_buffer=u,t.depth=c,t.in_quote_char=l,f}function h(e){var t=s.exec(e);return t?t[1].toLowerCase():null}u.init_streaming_mode=function(e,t){var n=c(e=e||[],t=t||"");return function(e){return l(e||"",n)}},e.exports?e.exports=u:t.striptags=u}(f)}),He=p(function(e,t){var n;n=function(){var e=[],t=[],n={},r={},i={};function a(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function o(e,t){return e===t?t:e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(t[0],function(n,r){var i,a,s=(i=t[1],a=arguments,i.replace(/\$(\d{1,2})/g,function(e,t){return a[t]||""}));return o(""===n?e[r-1]:n,s)})}function u(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var i=r.length;i--;){var a=r[i];if(a[0].test(t))return s(t,a)}return t}function c(e,t,n){return function(r){var i=r.toLowerCase();return t.hasOwnProperty(i)?o(r,i):e.hasOwnProperty(i)?o(r,e[i]):u(i,r,n)}}function l(e,t,n,r){return function(r){var i=r.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&u(i,i,n)===i}}function h(e,t,n){return(n?t+" ":"")+(1===t?h.singular(e):h.plural(e))}return h.plural=c(i,r,e),h.isPlural=l(i,r,e),h.singular=c(r,i,t),h.isSingular=l(r,i,t),h.addPluralRule=function(t,n){e.push([a(t),n])},h.addSingularRule=function(e,n){t.push([a(e),n])},h.addUncountableRule=function(e){"string"!=typeof e?(h.addPluralRule(e,"$0"),h.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},h.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return h.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return h.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return h.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h},e.exports=n()}),We=1/0,Ke="[object Symbol]",Ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ze="["+$e+"]",Qe="\\d+",Xe="[a-z\\xdf-\\xf6\\xf8-\\xff]",Je="[^\\ud800-\\udfff"+$e+Qe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",tt="[\\ud800-\\udbff][\\udc00-\\udfff]",nt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rt="(?:"+Xe+"|"+Je+")",it="(?:"+nt+"|"+Je+")",at="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",ot="[\\ufe0e\\ufe0f]?"+at+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",et,tt].join("|")+")[\\ufe0e\\ufe0f]?"+at+")*",st="(?:"+["[\\u2700-\\u27bf]",et,tt].join("|")+")"+ot,ut=RegExp("['\u2019]","g"),ct=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),lt=RegExp([nt+"?"+Xe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Ze,nt,"$"].join("|")+")",it+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Ze,nt+rt,"$"].join("|")+")",nt+"?"+rt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",nt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qe,st].join("|"),"g"),ht=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ft="object"==u(f)&&f&&f.Object===Object&&f,dt="object"==("undefined"===typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,pt=ft||dt||Function("return this")(),vt=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"}),yt=Object.prototype.toString,mt=pt.Symbol,gt=mt?mt.prototype:void 0,bt=gt?gt.toString:void 0;function _t(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==u(e)||function(e){return!!e&&"object"==u(e)}(e)&&yt.call(e)==Ke}(e))return bt?bt.call(e):"";var t=e+"";return"0"==t&&1/e==-We?"-0":t}(e)}var kt=(Ne=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n,r){for(var i=-1,a=e?e.length:0;++i<a;)n=t(n,e[i],i,e);return n}(function(e,t,n){return e=_t(e),void 0===(t=t)?function(e){return ht.test(e)}(e)?function(e){return e.match(lt)||[]}(e):function(e){return e.match(Ge)||[]}(e):e.match(t)||[]}(function(e){return(e=_t(e))&&e.replace(Ye,vt).replace(ct,"")}(e).replace(ut,"")),Ne,"")});var wt=function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var a=Object.keys(Object(i)),o=0,s=a.length;o<s;o++){var u=a[o],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n},Ot=wt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u0150":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0170":"U","\xdd":"Y","\xde":"TH","\u0178":"Y","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u0151":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0171":"u","\xfd":"y","\xfe":"th","\xff":"y"},{"\xa9":"(c)","\u0153":"oe","\u0152":"OE","\u2211":"sum","\xae":"(r)","\u2020":"+","\u201c":'"',"\u201d":'"',"\u2018":"'","\u2019":"'","\u2202":"d","\u0192":"f","\u2122":"tm","\u2120":"sm","\u2026":"...","\u02da":"o","\xba":"o","\xaa":"a","\u2022":"*","\u2206":"delta","\u221e":"infinity","\u2665":"love","&":"and","|":"or","<":"less",">":"greater","@":"at"},{"\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ac":"a","\u03ad":"e","\u03af":"i","\u03cc":"o","\u03cd":"y","\u03ae":"h","\u03ce":"w","\u03c2":"s","\u03ca":"i","\u03b0":"y","\u03cb":"y","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u0386":"A","\u0388":"E","\u038a":"I","\u038c":"O","\u038e":"Y","\u0389":"H","\u038f":"W","\u03aa":"I","\u03ab":"Y"},{"\u015f":"s","\u015e":"S","\u0131":"i","\u0130":"I","\xe7":"c","\xc7":"C","\xfc":"u","\xdc":"U","\xf6":"o","\xd6":"O","\u011f":"g","\u011e":"G"},{"\u0103":"a","\xee":"i","\u0219":"s","\u021b":"t","\xe2":"a","\u0102":"A","\xce":"I","\u0218":"S","\u021a":"T","\xc2":"A"},{"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"Yo","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya"},{"\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0490":"G","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0491":"g"},{"\u010d":"c","\u010f":"d","\u011b":"e","\u0148":"n","\u0159":"r","\u0161":"s","\u0165":"t","\u016f":"u","\u017e":"z","\u010c":"C","\u010e":"D","\u011a":"E","\u0147":"N","\u0158":"R","\u0160":"S","\u0164":"T","\u016e":"U","\u017d":"Z"},{"\xe1":"a","\xe4":"a","\u010d":"c","\u010f":"d","\xe9":"e","\xed":"i","\u013e":"l","\u013a":"l","\u0148":"n","\xf3":"o","\xf4":"o","\u0155":"r","\u0161":"s","\u0165":"t","\xfa":"u","\xfd":"y","\u017e":"z","\xc1":"a","\xc4":"A","\u010c":"C","\u010e":"D","\xc9":"E","\xcd":"I","\u013d":"L","\u0139":"L","\u0147":"N","\xd3":"O","\xd4":"O","\u0154":"R","\u0160":"S","\u0164":"T","\xda":"U","\xdd":"Y","\u017d":"Z"},{"\u0105":"a","\u0107":"c","\u0119":"e","\u0142":"l","\u0144":"n","\xf3":"o","\u015b":"s","\u017a":"z","\u017c":"z","\u0104":"A","\u0106":"C","\u0118":"E","\u0141":"L","\u0143":"N","\xd3":"O","\u015a":"S","\u0179":"Z","\u017b":"Z"},{"\u0101":"a","\u010d":"c","\u0113":"e","\u0123":"g","\u012b":"i","\u0137":"k","\u013c":"l","\u0146":"n","\u0161":"s","\u016b":"u","\u017e":"z","\u0100":"A","\u010c":"C","\u0112":"E","\u0122":"G","\u012a":"I","\u0136":"K","\u013b":"L","\u0145":"N","\u0160":"S","\u016a":"U","\u017d":"Z"},{"\u0623":"a","\u0628":"b","\u062a":"t","\u062b":"th","\u062c":"g","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"d","\u0637":"t","\u0638":"th","\u0639":"aa","\u063a":"gh","\u0641":"f","\u0642":"k","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"o","\u064a":"y"},{"\u0105":"a","\u010d":"c","\u0119":"e","\u0117":"e","\u012f":"i","\u0161":"s","\u0173":"u","\u016b":"u","\u017e":"z","\u0104":"A","\u010c":"C","\u0118":"E","\u0116":"E","\u012e":"I","\u0160":"S","\u0172":"U","\u016a":"U","\u017d":"Z"},{"\u0452":"dj","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045f":"dz","\u0111":"dj","\u0402":"Dj","\u0408":"j","\u0409":"Lj","\u040a":"Nj","\u040b":"C","\u040f":"Dz","\u0110":"Dj"},{"\xe7":"c","\u0259":"e","\u011f":"g","\u0131":"i","\xf6":"o","\u015f":"s","\xfc":"u","\xc7":"C","\u018f":"E","\u011e":"G","\u0130":"I","\xd6":"O","\u015e":"S","\xdc":"U"},{"\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"j","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"q","\u10e6":"g","\u10e7":"y","\u10e8":"sh","\u10e9":"ch","\u10ea":"c","\u10eb":"dz","\u10ec":"w","\u10ed":"ch","\u10ee":"x","\u10ef":"j","\u10f0":"h"},{"\u1ea0":"A","\u1ea2":"A","\u1ea6":"A","\u1ea4":"A","\u1eac":"A","\u1ea8":"A","\u1eaa":"A","\u1eb0":"A","\u1eae":"A","\u1eb6":"A","\u1eb2":"A","\u1eb4":"A","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ec0":"E","\u1ebe":"E","\u1ec6":"E","\u1ec2":"E","\u1ec4":"E","\u1eca":"I","\u1ec8":"I","\u0128":"I","\u1ecc":"O","\u1ece":"O","\u1ed2":"O","\u1ed0":"O","\u1ed8":"O","\u1ed4":"O","\u1ed6":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee2":"O","\u1ede":"O","\u1ee0":"O","\u1ee4":"U","\u1ee6":"U","\u0168":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1ef0":"U","\u1eec":"U","\u1eee":"U","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0110":"D","\u1ea1":"a","\u1ea3":"a","\u1ea7":"a","\u1ea5":"a","\u1ead":"a","\u1ea9":"a","\u1eab":"a","\u1eb1":"a","\u1eaf":"a","\u1eb7":"a","\u1eb3":"a","\u1eb5":"a","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ec1":"e","\u1ebf":"e","\u1ec7":"e","\u1ec3":"e","\u1ec5":"e","\u1ecb":"i","\u1ec9":"i","\u0129":"i","\u1ecd":"o","\u1ecf":"o","\u1ed3":"o","\u1ed1":"o","\u1ed9":"o","\u1ed5":"o","\u1ed7":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee3":"o","\u1edf":"o","\u1ee1":"o","\u1ee5":"u","\u1ee7":"u","\u0169":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1ef1":"u","\u1eed":"u","\u1eef":"u","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u0111":"d"},{"\u20ac":"euro","\u20a2":"cruzeiro","\u20a3":"french franc","\xa3":"pound","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\xa2":"cent","\xa5":"yen","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial","\u20a0":"ecu","\xa4":"currency","\u0e3f":"baht",$:"dollar","\u20b9":"indian rupee"});function xt(e){if(void 0===e)return"";for(var t="",n=0;n<e.length;n++){var r=e[n];t+=void 0!==Ot[r]?Ot[r]:r}return t}xt.extends=function(e){wt(Ot,e)};var Tt=xt;function St(e){return void 0===e?"":kt(function(e){for(var t="",n=0;n<=e.length;n++)e.charCodeAt(n)<128&&(t+=e[n]);return t}(Tt(e.toString())))}St.extends=function(e){Tt.extends(e)};var Et=St,It=/<a\b[^>]*>(.*?)<\/a>/g,jt=Object.freeze({normalizeEmail:function(e,t){if("string"==typeof e){var n=t&&t.length?t[0]:{};return ze(e,n)}return e},stripTags:function(e,t){return"string"!=typeof e?e:qe(e,t)},toBoolean:function(e){return!(!e||"false"===e||"0"===e)},toNull:function(e){return k(e)?e:null},toInt:function(e,t){var n=Array.isArray(t)&&t[0]?t[0]:10;return parseInt(e,n)},toDate:function(e){if(e instanceof Date)return e;var t=new Date(e);return"Invalid Date"===t.toString()?null:t},plural:function(e){return"string"!=typeof e?e:He(e)},singular:function(e){return"string"!=typeof e?e:He.singular(e)},slug:function(e){return"string"!=typeof e?e:Et(e)},escape:function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},stripLinks:function(e){return"string"!=typeof e?e:e.replace(It,function(e,t){return t.trim()})},trim:function(e){return"string"!=typeof e?e:e.trim()}}),Ct=function(e){return Number(e)%2==0},At=function(e){return Number(e)>=0},Pt=/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/,Rt=Object.freeze({above:O,affirmative:function(e){return"A"===e||["yes","true","y","ok","okay"].indexOf(e.toLowerCase())>-1},alpha:S,alphaNumeric:I,array:function(e){return Array.isArray(e)},between:G,boolean:j,creditCard:function(e,t){return M(String(e),t)},date:Oe,email:L,empty:$,even:Ct,existy:k,falsy:function(e){return!x(e)},inArray:F,intersectAll:function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.filter(function(e){return t.indexOf(e)>-1}).length===e.length},intersectAny:function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.filter(function(e){return t.indexOf(e)>-1}).length>0},ip:q,ipv4:V,ipv6:z,isFunction:function(e){return"function"==typeof e},json:H,negative:function(e){return!At(e)},isNull:Y,isNumber:W,isObject:K,odd:function(e){return!Ct(e)},phone:function(e){return Pt.test(e)},positive:At,regex:function(e,t){if(t instanceof RegExp==0)throw new Error("You must pass regex as the 2nd argument");return t.test(e)},same:C,sameType:function(e,t){return e===t},sorted:function(e){if(!Array.isArray(e))return!1;for(var t=!1,n=0;n<e.length;){var r=e[n++],i=e[n-2];if(i&&i>r){t=!0;break}}return!t},isString:Z,truthy:x,under:function(e,t){return!O(e,t)},url:X,isDate:function(e,t){var n=e instanceof Date;return n||t?n:"Invalid Date"!==new Date(e).toString()},today:function(e){return xe(e).getTime()===xe(new Date).getTime()},yesterday:function(e){var t=new Date;return t.setDate(t.getDate()-1),xe(e).getTime()===xe(t).getTime()},tomorrow:function(e){var t=new Date;return t.setDate(t.getDate()+1),xe(e).getTime()===xe(t).getTime()},past:function(e){return _e(e).getTime()<(new Date).getTime()},future:function(e){return _e(e).getTime()>(new Date).getTime()},inDateRange:function(e,t,n){var r=_e(e).getTime(),i=_e(t).getTime(),a=_e(n).getTime();if(i>a)throw new Error("The start of the range cannot be after the end of the range");return r>=i&&r<=a},afterOffsetOf:Ve,beforeOffsetOf:Ue,dateFormat:Me});function Nt(){this.errors=[]}function Dt(){this.errors=[]}Nt.prototype.addError=function(e,t,n,r){var i=e;e instanceof Error&&(n="ENGINE_EXCEPTION",i=e.message),this.errors.push({message:i,field:t,validation:n})},Nt.prototype.toJSON=function(){return this.errors.length?this.errors:null},Dt.prototype.addError=function(e,t,n,r){var i=e;e instanceof Error&&(n="ENGINE_EXCEPTION",i=e.message),this.errors.push({title:n,detail:i,source:{pointer:t}})},Dt.prototype.toJSON=function(){return this.errors.length?{errors:this.errors}:null};var Mt=Object.freeze({Vanilla:Nt,JsonApi:Dt});function Lt(e){Object.keys(e).forEach(function(t){void 0!==_[t]&&(_[t]=e[t])})}Lt.DEFAULTS=Object.keys(_).reduce(function(e,t){return e[t]=_[t],e},{});var Ft=Object.keys(Rt).reduce(function(e,t){return e[t]=Rt[t],e},{}),Ut=Object.keys(Be).reduce(function(e,t){return e[t]=Be[t],e},{}),Vt=Object.keys(jt).reduce(function(e,t){return e[t]=jt[t],e},{});return{validate:function(){var e;return(e=h(Ut,_.FORMATTER||Nt)).validate.apply(e,arguments)},validateAll:function(){var e;return(e=h(Ut,_.FORMATTER||Nt)).validateAll.apply(e,arguments)},sanitize:function(){var t,n;return(n=Vt,t={sanitize:function(t,r){var i=o(r,t);return Object.keys(i).reduce(function(r,a){var o=e(t,a);return null!==o&&function(e,t,n){if(g(e)&&"string"==typeof t){var r=t.split(".");!function e(t,i){var a=r[i];if(i+1!==r.length)return isNaN(parseInt(r[i+1]))||Array.isArray(t[a])?g(t[a])||(t[a]={}):t[a]=[],e(t[a],i+1);t[a]=n}(e,0)}}(r,a,function(e,t,n){var r=t;return n.forEach(function(t){var n=s(t.name);if("function"!=typeof e[n])throw new Error(n+" is not a sanitization method");r=e[n](r,t.args)}),r}(n,o,i[a])),r},v(t,!1))}}).sanitize.apply(t,arguments)},is:Ft,sanitizor:Vt,validations:Ut,rule:function(e,t){return{name:e,args:t?Array.isArray(t)?t:[t]:[]}},formatters:Mt,configure:Lt}},"object"==u(t)&&"undefined"!=typeof e?e.exports=s():void 0===(o="function"===typeof(a=s)?a.call(t,n,t,e):a)||(e.exports=o)}).call(this,n(31),n(79).Buffer)},function(e,t,n){e.exports=n(83)},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,h){if("string"!==typeof n){if(l){var f=c(n);f&&f!==l&&e(t,f,h)}var d=o(n);s&&(d=d.concat(s(n)));for(var p=0;p<d.length;++p){var v=d[p];if(!r[v]&&!i[v]&&(!h||!h[v])){var y=u(n,v);try{a(t,v,y)}catch(m){}}}return t}return t}},function(e,t,n){var r=n(23),i=n(102);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t))},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=d;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],i=0,o=0,s="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(o,d),o=d+h.length,f)s+=f[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var k=null!=v&&null!=p&&p!==v,w="+"===b||"*"===b,O="?"===b||"*"===b,x=n[2]||u,T=m||g;r.push({name:y||i++,prefix:v||"",delimiter:x,optional:O,repeat:w,partial:k,asterisk:!!_,pattern:T?l(T):_?".*":"[^"+c(x)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===r(e[n])&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var a="",o=n||{},u=(r||{}).pretty?s:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=o[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(i(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!t[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(f),!t[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');a+=l.prefix+h}}else a+=l}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function d(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)o+=c(u);else{var l=c(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+l+d+")*"),o+=d=u.optional?u.partial?l+"("+d+")?":"(?:"+l+"("+d+"))?":l+"("+d+")"}}var p=c(n.delimiter||"/"),v=o.slice(-p.length)===p;return r||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":r&&v?"":"(?="+p+"|$)",h(new RegExp("^"+o,f(n)),t)}function p(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(e,t):i(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return h(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r={_origin:"https://api.emailjs.com"},i=function(e,t,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},a=n(1),o=function e(t){Object(a.a)(this,e),this.status=t.status,this.text=t.responseText},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(i,a){var s=new XMLHttpRequest;s.addEventListener("load",function(e){var t=e.target,n=new o(t);200===n.status||"OK"===n.text?i(n):a(n)}),s.addEventListener("error",function(e){var t=e.target;a(new o(t))}),s.open("POST",r._origin+e,!0),Object.keys(n).forEach(function(e){s.setRequestHeader(e,n[e])}),s.send(t)})};t.a={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";r._userID=e,r._origin=t},send:function(e,t,n,a){var o=a||r._userID;i(o,e,t);var u={lib_version:"3.2.0",user_id:o,service_id:e,template_id:t,template_params:n};return s("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},sendForm:function(e,t,n,a){var o=a||r._userID,u=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);i(o,e,t);var c=new FormData(u);return c.append("lib_version","3.2.0"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",o),s("/api/v1.0/email/send-form",c)}}},function(e,t,n){"use strict";var r=n(7),i=n(29);var a=n(30);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}n.d(t,"a",function(){return o})},,function(e,t,n){"use strict";var r=n(23),i=n(50),a="function"===typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,s=a?Symbol.for("react.portal"):60106,u=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,h=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,v=a?Symbol.for("react.memo"):60115,y=a?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function k(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}function w(){}function O(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==r(e)&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=k.prototype;var x=O.prototype=new w;x.constructor=O,i(x,k.prototype),x.isPureReactComponent=!0;var T={current:null},S=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:T.current}}function j(e){return"object"===r(e)&&null!==e&&e.$$typeof===o}var C=/\/+/g,A=[];function P(e,t,n,r){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function N(e,t,n){return null==e?0:function e(t,n,i,a){var u=r(t);"undefined"!==u&&"boolean"!==u||(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case s:c=!0}}if(c)return i(a,t,""===n?"."+D(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var h=n+D(u=t[l],l);c+=e(u,h,i,a)}else if(h=null===t||"object"!==r(t)?null:"function"===typeof(h=m&&t[m]||t["@@iterator"])?h:null,"function"===typeof h)for(t=h.call(t),l=0;!(u=t.next()).done;)c+=e(u=u.value,h=n+D(u,l++),i,a);else if("object"===u)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return c}(e,"",t,n)}function D(e,t){return"object"===r(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,function(e){return e}):null!=e&&(j(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(C,"$&/")+"/"),N(e,L,t=P(t,a,r,i)),R(t)}var U={current:null};function V(){var e=U.current;if(null===e)throw Error(g(321));return e}var B={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,M,t=P(null,null,t,n)),R(t)},count:function(e){return N(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){if(!j(e))throw Error(g(143));return e}},t.Component=k,t.Fragment=u,t.Profiler=l,t.PureComponent=O,t.StrictMode=c,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var r=i({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!E.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=n(23),i=n(2),a=n(50),o=n(71);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var u=!1,c=null,l=!1,h=null,f={onError:function(e){u=!0,c=e}};function d(e,t,n,r,i,a,o,s,l){u=!1,c=null,function(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(f,arguments)}var p=null,v=null,y=null;function m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,r,i,a,o,f,p){if(d.apply(this,arguments),u){if(!u)throw Error(s(198));var v=c;u=!1,c=null,l||(l=!0,h=v)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function _(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!w[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],o=t,u=r;if(O.hasOwnProperty(u))throw Error(s(99,u));O[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&k(c[i],o,u);i=!0}else a.registrationName?(k(a.registrationName,o,u),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function k(e,t,n){if(x[e])throw Error(s(100,e));x[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],O={},x={},T={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(s(102,t));b[t]=r,n=!0}}n&&_()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=null,j=null,C=null;function A(e){if(e=v(e)){if("function"!==typeof I)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),I(e.stateNode,e.type,t))}}function P(e){j?C?C.push(e):C=[e]:j=e}function R(){if(j){var e=j,t=C;if(C=j=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function N(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function M(){}var L=N,F=!1,U=!1;function V(){null===j&&null===C||(M(),R())}function B(e,t,n){if(U)return e(t,n);U=!0;try{return L(e,t,n)}finally{U=!1,V()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,H={},W={};function K(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(r(t)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new G(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new G(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new G(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new G(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new G(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new G(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Y[e]=new G(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new G(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new G(e,5,!1,e.toLowerCase(),null,!1)});var $=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,Z);Y[t]=new G(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,Z);Y[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,Z);Y[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!1)}),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!0)});var Q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(K(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(W,e)||!q.call(H,e)&&(z.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,ee="function"===typeof Symbol&&Symbol.for,te=ee?Symbol.for("react.element"):60103,ne=ee?Symbol.for("react.portal"):60106,re=ee?Symbol.for("react.fragment"):60107,ie=ee?Symbol.for("react.strict_mode"):60108,ae=ee?Symbol.for("react.profiler"):60114,oe=ee?Symbol.for("react.provider"):60109,se=ee?Symbol.for("react.context"):60110,ue=ee?Symbol.for("react.concurrent_mode"):60111,ce=ee?Symbol.for("react.forward_ref"):60112,le=ee?Symbol.for("react.suspense"):60113,he=ee?Symbol.for("react.suspense_list"):60120,fe=ee?Symbol.for("react.memo"):60115,de=ee?Symbol.for("react.lazy"):60116,pe=ee?Symbol.for("react.block"):60121,ve="function"===typeof Symbol&&Symbol.iterator;function ye(e){return null===e||"object"!==r(e)?null:"function"===typeof(e=ve&&e[ve]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case re:return"Fragment";case ne:return"Portal";case ae:return"Profiler";case ie:return"StrictMode";case le:return"Suspense";case he:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case pe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function be(e){switch(r(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Oe(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Se(e,t){Te(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function je(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Ce(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Re(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Ve,Be=(Ve=function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ve(e,t)})}:Ve);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},We={},Ke={};function Ge(e){if(We[e])return We[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return We[e]=n[t];return e}E&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var Ye=Ge("animationend"),$e=Ge("animationiteration"),Ze=Ge("animationstart"),Qe=Ge("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function et(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(s(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return rt(i),e;if(a===r)return rt(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function at(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)m(e,t[r],n[r]);else t&&m(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(st=at(st,e)),e=st,st=null,e){if(ot(e,ut),st)throw Error(s(95));if(l)throw e=h,l=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ht(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function pt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function vt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=at(s,c))}ct(s)}}function yt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ht(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,gt,bt,_t=!1,kt=[],wt=null,Ot=null,xt=null,Tt=new Map,St=new Map,Et=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),jt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Ct(t,n,r,i,a),null!==t&&(null!==(t=Pn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=An(e.target);if(null!==t){var n=tt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=nt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,function(){bt(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;var t=Xt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Nt(e)&&n.delete(t)}function Mt(){for(_t=!1;0<kt.length;){var e=kt[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&mt(e);break}var t=Xt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:kt.shift()}null!==wt&&Nt(wt)&&(wt=null),null!==Ot&&Nt(Ot)&&(Ot=null),null!==xt&&Nt(xt)&&(xt=null),Tt.forEach(Dt),St.forEach(Dt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Mt)))}function Ft(e){function t(t){return Lt(t,e)}if(0<kt.length){Lt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Lt(wt,e),null!==Ot&&Lt(Ot,e),null!==xt&&Lt(xt,e),Tt.forEach(t),St.forEach(t),n=0;n<Et.length;n++)(r=Et[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)Rt(n),null===n.blockedOn&&Et.shift()}var Ut={},Vt=new Map,Bt=new Map,zt=["abort","abort",Ye,"animationEnd",$e,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qe,"transitionEnd","waiting","waiting"];function qt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Vt.set(r,a),Ut[i]=a}}qt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qt(zt,2);for(var Ht="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Ht.length;Wt++)Bt.set(Ht[Wt],0);var Kt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Yt=!0;function $t(e,t){Zt(t,e,!1)}function Zt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=function(e,t,n,r){F||M();var i=Qt,a=F;F=!0;try{D(i,e,t,n,r)}finally{(F=a)||V()}}.bind(null,t,1,e);break;case 1:r=function(e,t,n,r){Gt(Kt,Qt.bind(null,e,t,n,r))}.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Qt(e,t,n,r){if(Yt)if(0<kt.length&&-1<It.indexOf(e))e=Ct(null,e,t,n,r),kt.push(e);else{var i=Xt(e,t,n,r);if(null===i)At(e,r);else if(-1<It.indexOf(e))e=Ct(i,e,t,n,r),kt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Pt(wt,e,t,n,r,i),!0;case"dragenter":return Ot=Pt(Ot,e,t,n,r,i),!0;case"mouseover":return xt=Pt(xt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Pt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,St.set(a,Pt(St.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=pt(e,r,null,t);try{B(vt,e)}finally{dt(e)}}}}function Xt(e,t,n,r){if(null!==(n=An(n=lt(r)))){var i=tt(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=nt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{B(vt,e)}finally{dt(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach(function(e){en.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]})});var rn=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if(!("object"===r(t.dangerouslySetInnerHTML)&&"__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==r(t.style))throw Error(s(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function un(e,t){var n=et(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)yt(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function dn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$",yn="/$",mn="$?",gn="$!",bn=null,_n=null;function kn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===r(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var On="function"===typeof setTimeout?setTimeout:void 0,xn="function"===typeof clearTimeout?clearTimeout:void 0;function Tn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn||n===gn||n===mn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),In="__reactInternalInstance$"+En,jn="__reactEventHandlers$"+En,Cn="__reactContainere$"+En;function An(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[In]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[In])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[In]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Nn(e){return e[jn]||null}function Dn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,r(n)));return n}function Ln(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=at(n._dispatchListeners,t),n._dispatchInstances=at(n._dispatchInstances,e))}function Fn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Dn(t);for(t=n.length;0<t--;)Ln(n[t],"captured",e);for(t=0;t<n.length;t++)Ln(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=at(n._dispatchListeners,t),n._dispatchInstances=at(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function Bn(e){ot(e,Fn)}var zn=null,qn=null,Hn=null;function Wn(){if(Hn)return Hn;var e,t,n=qn,r=n.length,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Hn=i.slice(e,1<t?1-t:void 0)}function Kn(){return!0}function Gn(){return!1}function Yn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Kn:Gn,this.isPropagationStopped=Gn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Zn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=$n,e.release=Zn}a(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){this.isPersistent=Kn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Yn);var Xn=Yn.extend({data:null}),Jn=Yn.extend({data:null}),er=[9,13,27,32],tr=E&&"CompositionEvent"in window,nr=null;E&&"documentMode"in document&&(nr=document.documentMode);var rr=E&&"TextEvent"in window&&!nr,ir=E&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function ur(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return e=e.detail,"object"===r(e)&&"data"in e?e.data:null}var lr=!1;var hr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else lr?ur(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=Wn()):(qn="value"in(zn=r)?zn.value:zn.textContent,lr=!0)),a=Xn.getPooled(a,t,n,r),i?a.data=i:null!==(i=cr(n))&&(a.data=i),Bn(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&ur(e,t)?(e=Wn(),Hn=qn=zn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Jn.getPooled(or.beforeInput,t,n,r)).data=e,Bn(t)):t=null,null===i?t:null===t?i:[i,t]}},fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!fr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Yn.getPooled(pr.change,e,t,n)).type="change",P(n),Bn(e),e}var yr=null,mr=null;function gr(e){ct(e)}function br(e){if(we(Rn(e)))return e}function _r(e,t){if("change"===e)return t}var kr=!1;function wr(){yr&&(yr.detachEvent("onpropertychange",Or),mr=yr=null)}function Or(e){if("value"===e.propertyName&&br(mr))if(e=vr(mr,e,lt(e)),F)ct(e);else{F=!0;try{N(gr,e)}finally{F=!1,V()}}}function xr(e,t,n){"focus"===e?(wr(),mr=n,(yr=t).attachEvent("onpropertychange",Or)):"blur"===e&&wr()}function Tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(mr)}function Sr(e,t){if("click"===e)return br(t)}function Er(e,t){if("input"===e||"change"===e)return br(t)}E&&(kr=ht("input")&&(!document.documentMode||9<document.documentMode));var Ir={eventTypes:pr,_isInputEventSupported:kr,extractEvents:function(e,t,n,r){var i=t?Rn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=_r;else if(dr(i))if(kr)o=Er;else{o=Tr;var s=xr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Sr);if(o&&(o=o(e,t)))return vr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},jr=Yn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Pr(){return Ar}var Rr=0,Nr=0,Dr=!1,Mr=!1,Lr=jr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Rr;return Rr=e.screenX,Dr?"mousemove"===e.type?e.screenX-t:0:(Dr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Nr;return Nr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Fr=Lr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==tt(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Lr,u=Ur.mouseLeave,c=Ur.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Fr,u=Ur.pointerLeave,c=Ur.pointerEnter,l="pointer");if(e=null==o?a:Rn(o),a=null==t?a:Rn(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=s=r;e;e=Dn(e))o++;for(e=0,t=c;t;t=Dn(t))e++;for(;0<o-e;)s=Dn(s),o--;for(;0<e-o;)c=Dn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Dn(s),c=Dn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Dn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Dn(l);for(l=0;l<s.length;l++)Un(s[l],"bubbled",u);for(l=r.length;0<l--;)Un(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Br="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zr=Object.prototype.hasOwnProperty;function qr(e,t){if(Br(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!zr.call(t,n[i])||!Br(e[n[i]],t[n[i]]))return!1;return!0}var Hr=E&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kr=null,Gr=null,Yr=null,$r=!1;function Zr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Kr||Kr!==ln(n)?null:("selectionStart"in(n=Kr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&qr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Wr.select,Gr,e,t)).type="select",e.target=Kr,Bn(e),e))}var Qr={eventTypes:Wr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=et(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Rn(t):window,e){case"focus":(dr(i)||"true"===i.contentEditable)&&(Kr=i,Gr=t,Yr=null);break;case"blur":Yr=Gr=Kr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Zr(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return Zr(n,r)}return null}},Xr=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Jr=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=jr.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=jr.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Lr.extend({dataTransfer:null}),oi=jr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),si=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Lr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Ut,extractEvents:function(e,t,n,r){var i=Vt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case Ye:case $e:case Ze:e=Xr;break;case Qe:e=si;break;case"scroll":e=jr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fr;break;default:e=Yn}return Bn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(s(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=Nn,v=Pn,y=Rn,S({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Ir,SelectEventPlugin:Qr,BeforeInputEventPlugin:hr});var li=[],hi=-1;function fi(e){0>hi||(e.current=li[hi],li[hi]=null,hi--)}function di(e,t){li[++hi]=e.current,e.current=t}var pi={},vi={current:pi},yi={current:!1},mi=pi;function gi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){fi(yi),fi(vi)}function ki(e,t,n){if(vi.current!==pi)throw Error(s(168));di(vi,t),di(yi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,me(t)||"Unknown",i));return a({},n,{},r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,mi=vi.current,di(vi,e),di(yi,yi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=wi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,fi(yi),fi(vi),di(vi,e)):fi(yi),di(yi,n)}var Ti=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ii=o.unstable_requestPaint,ji=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Mi={},Li=o.unstable_shouldYield,Fi=void 0!==Ii?Ii:function(){},Ui=null,Vi=null,Bi=!1,zi=ji(),qi=1e4>zi?ji:function(){return ji()-zi};function Hi(){switch(Ci()){case Ai:return 99;case Pi:return 98;case Ri:return 97;case Ni:return 96;case Di:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Ri;case 96:return Ni;case 95:return Di;default:throw Error(s(332))}}function Ki(e,t){return e=Wi(e),Ti(e,t)}function Gi(e,t,n){return e=Wi(e),Si(e,t,n)}function Yi(e){return null===Ui?(Ui=[e],Vi=Si(Ai,Zi)):Ui.push(e),Mi}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ei(e)}Zi()}function Zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Ai,$i),n}finally{Bi=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ji={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=Ji.current;fi(Ji),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(No=!0),e.firstContext=null)}function sa(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(s(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ua=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ha(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,r){var i=e.updateQueue;ua=!1;var o=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,i.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=i.baseState,l=0,h=null,f=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=v,h=c):d=d.next=v,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),mu(s,p.suspenseConfig);e:{var y=e,m=p;switch(s=t,v=n,m.tag){case 1:if("function"===typeof(y=m.payload)){c=y.call(v,c,s);break e}c=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=m.payload)?y.call(v,c,s):y)||void 0===s)break e;c=a({},c,s);break e;case 2:ua=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=i.shared.pending))break;p=o.next=s.next,s.next=u,i.baseQueue=o=s,i.shared.pending=null}}null===d?h=c:d.next=f,i.baseState=h,i.baseQueue=d,gu(l),e.expirationTime=l,e.memoizedState=c}}function va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var ya=Q.ReactCurrentBatchConfig,ma=(new i.Component).refs;function ga(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=au(),i=ya.suspense;(i=ha(r=ou(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),fa(e,i),su(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=au(),i=ya.suspense;(i=ha(r=ou(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fa(e,i),su(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=au(),r=ya.suspense;(r=ha(n=ou(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),fa(e,r),su(e,n)}};function _a(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!qr(n,r)||!qr(i,a))}function ka(e,t,n){var i=!1,a=pi,o=t.contextType;return"object"===r(o)&&null!==o?o=sa(o):(a=bi(t)?mi:vi.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?gi(e,a):pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Oa(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=ma,ca(e);var o=t.contextType;"object"===r(o)&&null!==o?a.context=sa(o):(o=bi(t)?mi:vi.current,a.context=gi(e,o)),pa(e,n,a,i),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ga(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ba.enqueueReplaceState(a,a.state,null),pa(e,n,a,i),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var xa=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==r(e)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===ma&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"===r(t)&&null!==t){switch(t.$$typeof){case te:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case ne:return(t=Vu(t,e.mode,n)).return=e,t}if(xa(t)||ye(t))return(t=Fu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function p(e,t,n,i){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:c(e,t,""+n,i);if("object"===r(n)&&null!==n){switch(n.$$typeof){case te:return n.key===a?n.type===re?f(e,t,n.props.children,i,a):l(e,t,n,i):null;case ne:return n.key===a?h(e,t,n,i):null}if(xa(n)||ye(n))return null!==a?null:f(e,t,n,i,null);Sa(e,n)}return null}function v(e,t,n,i,a){if("string"===typeof i||"number"===typeof i)return c(t,e=e.get(n)||null,""+i,a);if("object"===r(i)&&null!==i){switch(i.$$typeof){case te:return e=e.get(null===i.key?n:i.key)||null,i.type===re?f(t,e,i.props.children,a,i.key):l(t,e,i,a);case ne:return h(t,e=e.get(null===i.key?n:i.key)||null,i,a)}if(xa(i)||ye(i))return f(t,e=e.get(n)||null,i,a,null);Sa(t,i)}return null}function y(r,a,s,u){for(var c=null,l=null,h=a,f=a=0,y=null;null!==h&&f<s.length;f++){h.index>f?(y=h,h=null):y=h.sibling;var m=p(r,h,s[f],u);if(null===m){null===h&&(h=y);break}e&&h&&null===m.alternate&&t(r,h),a=o(m,a,f),null===l?c=m:l.sibling=m,l=m,h=y}if(f===s.length)return n(r,h),c;if(null===h){for(;f<s.length;f++)null!==(h=d(r,s[f],u))&&(a=o(h,a,f),null===l?c=h:l.sibling=h,l=h);return c}for(h=i(r,h);f<s.length;f++)null!==(y=v(h,r,f,s[f],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),a=o(y,a,f),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach(function(e){return t(r,e)}),c}function m(r,a,u,c){var l=ye(u);if("function"!==typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var h=l=null,f=a,y=a=0,m=null,g=u.next();null!==f&&!g.done;y++,g=u.next()){f.index>y?(m=f,f=null):m=f.sibling;var b=p(r,f,g.value,c);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(r,f),a=o(b,a,y),null===h?l=b:h.sibling=b,h=b,f=m}if(g.done)return n(r,f),l;if(null===f){for(;!g.done;y++,g=u.next())null!==(g=d(r,g.value,c))&&(a=o(g,a,y),null===h?l=g:h.sibling=g,h=g);return l}for(f=i(r,f);!g.done;y++,g=u.next())null!==(g=v(f,r,y,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?y:g.key),a=o(g,a,y),null===h?l=g:h.sibling=g,h=g);return e&&f.forEach(function(e){return t(r,e)}),l}return function(e,i,o,c){var l="object"===r(o)&&null!==o&&o.type===re&&null===o.key;l&&(o=o.props.children);var h="object"===r(o)&&null!==o;if(h)switch(o.$$typeof){case te:e:{for(h=o.key,l=i;null!==l;){if(l.key===h){switch(l.tag){case 7:if(o.type===re){n(e,l.sibling),(i=a(l,o.props.children)).return=e,e=i;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(i=a(l,o.props)).ref=Ta(e,l,o),i.return=e,e=i;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===re?((i=Fu(o.props.children,e.mode,c,o.key)).return=e,e=i):((c=Lu(o.type,o.key,o.props,null,e.mode,c)).ref=Ta(e,i,o),c.return=e,e=c)}return u(e);case ne:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=a(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Vu(o,e.mode,c)).return=e,e=i}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=a(i,o)).return=e,e=i):(n(e,i),(i=Uu(o,e.mode,c)).return=e,e=i),u(e);if(xa(o))return y(e,i,o,c);if(ye(o))return m(e,i,o,c);if(h&&Sa(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Ia=Ea(!0),ja=Ea(!1),Ca={},Aa={current:Ca},Pa={current:Ca},Ra={current:Ca};function Na(e){if(e===Ca)throw Error(s(174));return e}function Da(e,t){switch(di(Ra,t),di(Pa,e),di(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Aa),di(Aa,t)}function Ma(){fi(Aa),fi(Pa),fi(Ra)}function La(e){Na(Ra.current);var t=Na(Aa.current),n=Fe(t,e.type);t!==n&&(di(Pa,e),di(Aa,n))}function Fa(e){Pa.current===e&&(fi(Aa),fi(Pa))}var Ua={current:0};function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===mn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ba(e,t){return{responder:e,props:t}}var za=Q.ReactCurrentDispatcher,qa=Q.ReactCurrentBatchConfig,Ha=0,Wa=null,Ka=null,Ga=null,Ya=!1;function $a(){throw Error(s(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Br(e[n],t[n]))return!1;return!0}function Qa(e,t,n,r,i,a){if(Ha=a,Wa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,za.current=null===e||null===e.memoizedState?ko:wo,e=n(r,i),t.expirationTime===Ha){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(s(301));a+=1,Ga=Ka=null,t.updateQueue=null,za.current=Oo,e=n(r,i)}while(t.expirationTime===Ha)}if(za.current=_o,t=null!==Ka&&null!==Ka.next,Ha=0,Ga=Ka=Wa=null,Ya=!1,t)throw Error(s(300));return e}function Xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ga?Wa.memoizedState=Ga=e:Ga=Ga.next=e,Ga}function Ja(){if(null===Ka){var e=Wa.alternate;e=null!==e?e.memoizedState:null}else e=Ka.next;var t=null===Ga?Wa.memoizedState:Ga.next;if(null!==t)Ga=t,Ka=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Ka=e).memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},null===Ga?Wa.memoizedState=Ga=e:Ga=Ga.next=e}return Ga}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Ja(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Ka,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=o=a=null,c=i;do{var l=c.expirationTime;if(l<Ha){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(o=u=h,a=r):u=u.next=h,l>Wa.expirationTime&&(Wa.expirationTime=l,gu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),mu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=o,Br(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=Ja(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Br(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=bo.bind(null,Wa,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Wa.updateQueue)?(t={lastEffect:null},Wa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return Ja().memoizedState}function oo(e,t,n,r){var i=Xa();Wa.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function so(e,t,n,r){var i=Ja();r=void 0===r?null:r;var a=void 0;if(null!==Ka){var o=Ka.memoizedState;if(a=o.destroy,null!==r&&Za(r,o.deps))return void io(t,n,a,r)}Wa.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function uo(e,t){return oo(516,4,e,t)}function co(e,t){return so(516,4,e,t)}function lo(e,t){return so(4,2,e,t)}function ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,ho.bind(null,t,e),n)}function po(){}function vo(e,t){return Xa().memoizedState=[e,void 0===t?null:t],e}function yo(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mo(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function go(e,t,n){var r=Hi();Ki(98>r?98:r,function(){e(!0)}),Ki(97<r?97:r,function(){var r=qa.suspense;qa.suspense=void 0===t?null:t;try{e(!1),n()}finally{qa.suspense=r}})}function bo(e,t,n){var r=au(),i=ya.suspense;i={expirationTime:r=ou(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Wa||null!==a&&a===Wa)Ya=!0,i.expirationTime=Ha,Wa.expirationTime=Ha;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Br(s,o))return}catch(u){}su(e,r)}}var _o={readContext:sa,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useResponder:$a,useDeferredValue:$a,useTransition:$a},ko={readContext:sa,useCallback:vo,useContext:sa,useEffect:uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=bo.bind(null,Wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xa().memoizedState=e},useState:ro,useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return uo(function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}},[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[vo(go.bind(null,t,e),[t,e]),n]}},wo={readContext:sa,useCallback:yo,useContext:sa,useEffect:co,useImperativeHandle:fo,useLayoutEffect:lo,useMemo:mo,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return co(function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}},[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[yo(go.bind(null,t,e),[t,e]),n]}},Oo={readContext:sa,useCallback:yo,useContext:sa,useEffect:co,useImperativeHandle:fo,useLayoutEffect:lo,useMemo:mo,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return co(function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}},[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[yo(go.bind(null,t,e),[t,e]),n]}},xo=null,To=null,So=!1;function Eo(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function jo(e){if(So){var t=To;if(t){var n=t;if(!Io(e,t)){if(!(t=Tn(n.nextSibling))||!Io(e,t))return e.effectTag=-1025&e.effectTag|2,So=!1,void(xo=e);Eo(xo,n)}xo=e,To=Tn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,So=!1,xo=e}}function Co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xo=e}function Ao(e){if(e!==xo)return!1;if(!So)return Co(e),So=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=To;t;)Eo(e,t),t=Tn(t.nextSibling);if(Co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){To=Tn(e.nextSibling);break e}t--}else n!==vn&&n!==gn&&n!==mn||t++}e=e.nextSibling}To=null}}else To=xo?Tn(e.stateNode.nextSibling):null;return!0}function Po(){To=xo=null,So=!1}var Ro=Q.ReactCurrentOwner,No=!1;function Do(e,t,n,r){t.child=null===e?ja(t,null,n,r):Ia(t,e.child,n,r)}function Mo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=Qa(e,t,n,r,a,i),null===e||No?(t.effectTag|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Lo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:qr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){return null!==e&&qr(e.memoizedProps,r)&&e.ref===t.ref&&(No=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):Vo(e,t,n,r,a)}function Uo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vo(e,t,n,r,i){var a=bi(n)?mi:vi.current;return a=gi(t,a),oa(t,i),n=Qa(e,t,n,r,a,i),null===e||No?(t.effectTag|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Bo(e,t,n,i,a){if(bi(n)){var o=!0;Oi(t)}else o=!1;if(oa(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ka(t,n,i),Oa(t,n,i,a),i=!0;else if(null===e){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,l=n.contextType;"object"===r(l)&&null!==l?l=sa(l):l=gi(t,l=bi(n)?mi:vi.current);var h=n.getDerivedStateFromProps,f="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(u!==i||c!==l)&&wa(t,s,i,l),ua=!1;var d=t.memoizedState;s.state=d,pa(t,i,s,a),c=t.memoizedState,u!==i||d!==c||yi.current||ua?("function"===typeof h&&(ga(t,n,h,i),c=t.memoizedState),(u=ua||_a(t,n,u,i,d,c,l))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=l,i=u):("function"===typeof s.componentDidMount&&(t.effectTag|=4),i=!1)}else s=t.stateNode,la(e,t),u=t.memoizedProps,s.props=t.type===t.elementType?u:Xi(t.type,u),c=s.context,l=n.contextType,"object"===r(l)&&null!==l?l=sa(l):l=gi(t,l=bi(n)?mi:vi.current),(f="function"===typeof(h=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(u!==i||c!==l)&&wa(t,s,i,l),ua=!1,c=t.memoizedState,s.state=c,pa(t,i,s,a),d=t.memoizedState,u!==i||c!==d||yi.current||ua?("function"===typeof h&&(ga(t,n,h,i),d=t.memoizedState),(h=ua||_a(t,n,u,i,c,d,l))?(f||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,d,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,d,l)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),s.props=i,s.state=d,s.context=l,i=h):("function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),i=!1);return zo(e,t,n,i,o,a)}function zo(e,t,n,r,i,a){Uo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&xi(t,n,!1),Jo(e,t,a);r=t.stateNode,Ro.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Do(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Ho,Wo,Ko,Go,Yo={dehydrated:null,retryTime:0};function $o(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ua.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(Ua,1&o),null===e){if(void 0!==a.fallback&&jo(t),s){if(s=a.fallback,(a=Fu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Fu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Yo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=ja(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Mu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Mu(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Yo,t.child=n,i}return n=Ia(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Fu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Fu(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Yo,t.child=a,n}return t.memoizedState=null,t.child=Ia(t,e,a.children,n)}function Zo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Qo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Xo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qo(t,!0,n,null,a,t.lastEffect);break;case"together":Qo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&gu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function es(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(t.type)&&_i(),null;case 3:return Ma(),fi(yi),fi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ao(t)||(t.effectTag|=4),Wo(t),null;case 5:Fa(t),n=Na(Ra.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ko(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Na(Aa.current),Ao(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[In]=t,r[jn]=o,i){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)$t(Xe[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":xe(r,o),$t("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$t("invalid",r),un(n,"onChange");break;case"textarea":Pe(r,o),$t("invalid",r),un(n,"onChange")}for(var u in an(i,o),e=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(i){case"input":ke(r),Ee(r,o,!0);break;case"textarea":ke(r),Ne(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(i)),e===sn?"script"===i?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(i,{is:r.is}):(e=u.createElement(i),"select"===i&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,i),e[In]=t,e[jn]=r,Ho(e,t,!1,!1),t.stateNode=e,u=on(i,r),i){case"iframe":case"object":case"embed":$t("load",e),c=r;break;case"video":case"audio":for(c=0;c<Xe.length;c++)$t(Xe[c],e);c=r;break;case"source":$t("error",e),c=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),c=r;break;case"form":$t("reset",e),$t("submit",e),c=r;break;case"details":$t("toggle",e),c=r;break;case"input":xe(e,r),c=Oe(e,r),$t("invalid",e),un(n,"onChange");break;case"option":c=je(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=a({},r,{value:void 0}),$t("invalid",e),un(n,"onChange");break;case"textarea":Pe(e,r),c=Ae(e,r),$t("invalid",e),un(n,"onChange");break;default:c=r}an(i,c);var l=c;for(o in l)if(l.hasOwnProperty(o)){var h=l[o];"style"===o?nn(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&Be(e,h):"children"===o?"string"===typeof h?("textarea"!==i||""!==h)&&ze(e,h):"number"===typeof h&&ze(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(x.hasOwnProperty(o)?null!=h&&un(n,o):null!=h&&X(e,o,h,u))}switch(i){case"input":ke(e),Ee(e,r,!1);break;case"textarea":ke(e),Ne(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ce(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ce(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}kn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Na(Ra.current),Na(Aa.current),Ao(t)?(n=t.stateNode,r=t.memoizedProps,n[In]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[In]=t,t.stateNode=n)}return null;case 13:return fi(Ua),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ao(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?Us===js&&(Us=Ps):(Us!==js&&Us!==Ps||(Us=Rs),0!==Hs&&null!==Ms&&(qu(Ms,Fs),Hu(Ms,Hs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ma(),Wo(t),null;case 10:return ia(t),null;case 17:return bi(t.type)&&_i(),null;case 19:if(fi(Ua),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(o=r.rendering)){if(i)es(r,!1);else if(Us!==js||null!==e&&0!==(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=Va(o))){for(t.effectTag|=64,es(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)o=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return di(Ua,1&Ua.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=Va(o))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,es(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ua.current,di(Ua,i?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function ns(e){switch(e.tag){case 1:bi(e.type)&&_i();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ma(),fi(yi),fi(vi),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Fa(e),null;case 13:return fi(Ua),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(Ua),null;case 4:return Ma(),null;case 10:return ia(e),null;default:return null}}function rs(e,t){return{value:e,source:t,stack:ge(t)}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wo=function(){},Ko=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var s,u,c=t.stateNode;switch(Na(Aa.current),e=null,n){case"input":o=Oe(c,o),r=Oe(c,r),e=[];break;case"option":o=je(c,o),r=je(c,r),e=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":o=Ae(c,o),r=Ae(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in an(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=l&&un(i,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Go=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var is="function"===typeof WeakSet?WeakSet:Set;function as(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function os(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ju(e,n)}else t.current=null}function ss(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function cs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ls(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void cs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&va(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}va(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&kn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function hs(e,t,n){switch("function"===typeof Pu&&Pu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ki(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){ju(i,a)}}e=e.next}while(e!==r)})}break;case 1:os(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ju(e,n)}}(t,n);break;case 5:os(t);break;case 4:vs(e,t,n)}}function fs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fs(t)}function ds(e){return 5===e.tag||3===e.tag||4===e.tag}function ps(e){e:{for(var t=e.return;null!==t;){if(ds(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ds(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function vs(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,h=c;;)if(hs(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(hs(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void us(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[jn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),on(e,i),t=on(e,r),i=0;i<a.length;i+=2){var o=a[i],u=a[i+1];"style"===o?nn(n,u):"dangerouslySetInnerHTML"===o?Be(n,u):"children"===o?ze(n,u):X(n,o,u,t)}switch(e){case"input":Se(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ce(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ce(n,!!r.multiple,r.defaultValue,!0):Ce(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ks=qi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ms(t);case 19:return void ms(t);case 17:return}throw Error(s(163))}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new is),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ou(t=au(),e,null)),null!==(e=uu(e,t))&&lu(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var gs="function"===typeof WeakMap?WeakMap:Map;function bs(e,t,n){(n=ha(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Zs=r),as(e,t)},n}function _s(e,t,n){(n=ha(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return as(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),as(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ks,ws=Math.ceil,Os=Q.ReactCurrentDispatcher,xs=Q.ReactCurrentOwner,Ts=0,Ss=8,Es=16,Is=32,js=0,Cs=1,As=2,Ps=3,Rs=4,Ns=5,Ds=Ts,Ms=null,Ls=null,Fs=0,Us=js,Vs=null,Bs=1073741823,zs=1073741823,qs=null,Hs=0,Ws=!1,Ks=0,Gs=500,Ys=null,$s=!1,Zs=null,Qs=null,Xs=!1,Js=null,eu=90,tu=null,nu=0,ru=null,iu=0;function au(){return(Ds&(Es|Is))!==Ts?1073741821-(qi()/10|0):0!==iu?iu:iu=1073741821-(qi()/10|0)}function ou(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Hi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Ds&Es)!==Ts)return Fs;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Ms&&e===Fs&&--e,e}function su(e,t){if(50<nu)throw nu=0,ru=null,Error(s(185));if(null!==(e=uu(e,t))){var n=Hi();1073741823===t?(Ds&Ss)!==Ts&&(Ds&(Es|Is))===Ts?hu(e):(lu(e),Ds===Ts&&$i()):lu(e),(4&Ds)===Ts||98!==n&&99!==n||(null===tu?tu=new Map([[e,t]]):(void 0===(n=tu.get(e))||n>t)&&tu.set(e,t))}}function uu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ms===i&&(gu(t),Us===Rs&&qu(i,Fs)),Hu(i,t)),i}function cu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!zu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function lu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(hu.bind(null,e));else{var t=cu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=au();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yi(hu.bind(null,e)):Gi(r,function e(t,n){iu=0;if(n)return n=au(),Wu(t,n),lu(t),null;var r=cu(t);if(0!==r){if(n=t.callbackNode,(Ds&(Es|Is))!==Ts)throw Error(s(327));if(Su(),t===Ms&&r===Fs||pu(t,r),null!==Ls){var i=Ds;Ds|=Es;for(var a=yu();;)try{_u();break}catch(c){vu(t,c)}if(ra(),Ds=i,Os.current=a,Us===Cs)throw n=Vs,pu(t,r),qu(t,r),lu(t),n;if(null===Ls)switch(a=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,i=Us,Ms=null,i){case js:case Cs:throw Error(s(345));case As:Wu(t,2<r?2:r);break;case Ps:if(qu(t,r),i=t.lastSuspendedTime,r===i&&(t.nextKnownPendingLevel=Ou(a)),1073741823===Bs&&10<(a=Ks+Gs-qi())){if(Ws){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,pu(t,r);break}}if(0!==(o=cu(t))&&o!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}t.timeoutHandle=On(xu.bind(null,t),a);break}xu(t);break;case Rs:if(qu(t,r),i=t.lastSuspendedTime,r===i&&(t.nextKnownPendingLevel=Ou(a)),Ws&&(0===(a=t.lastPingedTime)||a>=r)){t.lastPingedTime=r,pu(t,r);break}if(0!==(a=cu(t))&&a!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}if(1073741823!==zs?i=10*(1073741821-zs)-qi():1073741823===Bs?i=0:(i=10*(1073741821-Bs)-5e3,a=qi(),r=10*(1073741821-r)-a,0>(i=a-i)&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ws(i/1960))-i,r<i&&(i=r)),10<i){t.timeoutHandle=On(xu.bind(null,t),i);break}xu(t);break;case Ns:if(1073741823!==Bs&&null!==qs){o=Bs;var u=qs;if(0>=(i=0|u.busyMinDurationMs)?i=0:(a=0|u.busyDelayMs,o=qi()-(10*(1073741821-o)-(0|u.timeoutMs||5e3)),i=o<=a?0:a+i-o),10<i){qu(t,r),t.timeoutHandle=On(xu.bind(null,t),i);break}}xu(t);break;default:throw Error(s(329))}if(lu(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-qi()}),e.callbackNode=t}}}function hu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Ds&(Es|Is))!==Ts)throw Error(s(327));if(Su(),e===Ms&&t===Fs||pu(e,t),null!==Ls){var n=Ds;Ds|=Es;for(var r=yu();;)try{bu();break}catch(i){vu(e,i)}if(ra(),Ds=n,Os.current=r,Us===Cs)throw n=Vs,pu(e,t),qu(e,t),lu(e),n;if(null!==Ls)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ms=null,xu(e),lu(e)}return null}function fu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{(Ds=n)===Ts&&$i()}}function du(e,t){var n=Ds;Ds&=-2,Ds|=Ss;try{return e(t)}finally{(Ds=n)===Ts&&$i()}}function pu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Ma(),fi(yi),fi(vi);break;case 5:Fa(r);break;case 4:Ma();break;case 13:case 19:fi(Ua);break;case 10:ia(r)}n=n.return}Ms=e,Ls=Mu(e.current,null),Fs=t,Us=js,Vs=null,zs=Bs=1073741823,qs=null,Hs=0,Ws=!1}function vu(e,t){for(;;){try{if(ra(),za.current=_o,Ya)for(var n=Wa.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Ha=0,Ga=Ka=Wa=null,Ya=!1,null===Ls||null===Ls.return)return Us=Cs,Vs=t,Ls=null;e:{var a=e,o=Ls.return,s=Ls,u=t;if(t=Fs,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===r(u)&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Ua.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var y=f.updateQueue;if(null===y){var m=new Set;m.add(c),f.updateQueue=m}else y.add(c);if(0===(2&f.mode)){if(f.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ha(1073741823,null);g.tag=2,fa(s,g)}s.expirationTime=1073741823;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new gs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=Cu.bind(null,a,c,s);c.then(_,_)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(s))}Us!==Ns&&(Us=As),u=rs(u,s),f=o;do{switch(f.tag){case 3:c=u,f.effectTag|=4096,f.expirationTime=t,da(f,bs(f,c,t));break e;case 1:c=u;var k=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qs||!Qs.has(w)))){f.effectTag|=4096,f.expirationTime=t,da(f,_s(f,c,t));break e}}f=f.return}while(null!==f)}Ls=wu(Ls)}catch(O){t=O;continue}break}}function yu(){var e=Os.current;return Os.current=_o,null===e?_o:e}function mu(e,t){e<Bs&&2<e&&(Bs=e),null!==t&&e<zs&&2<e&&(zs=e,qs=t)}function gu(e){e>Hs&&(Hs=e)}function bu(){for(;null!==Ls;)Ls=ku(Ls)}function _u(){for(;null!==Ls&&!Li();)Ls=ku(Ls)}function ku(e){var t=ks(e.alternate,e,Fs);return e.memoizedProps=e.pendingProps,null===t&&(t=wu(e)),xs.current=null,t}function wu(e){Ls=e;do{var t=Ls.alternate;if(e=Ls.return,0===(2048&Ls.effectTag)){if(t=ts(t,Ls,Fs),1===Fs||1!==Ls.childExpirationTime){for(var n=0,r=Ls.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ls.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ls.firstEffect),null!==Ls.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ls.firstEffect),e.lastEffect=Ls.lastEffect),1<Ls.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ls:e.firstEffect=Ls,e.lastEffect=Ls))}else{if(null!==(t=ns(Ls)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ls.sibling))return t;Ls=e}while(null!==Ls);return Us===js&&(Us=Ns),null}function Ou(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function xu(e){var t=Hi();return Ki(99,function(e,t){do{Su()}while(null!==Js);if((Ds&(Es|Is))!==Ts)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Ou(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ms&&(Ls=Ms=null,Fs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Ds;Ds|=Is,xs.current=null,bn=Yt;var o=dn();if(pn(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{var c=(u=(u=o.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(S){u=null;break e}var f=0,d=-1,p=-1,v=0,y=0,m=o,g=null;t:for(;;){for(var b;m!==u||0!==l&&3!==m.nodeType||(d=f+l),m!==h||0!==c&&3!==m.nodeType||(p=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===o)break t;if(g===u&&++v===l&&(d=f),g===h&&++y===c&&(p=f),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;_n={activeElementDetached:null,focusedElem:o,selectionRange:u},Yt=!1,Ys=i;do{try{Tu()}catch(S){if(null===Ys)throw Error(s(330));ju(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=i;do{try{for(o=e,u=t;null!==Ys;){var _=Ys.effectTag;if(16&_&&ze(Ys.stateNode,""),128&_){var k=Ys.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:ps(Ys),Ys.effectTag&=-3;break;case 6:ps(Ys),Ys.effectTag&=-3,ys(Ys.alternate,Ys);break;case 1024:Ys.effectTag&=-1025;break;case 1028:Ys.effectTag&=-1025,ys(Ys.alternate,Ys);break;case 4:ys(Ys.alternate,Ys);break;case 8:vs(o,l=Ys,u),fs(l)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(s(330));ju(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(w=_n,k=dn(),_=w.focusedElem,u=w.selectionRange,k!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==u&&pn(_)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in _?(_.selectionStart=k,_.selectionEnd=Math.min(w,_.value.length)):(w=(k=_.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,o=Math.min(u.start,l),u=void 0===u.end?o:Math.min(u.end,l),!w.extend&&o>u&&(l=u,u=o,o=l),l=fn(_,o),h=fn(_,u),l&&h&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((k=k.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),o>u?(w.addRange(k),w.extend(h.node,h.offset)):(k.setEnd(h.node,h.offset),w.addRange(k))))),k=[];for(w=_;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<k.length;_++)(w=k[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!bn,_n=bn=null,e.current=n,Ys=i;do{try{for(_=e;null!==Ys;){var O=Ys.effectTag;if(36&O&&ls(_,Ys.alternate,Ys),128&O){k=void 0;var x=Ys.ref;if(null!==x){var T=Ys.stateNode;switch(Ys.tag){case 5:k=T;break;default:k=T}"function"===typeof x?x(k):x.current=k}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(s(330));ju(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ds=a}else e.current=n;if(Xs)Xs=!1,Js=e,eu=t;else for(Ys=i;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,Ys=t;if(0===(t=e.firstPendingTime)&&(Qs=null),1073741823===t?e===ru?nu++:(nu=0,ru=e):nu=0,"function"===typeof Au&&Au(n.stateNode,r),lu(e),$s)throw $s=!1,e=Zs,Zs=null,e;return(Ds&Ss)!==Ts?null:($i(),null)}.bind(null,e,t)),null}function Tu(){for(;null!==Ys;){var e=Ys.effectTag;0!==(256&e)&&ss(Ys.alternate,Ys),0===(512&e)||Xs||(Xs=!0,Gi(97,function(){return Su(),null})),Ys=Ys.nextEffect}}function Su(){if(90!==eu){var e=97<eu?97:eu;return eu=90,Ki(e,Eu)}}function Eu(){if(null===Js)return!1;var e=Js;if(Js=null,(Ds&(Es|Is))!==Ts)throw Error(s(331));var t=Ds;for(Ds|=Is,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:us(5,n),cs(5,n)}}catch(r){if(null===e)throw Error(s(330));ju(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ds=t,$i(),!0}function Iu(e,t,n){fa(e,t=bs(e,t=rs(n,t),1073741823)),null!==(e=uu(e,1073741823))&&lu(e)}function ju(e,t){if(3===e.tag)Iu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Iu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){fa(n,e=_s(n,e=rs(t,e),1073741823)),null!==(n=uu(n,1073741823))&&lu(n);break}}n=n.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ms===e&&Fs===n?Us===Rs||Us===Ps&&1073741823===Bs&&qi()-Ks<Gs?pu(e,Fs):Ws=!0:zu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,lu(e)))}ks=function(e,t,n){var i=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||yi.current)No=!0;else{if(i<n){switch(No=!1,t.tag){case 3:qo(t),Po();break;case 5:if(La(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&Oi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,a=t.type._context,di(Ji,a._currentValue),a._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?$o(e,t,n):(di(Ua,1&Ua.current),null!==(t=Jo(e,t,n))?t.sibling:null);di(Ua,1&Ua.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return Xo(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),di(Ua,Ua.current),!i)return null}return Jo(e,t,n)}No=!1}}else No=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=gi(t,vi.current),oa(t,n),a=Qa(null,t,i,e,a,n),t.effectTag|=1,"object"===r(a)&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(i)){var o=!0;Oi(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ca(t);var u=i.getDerivedStateFromProps;"function"===typeof u&&ga(t,i,u,e),a.updater=ba,t.stateNode=a,a._reactInternalFiber=t,Oa(t,i,e,n),t=zo(null,t,i,!0,o,n)}else t.tag=0,Do(null,t,a,n),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,o=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===fe)return 14}return 2}(a),e=Xi(a,e),o){case 0:t=Vo(null,t,a,e,n);break e;case 1:t=Bo(null,t,a,e,n);break e;case 11:t=Mo(null,t,a,e,n);break e;case 14:t=Lo(null,t,a,Xi(a.type,e),i,n);break e}throw Error(s(306,a,""))}return t;case 0:return i=t.type,a=t.pendingProps,Vo(e,t,i,a=t.elementType===i?a:Xi(i,a),n);case 1:return i=t.type,a=t.pendingProps,Bo(e,t,i,a=t.elementType===i?a:Xi(i,a),n);case 3:if(qo(t),i=t.updateQueue,null===e||null===i)throw Error(s(282));if(i=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,la(e,t),pa(t,i,null,n),(i=t.memoizedState.element)===a)Po(),t=Jo(e,t,n);else{if((a=t.stateNode.hydrate)&&(To=Tn(t.stateNode.containerInfo.firstChild),xo=t,a=So=!0),a)for(n=ja(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Do(e,t,i,n),Po();t=t.child}return t;case 5:return La(t),null===e&&jo(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,wn(i,a)?u=null:null!==o&&wn(i,o)&&(t.effectTag|=16),Uo(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Do(e,t,u,n),t=t.child),t;case 6:return null===e&&jo(t),null;case 13:return $o(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ia(t,null,i,n):Do(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,Mo(e,t,i,a=t.elementType===i?a:Xi(i,a),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,a=t.pendingProps,u=t.memoizedProps,o=a.value;var c=t.type._context;if(di(Ji,c._currentValue),c._currentValue=o,null!==u)if(c=u.value,0===(o=Br(c,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(c,o):1073741823))){if(u.children===a.children&&!yi.current){t=Jo(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){u=c.child;for(var h=l.firstContext;null!==h;){if(h.context===i&&0!==(h.observedBits&o)){1===c.tag&&((h=ha(n,null)).tag=2,fa(c,h)),c.expirationTime<n&&(c.expirationTime=n),null!==(h=c.alternate)&&h.expirationTime<n&&(h.expirationTime=n),aa(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}h=h.next}}else u=10===c.tag&&c.type===t.type?null:c.child;if(null!==u)u.return=c;else for(u=c;null!==u;){if(u===t){u=null;break}if(null!==(c=u.sibling)){c.return=u.return,u=c;break}u=u.return}c=u}Do(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=(o=t.pendingProps).children,oa(t,n),i=i(a=sa(a,o.unstable_observedBits)),t.effectTag|=1,Do(e,t,i,n),t.child;case 14:return o=Xi(a=t.type,t.pendingProps),Lo(e,t,a,o=Xi(a.type,o),i,n);case 15:return Fo(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Xi(i,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(i)?(e=!0,Oi(t)):e=!1,oa(t,n),ka(t,i,a),Oa(t,i,a,n),zo(null,t,i,!0,e,n);case 19:return Xo(e,t,n)}throw Error(s(156,t.tag))};var Au=null,Pu=null;function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nu(e,t,n,r){return new Ru(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,i,a,o){var u=2;if(i=e,"function"===typeof e)Du(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case re:return Fu(n.children,a,o,t);case ue:u=8,a|=7;break;case ie:u=8,a|=1;break;case ae:return(e=Nu(12,n,t,8|a)).elementType=ae,e.type=ae,e.expirationTime=o,e;case le:return(e=Nu(13,n,t,a)).type=le,e.elementType=le,e.expirationTime=o,e;case he:return(e=Nu(19,n,t,a)).elementType=he,e.expirationTime=o,e;default:if("object"===r(e)&&null!==e)switch(e.$$typeof){case oe:u=10;break e;case se:u=9;break e;case ce:u=11;break e;case fe:u=14;break e;case de:u=16,i=null;break e;case pe:u=22;break e}throw Error(s(130,null==e?e:r(e),""))}return(t=Nu(u,n,t,a)).elementType=e,t.type=i,t.expirationTime=o,t}function Fu(e,t,n,r){return(e=Nu(7,e,r,t)).expirationTime=n,e}function Uu(e,t,n){return(e=Nu(6,e,null,t)).expirationTime=n,e}function Vu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function qu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Hu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Wu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ku(e,t,n,r){var i=t.current,a=au(),o=ya.suspense;a=ou(a,i,o);e:if(n){t:{if(tt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=wi(n,c,u);break e}}n=u}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=ha(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),su(i,a),a}function Gu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function $u(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Zu(e,t,n){var r=new Bu(e,t,n=null!=n&&!0===n.hydrate),i=Nu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ca(i),e[Cn]=r.current,n&&0!==t&&function(e,t){var n=et(t);It.forEach(function(e){yt(e,t,n)}),jt.forEach(function(e){yt(e,t,n)})}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Gu(o);s.call(e)}}Ku(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Gu(o);u.call(e)}}du(function(){Ku(t,o,e,i)})}return Gu(o)}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ne,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Zu.prototype.render=function(e){Ku(e,this._internalRoot,null,null)},Zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ku(null,e,null,function(){t[Cn]=null})},mt=function(e){if(13===e.tag){var t=Qi(au(),150,100);su(e,t),$u(e,t)}},gt=function(e){13===e.tag&&(su(e,3),$u(e,3))},bt=function(e){if(13===e.tag){var t=au();su(e,t=ou(t,e,null)),$u(e,t)}},I=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Nn(r);if(!i)throw Error(s(90));we(r),Se(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ce(e,!!n.multiple,t,!1)}},N=fu,D=function(e,t,n,r,i){var a=Ds;Ds|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{(Ds=a)===Ts&&$i()}},M=function(){(Ds&(1|Es|Is))===Ts&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach(function(e,t){Wu(t,e),lu(t)}),$i()}}(),Su())},L=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{(Ds=n)===Ts&&$i()}};var ec={Events:[Pn,Rn,Nn,S,O,Bn,function(e){ot(e,Vn)},P,R,Qt,ct,Su,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Au=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Pu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=it(t))?null:e.stateNode},t.flushSync=function(e,t){if((Ds&(Es|Is))!==Ts)throw Error(s(187));var n=Ds;Ds|=1;try{return Ki(99,e.bind(null,t))}finally{Ds=n,$i()}},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(s(200));return Xu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Qu(t))throw Error(s(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(s(40));return!!e._reactRootContainer&&(du(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0)},t.unstable_batchedUpdates=fu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return Xu(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(72)},function(e,t,n){"use strict";var r,i,a,o,s,u=n(23);if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,v=window.setTimeout,y=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===u(d)&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var b=!1,_=null,k=-1,w=5,O=0;o=function(){return t.unstable_now()>=O},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,T=x.port2;x.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();O=e+w;try{_(!0,e)?T.postMessage(null):(b=!1,_=null)}catch(n){throw T.postMessage(null),n}}else b=!1},r=function(e){_=e,b||(b=!0,T.postMessage(null))},i=function(e,n){k=v(function(){e(t.unstable_now())},n)},a=function(){y(k),k=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<j(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>j(o,n))void 0!==u&&0>j(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>j(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function j(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],P=1,R=null,N=3,D=!1,M=!1,L=!1;function F(e){for(var t=E(A);null!==t;){if(null===t.callback)I(A);else{if(!(t.startTime<=e))break;I(A),t.sortIndex=t.expirationTime,S(C,t)}t=E(A)}}function U(e){if(L=!1,F(e),!M)if(null!==E(C))M=!0,r(V);else{var t=E(A);null!==t&&i(U,t.startTime-e)}}function V(e,n){M=!1,L&&(L=!1,a()),D=!0;var r=N;try{for(F(n),R=E(C);null!==R&&(!(R.expirationTime>n)||e&&!o());){var s=R.callback;if(null!==s){R.callback=null,N=R.priorityLevel;var u=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?R.callback=u:R===E(C)&&I(C),F(n)}else I(C);R=E(C)}if(null!==R)var c=!0;else{var l=E(A);null!==l&&i(U,l.startTime-n),c=!1}return c}finally{R=null,N=r,D=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||D||(M=!0,r(V))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===u(o)&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?s+c:s,o="number"===typeof o.timeout?o.timeout:B(e)}else o=B(e),c=s;return e={id:P++,callback:n,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>s?(e.sortIndex=c,S(A,e),null===E(C)&&e===E(A)&&(L?a():L=!0,i(U,c-s))):(e.sortIndex=o,S(C,e),M||D||(M=!0,r(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=E(C);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},function(e,t,n){"use strict";var r=n(74);function i(){}e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,v=i?Symbol.for("react.suspense"):60113,y=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,b=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,k=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function O(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case f:case d:case s:case c:case u:case v:return e;default:switch(e=e&&e.$$typeof){case h:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function x(e){return O(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=h,t.ContextProvider=l,t.Element=a,t.ForwardRef=p,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=u,t.Suspense=v,t.isAsyncMode=function(e){return x(e)||O(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return O(e)===h},t.isContextProvider=function(e){return O(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return O(e)===p},t.isFragment=function(e){return O(e)===s},t.isLazy=function(e){return O(e)===g},t.isMemo=function(e){return O(e)===m},t.isPortal=function(e){return O(e)===o},t.isProfiler=function(e){return O(e)===c},t.isStrictMode=function(e){return O(e)===u},t.isSuspense=function(e){return O(e)===v},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===c||e===u||e===v||e===y||"object"===r(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===h||e.$$typeof===p||e.$$typeof===_||e.$$typeof===k||e.$$typeof===w||e.$$typeof===b)},t.typeOf=O},function(e,t,n){var r=n(23),i=function(){return this||"object"===("undefined"===typeof self?"undefined":r(self))&&self}()||Function("return this")(),a=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=a&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(77),a)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(s){i.regeneratorRuntime=void 0}},function(e,t,n){(function(e){var t=n(23);!function(n){"use strict";var r,i=Object.prototype,a=i.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l="object"===t(e),h=n.regeneratorRuntime;if(h)l&&(e.exports=h);else{(h=n.regeneratorRuntime=l?e.exports:{}).wrap=k;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={},m={};m[s]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==i&&a.call(b,s)&&(m=b);var _=T.prototype=O.prototype=Object.create(m);x.prototype=_.constructor=T,T.constructor=x,T[c]=x.displayName="GeneratorFunction",h.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},h.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},h.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[u]=function(){return this},h.AsyncIterator=E,h.async=function(e,t,n,r){var i=new E(k(e,t,n,r));return h.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},h.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},h.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function k(e,t,n,r){var i=t&&t.prototype instanceof O?t:O,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=w(e,t,n);if("normal"===u.type){if(r=n.done?v:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=v,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function O(){}function x(){}function T(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var n;this._invoke=function(r,i){function o(){return new Promise(function(n,o){!function n(r,i,o,s){var u=w(e[r],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===t(l)&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):Promise.resolve(l).then(function(e){c.value=e,o(c)},function(e){return n("throw",e,o,s)})}s(u.arg)}(r,i,n,o)})}return n=n?n.then(o,o):o()}}function I(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,I(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=w(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,y;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,y):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:r,done:!0}}}(function(){return this||"object"===("undefined"===typeof self?"undefined":t(self))&&self}()||Function("return this")())}).call(this,n(51)(e))},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(1),a=n(4),o=n(5),s=n(26),u=n(11),c=n(18),l=n(3),h="@firebase/auth-compat",f="0.2.16",d=1e3;function p(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.t)();return!("file:"!==p()&&"ionic:"!==p()&&"capacitor:"!==p()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.t)();return Object(l.z)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.t)();return/Edge\/\d+/.test(e)}(e)}function m(){try{var e=self.localStorage,t=u.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!y()||Object(l.A)()}catch(n){return g()&&Object(l.A)()}return!1}function g(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function b(){return("http:"===p()||"https:"===p()||Object(l.w)()||v())&&!(Object(l.E)()||Object(l.C)())&&m()&&!g()}function _(){return v()&&"undefined"!==typeof document}function k(){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){e(!1)},d);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var O={LOCAL:"local",NONE:"none",SESSION:"session"},x=u.p,T="persistence";function S(e,t){x(Object.values(O).includes(t),e,"invalid-persistence-type"),Object(l.E)()?x(t!==O.SESSION,e,"unsupported-persistence-type"):Object(l.C)()?x(t===O.NONE,e,"unsupported-persistence-type"):g()?x(t===O.NONE||t===O.LOCAL&&Object(l.A)(),e,"unsupported-persistence-type"):x(t===O.NONE||m(),e,"unsupported-persistence-type")}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=j(),i=u.w(T,t.config.apiKey,t.name),n&&n.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function j(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var C=u.p,A=function(){function e(){Object(i.a)(this,e),this.browserResolver=u.t(u.A),this.cordovaResolver=u.t(u.F),this.underlyingResolver=null,this._redirectPersistence=u.B,this._completeRedirectFn=u.u,this._overrideRedirectResult=u.v}var t,n,s,c;return Object(a.a)(e,[{key:"_initialize",value:(c=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"_openPopup",value:(s=Object(o.a)(r.a.mark(function e(t,n,i,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,a));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return s.apply(this,arguments)})},{key:"_openRedirect",value:(n=Object(o.a)(r.a.mark(function e(t,n,i,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,a));case 3:case"end":return e.stop()}},e,this)})),function(e,t,r,i){return n.apply(this,arguments)})},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"selectUnderlyingResolver",value:(t=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_shouldInitProactively",get:function(){return _()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return C(this.underlyingResolver,"internal-error"),this.underlyingResolver}}]),e}();function P(e){return e.unwrap()}function R(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return u.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===u.k.PASSWORD)return null;switch(r){case u.k.GOOGLE:n=u.f;break;case u.k.FACEBOOK:n=u.d;break;case u.k.GITHUB:n=u.e;break;case u.k.TWITTER:n=u.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,c=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?u.m._create(r,s):u.g._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new u.h(r).credential({idToken:i,accessToken:a,rawNonce:c}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function N(e,t){return t.catch(function(t){throw t instanceof l.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new L(e,u.K(e,t));else if(r){var i=R(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,R(t)),additionalUserInfo:u.J(e),user:F.getOrCreate(r)}})}function D(e,t){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(r.a.mark(function e(t,n){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return N(t,i.confirm(e))}});case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var L=function(){function e(t,n){Object(i.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(a.a)(e,[{key:"resolveSignIn",value:function(e){return N(P(this.auth),this.resolver.resolveSignIn(e))}},{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}}]),e}(),F=function(){function e(t){Object(i.a)(this,e),this._delegate=t,this.multiFactor=u.T(t)}var t,n,s,c,l,h,f;return Object(a.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:(f=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.P(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"linkWithPhoneNumber",value:(h=Object(o.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,u.Q(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"linkWithPopup",value:(l=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.R(this._delegate,t,A)));case 1:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"linkWithRedirect",value:(c=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(u.q(this.auth));case 2:return e.abrupt("return",u.S(this._delegate,t,A));case 3:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:(s=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.U(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return D(this.auth,u.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return N(this.auth,u.W(this._delegate,e,A))}},{key:"reauthenticateWithRedirect",value:(n=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(u.q(this.auth));case 2:return e.abrupt("return",u.X(this._delegate,t,A));case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"sendEmailVerification",value:function(e){return u.Y(this._delegate,e)}},{key:"unlink",value:(t=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.jb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"updateEmail",value:function(e){return u.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return u.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return u.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return u.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return u.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();F.USER_MAP=new WeakMap;var U=u.p,V=function(){function e(t,n){if(Object(i.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;U(r,"invalid-api-key",{appName:t.name}),U(r,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?A:void 0;this._delegate=n.initialize({options:{persistence:function(e,t){var n=function(e,t){var n=j();if(!n)return[];var r=u.w(T,e,t);switch(n.getItem(r)){case O.NONE:return[u.M];case O.LOCAL:return[u.N,u.B];case O.SESSION:return[u.B];default:return[]}}(e,t);"undefined"===typeof self||n.includes(u.N)||n.push(u.N);if("undefined"!==typeof window)for(var r=[u.z,u.B],i=0;i<r.length;i++){var a=r[i];n.includes(a)||n.push(a)}n.includes(u.M)||n.push(u.M);return n}(r,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(u.H),this.linkUnderlyingAuth()}var t,n,s,c,l;return Object(a.a)(e,[{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return u.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return u.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return u.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:(l=Object(o.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this._delegate,u.G(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return u.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return u.O(this._delegate,e)}},{key:"getRedirectResult",value:(c=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,u.L(this._delegate,A);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",N(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"addFrameworkForLogging",value:function(e){u.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=B(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=B(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return u.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return u.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:(s=Object(o.a)(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S(this._delegate,t),e.t0=t,e.next=e.t0===O.SESSION?4:e.t0===O.LOCAL?6:e.t0===O.NONE?11:13;break;case 4:return n=u.B,e.abrupt("break",14);case 6:return e.next=8,u.t(u.N)._isAvailable();case 8:return i=e.sent,n=i?u.N:u.z,e.abrupt("break",14);case 11:return n=u.M,e.abrupt("break",14);case 13:return e.abrupt("return",u.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return N(this._delegate,u.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return N(this._delegate,u.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return N(this._delegate,u.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return N(this._delegate,u.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return N(this._delegate,u.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return D(this._delegate,u.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:(n=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(b(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",N(this._delegate,u.hb(this._delegate,t,A)));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"signInWithRedirect",value:(t=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,E(this._delegate);case 3:return e.abrupt("return",u.ib(this._delegate,t,A));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return u.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}},{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?F.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}}]),e}();function B(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&F.getOrCreate(e))},error:t,complete:n}}V.Persistence=O;var z=function(){function e(){Object(i.a)(this,e),this.providerId="phone",this._delegate=new u.i(P(s.a.auth()))}return Object(a.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return u.i.credential(e,t)}}]),e}();z.PHONE_SIGN_IN_METHOD=u.i.PHONE_SIGN_IN_METHOD,z.PROVIDER_ID=u.i.PROVIDER_ID;var q,H=u.p,W=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.app();Object(i.a)(this,e),H(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new u.l(t,n,a.auth()),this.type=this._delegate.type}return Object(a.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),K="auth-compat";(q=s.a).INTERNAL.registerComponent(new c.a(K,function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new V(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.a.EMAIL_SIGNIN,PASSWORD_RESET:u.a.PASSWORD_RESET,RECOVER_EMAIL:u.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.a.VERIFY_EMAIL}},EmailAuthProvider:u.c,FacebookAuthProvider:u.d,GithubAuthProvider:u.e,GoogleAuthProvider:u.f,OAuthProvider:u.h,SAMLAuthProvider:u.n,PhoneAuthProvider:z,PhoneMultiFactorGenerator:u.j,RecaptchaVerifier:W,TwitterAuthProvider:u.o,Auth:V,AuthCredential:u.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion(h,f)}).call(this,n(31))},function(e,t,n){"use strict";(function(e){var r=n(80),i=n(81),a=n(82);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){h=!1;break}if(h)return a}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return z(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return _(e,t,n,r)}function w(e,t,n,r){return z(B(t),e,n,r)}function O(e,t,n,r){return z(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128===(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),h=0;h<s;++h)if(c[h]!==l[h]){a=c[h],o=l[h];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=U(e[a]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function A(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,a){return a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,a){return a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:V(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(31))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],o=n[1],s=new a(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),u=0,l=o>0?r-4:r,h=0;h<l;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===o&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[u++]=255&t);1===o&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+h],h+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+h],h+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=c}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(s=0,o=l):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(24),i=n(52),a=n(85),o=n(46);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var u=s(o);u.Axios=a,u.create=function(e){return s(r.merge(o,e))},u.Cancel=n(56),u.CancelToken=n(99),u.isCancel=n(55),u.all=function(e){return Promise.all(e)},u.spread=n(100),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(46),i=n(24),a=n(94),o=n(95);function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(24);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(54);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(24);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))}))}),a=o.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,n){"use strict";var r=n(24),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o):o}},function(e,t,n){"use strict";var r=n(24);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,a=String(e),o="",s=0,u=r;a.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&t>>8-s%1*8)){if((n=a.charCodeAt(s+=.75))>255)throw new i;t=t<<8|n}return o}},function(e,t,n){"use strict";var r=n(24);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(24);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(24),i=n(96),a=n(55),o=n(46),s=n(97),u=n(98);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(24);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(56);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";n(57)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},,function(e,t,n){"use strict";var r=n(8),i=n(2),a=n.n(i),o=n(14),s=n.n(o),u=n(25),c=n.n(u),l=n(41),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?e:t}var d=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!d(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,a=n.to;i?t.replace(a):t.push(a)}},f(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Object(r.a)(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,o="string"===typeof t?Object(l.b)(t,null,null,i.location):t,s=i.createHref(o);return a.a.createElement("a",h({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(a.a.Component);p.propTypes={onClick:s.a.func,target:s.a.string,replace:s.a.bool,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired,innerRef:s.a.oneOfType([s.a.string,s.a.func])},p.defaultProps={replace:!1},p.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired,createHref:s.a.func.isRequired}).isRequired}).isRequired},t.a=p},function(e,t,n){"use strict";var r=n(42);t.a=r.a},function(e,t,n){"use strict";var r=n(8),i=n(27),a=n.n(i),o=n(2),s=n.n(o),u=n(14),c=n.n(u),l=n(41),h=n(25),f=n.n(h),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?e:t}var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props.history.location.pathname)},p(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Object(r.a)(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;f()(null==n||1===s.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){a()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?s.a.Children.only(e):null},t}(s.a.Component);v.propTypes={history:c.a.object.isRequired,children:c.a.node},v.contextTypes={router:c.a.object},v.childContextTypes={router:c.a.object.isRequired};var y=v;function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?e:t}var g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.history=Object(l.a)(r.props),m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Object(r.a)(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return s.a.createElement(y,{history:this.history,children:this.props.children})},t}(s.a.Component);g.propTypes={basename:c.a.string,forceRefresh:c.a.bool,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node};t.a=g},function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(14),o=n.n(a),s=n(64),u=n.n(s),c=n(42),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var h=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return i.a.createElement(c.a,{children:function(t){return i.a.createElement(e,l({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:o.a.func},u()(t,e)};t.a=h}]]);
//# sourceMappingURL=1.4799bedc.chunk.js.map